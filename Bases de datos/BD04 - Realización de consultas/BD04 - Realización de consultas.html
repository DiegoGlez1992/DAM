<!DOCTYPE html>
<!-- saved from url=(0124)https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>DAM_BD04_Contenido_CIDEAD</title>
<link rel="shortcut icon" href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/favicon.ico" type="image/x-icon">
<meta name="author" content="Ministerio de Educación">
<meta name="generator" content="eXeLearning 2.5 - exelearning.net">
<meta name="description" content="DAM_BD02_Contenido_CIDEAD">
<link rel="stylesheet" type="text/css" href="./BD04 - Realización de consultas_files/base.css">
<link rel="stylesheet" type="text/css" href="./BD04 - Realización de consultas_files/exe_lightbox.css">
<link rel="stylesheet" type="text/css" href="./BD04 - Realización de consultas_files/exe_highlighter.css">
<link rel="stylesheet" type="text/css" href="./BD04 - Realización de consultas_files/content.css">
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="./BD04 - Realización de consultas_files/exe_jquery.js.descarga"></script>
<script type="text/javascript" src="./BD04 - Realización de consultas_files/exe_lightbox.js.descarga"></script>
<script type="text/javascript" src="./BD04 - Realización de consultas_files/exe_highlighter.js.descarga"></script>
<script type="text/javascript" src="./BD04 - Realización de consultas_files/common_i18n.js.descarga"></script>
<script type="text/javascript" src="./BD04 - Realización de consultas_files/common.js.descarga"></script>
<meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript" src="./BD04 - Realización de consultas_files/exe_tooltips.js.descarga"></script><link type="text/css" rel="stylesheet" href="./BD04 - Realización de consultas_files/jquery.qtip.min.css"><script type="text/javascript" src="./BD04 - Realización de consultas_files/jquery.qtip.min.js.descarga"></script><script type="text/javascript" src="./BD04 - Realización de consultas_files/imagesloaded.pkg.min.js.descarga"></script></head>
<body class="exe-single-page js travelclub-common-loaded"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<header id="header" role="banner">
<div id="headerContent">
<h1>DAM_BD04_Contenido_CIDEAD</h1>
</div>
</header>
<section id="main" role="main">
<article class="node level-1-node" id="exe-node-0">
<header class="nodeDecoration">
<h1 id="exenode_0_Realizacindeconsultas" class="nodeTitle">Realización de consultas.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id1-0">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta1_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-left license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" alt="Ana" title="Ana" class="elemento_izquierda" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p align="justify"><br>Una de las cosas más importantes que ofrece una base de datos es la opción de poder consultar,&nbsp; de múltiples formas, los datos que guarda, por eso Ana y Juan van a intentar sacar el máximo partido a las tablas que han guardado y sobre ellas van a obtener toda aquella información que su cliente les ha solicitado. Sabemos que dependiendo de quién consulte la base de datos, se debe ofrecer un tipo de información u otra. Es por esto que deben crear distintas consultas y vistas.</p>
<p align="justify">Ana sabe que existen muchos tipos de operadores con los que puede "jugar" para crear consultas y también tiene la posibilidad de crear campos nuevos donde podrán hacer cálculos e incluso trabajar con varias tablas relacionadas a la vez.</p>
<p align="justify">Actualmente están con una base de datos en la que se ha almacenado información sobre los <strong>empleados</strong> de la empresa que tiene la página de juegos <span lang="en">online</span>, los <strong>departamentos</strong> en los que trabajan y los <strong>estudios</strong> de sus empleados. Se está guardando el <strong>historial laboral y salarial</strong> de todos los empleados. Ya que tienen una base de datos para sus clientes, han visto que también sería conveniente tener registrada esta otra información interna de la empresa.</p>
<p align="justify">De este modo pueden llevar un control más exhaustivo de sus empleados, salario y especialización. Podrán conocer cuánto pagan en sueldos, que departamento es el que posee mayor número de empleados, el salario medio, etc. Para obtener esta información necesitarán consultar la base utilizando principalmente el comando <code>SELECT.</code></p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id90-0">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta90_70" class="block iDevice_content">
<figure class="exe-figure exe-image position-center license-pd" style="width: 281px;"><img src="./BD04 - Realización de consultas_files/ministerio-de-educacion-y-formacion-profesional-web.jpg" alt="Ilustración del logotipo del Ministerio de Educación y Formación Profesional." title="Logotipo del Ministerio de Educación y Formación Profesional." width="281" height="69" hspace="auto" style="display: block; margin-left: auto; margin-right: auto;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación y Formación Profesional.</a> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></figcaption>
</figure>
<p style="text-align: center;"><span style="font-size: 13.5pt; color: #000000;"><strong>Materiales formativos de FP Online propiedad del Ministerio de Educación y Formación Profesional.</strong></span><br><a href="http://www.educacionyfp.gob.es/fpadistancia/comunes/aviso-legal-materiales.html" title="Acceder a la web sobre Aviso Legal">Aviso Legal</a></p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-1">
<header class="nodeDecoration">
<h1 id="exenode_1_1Introduccin" class="nodeTitle">1.- Introducción.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id2-1">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta2_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R02_SALARIO.jpg" alt="Mano que muestra unas monedas y hace referencia al caso práctico donde se habla de salario." title="Mano con monedas." class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><a href="http://recursostic.educacion.es/bancoimagenes/web/index.php?p=ampliada&amp;id=111532&amp;pos" target="_blank" class="author" title="Acceder a la web de la imagen" rel="noopener">IdITE=111532_im_1.jpg</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p align="justify"></p>
<p align="justify"><br>Juan quiere comenzar con consultas básicas a los datos, cosas bastante concretas y sencillas de manera que se obtenga información relevante de cada una de las tablas. También quieren realizar algunos cálculos como conocer el salario medio de cada empleado, o el mayor salario de cada departamento, o saber cuánto tiempo lleva cada empleado en la empresa.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id3-1">
<div class="iDevice emphasis0">
<div id="ta3_73" class="block iDevice_content">
<p>En unidades anteriores has aprendido que <acronym lang="en" title="Structured Query Language">SQL</acronym> es un conjunto de sentencias u órdenes que se necesitan para acceder a los datos. Este lenguaje es utilizado por la mayoría de las aplicaciones donde se trabaja con datos para acceder a ellos, crearlos, y actualizarlos.&nbsp; Es decir, es la vía de comunicación entre el usuario y la base de datos.</p>
<p>SQL nació a partir de la publicación <span lang="en">"<span lang="en">A relational model of data for large shared data banks</span> </span> <span lang="en"></span>" de <span lang="en">Edgar Frank&nbsp;</span><span lang="en">Codd</span>. <acronym lang="en" title="International Business Machines">IBM</acronym> aprovechó el modelo que planteaba Codd para desarrollar un lenguaje acorde con el recién nacido modelo relacional. A este primer lenguaje se le llamó <acronym lang="en" title="Structured English QUEry Language">SEQUEL</acronym> ( <span lang="en">Structured English QUEry Language</span>). Con el tiempo SEQUEL se convirtió en SQL (<span lang="en">Structured Query Language</span>). En 1979, la empresa Relational Software sacó al mercado la primera <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t176ee956-d38a-2aa5-b58c-40585a01b122" id="link176ee956-d38a-2aa5-b58c-40585a01b122" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="0" oldtitle="implementación | " title="">implementación</a> comercial de SQL. Esa empresa es la que hoy conocemos como <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#ta676c4ab-938f-8176-41c3-3f3b8ceac9d8" id="linka676c4ab-938f-8176-41c3-3f3b8ceac9d8" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="1" oldtitle="Oracle Corporation | " title="">Oracle Corporation</a>.</p>
<p>Actualmente SQL sigue siendo el <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#tb7ae41ab-ca80-1e86-046c-371ac18c48b8" id="linkb7ae41ab-ca80-1e86-046c-371ac18c48b8" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="2" oldtitle="estándar  | " title="">estándar </a>en lenguajes de acceso a base de datos relacionales.</p>
<p>En 1992, <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#tc8b03935-5c70-6c4d-55f5-5b07b267fcc2" id="linkc8b03935-5c70-6c4d-55f5-5b07b267fcc2" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="3" oldtitle="ANSI  | " title=""><acronym title="Instituto Nacional de Normalización">ANSI</acronym></a> e <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t80cdb7c9-ad92-dfff-064d-61163ff7acdc" id="link80cdb7c9-ad92-dfff-064d-61163ff7acdc" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="4" oldtitle="ISO | " title=""><acronym title="Organización Internacional para la estandarización.">ISO</acronym></a> completaron la estandarización de SQL y se definieron las sentencias básicas que debía contemplar SQL para que fuera estándar. A este SQL se le denominó ANSI-SQL o SQL92.</p>
<p>Hoy en día todas las bases de datos comerciales cumplen con este estándar, eso sí, cada fabricante añade sus mejoras al lenguaje SQL.</p>
<p></p>
<p align="justify">La primera fase del trabajo con cualquier base de datos comienza con sentencias <acronym title="Data Definition Language.">DDL</acronym> (en español Lenguaje de Definición de Datos), puesto que antes de poder almacenar y recuperar información debimos definir las estructuras donde agrupar la información: las tablas.</p>
<p align="justify">La siguiente fase será manipular los datos, es decir, trabajar con sentencias <acronym lang="en" title="Data Manipulation Language.">DML</acronym> (en español Lenguaje de Manipulación de Datos). Este conjunto de sentencias está orientado a consultas y manejo de datos de los objetos creados. Básicamente consta de cuatro sentencias: <code>SELECT,
    INSERT,
    DELETE</code> y <code>UPDATE</code>. En esta unidad nos centraremos en una de ellas, que es la sentencia para consultas: <code>SELECT</code>.</p>
<p>Las sentencias SQL que se verán a continuación pueden ser escritas y ejecutadas de dos formas:</p>
<figure class="exe-figure exe-image float-left license-copyright" style="width: 200px;"><a href="./BD04 - Realización de consultas_files/BD04_CONT_SQLDEV_P1.png" rel="lightbox" title="Pantalla inicio SQLDeveloper ampliada"><img src="./BD04 - Realización de consultas_files/BD04_CONT_SQLDEV_P1.png" alt="Pantalla de inicio de SQLDeveloper. A la izquierda se muestran las conexiones existentes y a la derecha información diversa" title="Pantalla inicio SQLDeveloper. (Pulsar para ampliar)" width="200" height="107"></a>
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Accede a la web oficial de Oracle  (se abre en una ventana nueva)" rel="noopener">Oracle Corporation</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span> </span></figcaption>
</figure>
<p><strong></strong></p>
<figure class="exe-figure exe-image float-right license-copyright" style="width: 200px;"><a href="./BD04 - Realización de consultas_files/BD04_CONT_SQLDEVELOPER_EDITOR.png" rel="lightbox" title="Editor SQL de SQLDeveloper"><img src="./BD04 - Realización de consultas_files/BD04_CONT_SQLDEVELOPER_EDITOR.png" alt="Hoja de trabajo o Editor de SQL de SQLDeveloper. Sentencia select y ejecución" title="SQLDeveloper. Editor de SQL. (Pulsar para ampliar)" width="200" height="140"></a>
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Accede a la web oficial de Oracle  (se abre en una ventana nueva)" rel="noopener">Oracle Corporation</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)<br><br></span> </span></figcaption>
</figure>
<p><strong style="font-size: 1em;"></strong></p>
<p><strong style="font-size: 1em;"></strong></p>
<p><strong style="font-size: 1em;">Desde el entorno gráfico con SQLDeveloper</strong><span style="font-size: 1em;"> que ya instalaste en unidades anteriores. Accede a SQLDeveloper&nbsp; ejecutando el&nbsp;archivo sqldeveloper.exe. Si no tienes un acceso directo en el escritorio, y no sabes en qué carpeta está, escribe desde el menú de inicio de windows sqldeveloper.exe. Ejecútalo con permiso de Administrador pulsando el botón derecho del ratón y eligiendo esa opción. Abre la conexión para el usuario que creaste y tendrás acceso al editor de SQL para escribir y ejecutar las sentencias pulsando el botón (flecha verde) que aparece en la imagen o con la combinación de teclas.</span> <br><strong style="font-size: 1em;"></strong></p>
<p></p>
<p>&nbsp;</p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<figure class="exe-figure exe-image float-left license-copyright" style="width: 201px;"><a href="./BD04 - Realización de consultas_files/BD04_CONT_SQLPlus.jpg" rel="lightbox" title="Conexión con SQLPlus"><img src="./BD04 - Realización de consultas_files/BD04_CONT_SQLPlus.jpg" alt="Consola de SQLPlus donde solicita el nombre de usuario y contraseña. Se muestra la conexión con el usuario c##nuria y una vez conectado la ejecución del comando show user" title="Conexión con SQLPlus. Pulsar para ampliar" width="201" height="105"></a>
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Accede a la web oficial de Oracle  (se abre en una ventana nueva)" rel="noopener">Oracle Corporation</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span> </span></figcaption>
</figure>
<p><strong></strong></p>
<p><strong>Desde el entorno de SQL*Plus</strong>&nbsp;con el intérprete de comandos de SQL que ofrece Oracle y que puedes encontrar desde el menu de windows: Inicio &gt; Oracle-OraDB18Home1-&gt;&nbsp;SQL Plus.&nbsp;</p>
<p><span style="font-size: 1em;"></span><span style="font-size: 1em;">Para ejecutar cualquiera de las sentencias SQL que aprenderás en los siguientes puntos, simplemente debes escribirla completa, con la misma sintaxis, finalizando con el caracter punto y coma. (;)&nbsp; y pulsar </span> <strong style="font-size: 1em;"> Intro </strong> <span style="font-size: 1em;"> para que se inicie su ejecución.</span>Si optas por trabajar con SQLPlus , el primer paso que debe realizarse para manipular los datos de una determinada tabla, es conectarse utilizando un nombre de usuario con los permisos necesarios para hacer ese tipo de operaciones a la tabla deseada. Como muestra la imagen te pide el nombre usuario y la contraseña. Escribe el usuario que creaste en las unidades anteriores. No olvides que en esta versión el nombre de usuario va precedido de c##.&nbsp;&nbsp;</p>
<p></p>
<p></p>
<p></p>
<div id="t176ee956-d38a-2aa5-b58c-40585a01b122" class="exe-tooltip-text">
<p>Realización de una aplicación, o la ejecución de un plan, idea, modelo científico, diseño, especificación, estándar, algoritmo o política. En ciencias de la computación, consiste en la realización de una especificación técnica o algoritmos como un programa, componente software, u otro sistema de cómputo. Muchas implementaciones son dadas según a una especificación o un estándar</p>
</div>
<div id="ta676c4ab-938f-8176-41c3-3f3b8ceac9d8" class="exe-tooltip-text">
<p>Oracle Corporation es una compañía especializada en el desarrollo de soluciones de nube y locales. Oracle tiene su sede en la localidad californiana de Redwood City, Estados Unidos. Según la clasificación correspondiente al año 2006, ocupa el primer lugar en la categoría de las bases de datos y el séptimo lugar a nivel mundial de las compañías de tecnologías de la información.</p>
</div>
<div id="tb7ae41ab-ca80-1e86-046c-371ac18c48b8" class="exe-tooltip-text">
<p>Modelo a seguir al hacer algo. Son documentos que dan los detalles técnicos y las reglas necesarias para que un producto o tecnología se use correctamente</p>
</div>
<div id="tc8b03935-5c70-6c4d-55f5-5b07b267fcc2" class="exe-tooltip-text">
<p>El Instituto Nacional Estadounidense de Estándares, más conocido como ANSI (por sus siglas en inglés: American National Standards Institute), es una organización sin fines de lucro que supervisa el desarrollo de estándares para productos, servicios, procesos y sistemas en los Estados Unidos.</p>
</div>
<div id="t80cdb7c9-ad92-dfff-064d-61163ff7acdc" class="exe-tooltip-text">
<p>La Organización Internacional de Normalización, también llamada Organización Internacional de Estandarización (originalmente en inglés: International Organization for Standardization, conocida por la abreviación ISO) es una organización para la creación de estándares internacionales compuesta por diversas organizaciones nacionales de normalización.</p>
</div>
<div id="t9a890ef9-d920-7668-49da-d63eebbf903c" class="exe-tooltip-text">
<p>Fichero con extensión SQL que contiene sentencias SQL para ser ejecutadas de forma secuencial, una tras otra, al ejecutarlo</p>
</div>
<div id="tfe20195b-99fd-d931-f268-231f7a4aa125" class="exe-tooltip-text">
<p>Fichero con extensión SQL formado por sentencias SQL que son ejecutadas de forma secuencial en el orden en el que aparecen cuando se ejecuta el script</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id95-1">
<div class="iDevice emphasis_debesconocerfpd">
<header class="iDevice_header" style="background-image:url(icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta95_129" class="block iDevice_content">
<p align="left" style="text-align: justify;">La descripción y contenido de las tablas a las que se hace referencia en los ejemplos de las sentencias a lo largo de la unidad, así como la descripción del Sistema de Información y el DER, las puedes encontrar, al final del Contenido, en el<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#exenode_34_AnexoIBasededatosdeejemploJuegosonline" target="_blank" title="Anexo I. Base de datos de ejemplo (Juegos Online) (se abre en una ventana nueva)" rel="noopener">&nbsp;</a><strong><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#exenode_34_AnexoIBasededatosdeejemploJuegosonline" target="_blank" title="Anexo I. Base de datos de ejemplo (Juegos Online) (se abre en una ventana nueva)" rel="noopener">Anexo I.- Base de datos de ejemplo (Juegos online).</a>&nbsp;</strong>&nbsp;También encontrarás las sentencias de creación de las tablas y.algunos registros de ejemplo con las sentencias de inserción correspondientes. Todo esto te ayudará a entender y comprobar algunos de los ejemplos que van a aparecer a partir de ahora. Puedes seguir los pasos explicados en el Anexo II para crear el usuario y las tablas en tu ordenador.</p>
<p style="text-align: justify;">Ten en cuenta que los campos que se definen pueden ir variando a lo largo de esta y las siguientes unidades ya que se van adaptando a las necesidades de la teoría en la que se presentan. Es por esto que por ejemplo, el tipo de datos que se incluye y su tamaño pueden variar del que aparece en el documento que se anexa.</p>
<p align="left" style="text-align: justify;">Conviene que las tengas a mano. Observa el resultado de pasar del DER al modelo relacional e identifica las claves primarias y ajenas en cada una de las tablas.</p>
<p style="text-align: justify;">Además, durante la unidad se irán presentando ejercicios en el apartado <em>Ejercicios Resueltos</em> para que practiques lo que se expone en cada uno de los apartados de la teoría. Esa es la forma de aprender. Para poder realizarlos vamos a crear las tablas e insertar algunos datos para probar las distintas consultas que crees. A partir de ahora nos referiremos a estos datos como tablas de la aplicación <strong>empresa</strong>.</p>
<p style="text-align: justify;"><strong><span></span></strong><strong><span></span></strong>En el <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#exenode_31_AnexoIICreacinycargadetablasdelaaplicacinempresaenOracle" target="_blank" title="Accede a La descripción y contenido de las tablas a las que se hace referencia en los ejemplos de las sentencias a lo largo de la unidad, así como la descripción del Sistema de Información y el DER , las puedes encontrar, al final del Contenido, en el Anexo I.- Base de datos de ejemplo (Juegos online).  También encontrarás las sentencias de creación de las tablas y.algunos registros de ejemplo con las sentencias de inserción correspondientes. Todo esto te ayudará a entender y comprobar algunos de los ejemplos que van a aparecer a partir de ahora. Puedes seguir los pasos explicados en el Anexo II para crear el usuario y las tablas en tu ordenador.  Ten en cuenta que los campos que se definen pueden ir variando a lo largo de esta y las siguientes unidades ya que se van adaptando a las necesidades de la teoría en la que se presentan. Es por esto que por ejemplo, el tipo de datos que se incluye y su tamaño pueden variar del que aparece en el documento que se anexa.  Conviene que las tengas a mano. Observa el resultado de pasar del DER al modelo relacional e identifica las claves primarias y ajenas en cada una de las tablas.  Además, durante la unidad se irán presentando ejercicios en el apartado Ejercicios Resueltos para que practiques lo que se expone en cada uno de los apartados de la teoría. Esa es la forma de aprender. Para poder realizarlos vamos a crear las tablas e insertar algunos datos para probar las distintas consultas que crees. A partir de ahora nos referiremos a estos datos como tablas de la aplicación empresa.  En el Anexo II.- Creación y carga de tablas de la aplicación empresa en Oracle tienes el script   que lo realiza y los pasos a seguir para ejecutarlo.(se abre en una ventana nueva)" rel="noopener">Anexo II.- Creación y carga de tablas de la aplicación empresa&nbsp;en Oracle&nbsp;</a>tienes el <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#tfe20195b-99fd-d931-f268-231f7a4aa125" id="linkfe20195b-99fd-d931-f268-231f7a4aa125" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="5" oldtitle="Script | " title="">script&nbsp;</a>&nbsp; que lo realiza y los pasos a seguir para ejecutarlo.</p>
<div id="tfe20195b-99fd-d931-f268-231f7a4aa125" class="exe-tooltip-text">
<p>Fichero con extensión SQL formado por sentencias SQL que serán ejecutadas de forma secuencial en el orden en el que aparecen cuando se ejecute el script</p>
</div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id4-1">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-4_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion4_60" class="block question iDevice_content">
<p>
¿Con qué sentencias se definen
las estructuras donde agrupar la información, es decir, las tablas?
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_63">Opción 1</a></label><input type="radio" name="option4_60" id="i4_63" class="exe-radio-option exe-radio-option-0-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_63"><div id="taans4_63" class="block iDevice_content">
DML. 

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_83" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_83">Opción 2</a></label><input type="radio" name="option4_60" id="i4_83" class="exe-radio-option exe-radio-option-1-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_83"><div id="taans4_83" class="block iDevice_content">
DDL. 

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_86" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_86">Opción 3</a></label><input type="radio" name="option4_60" id="i4_86" class="exe-radio-option exe-radio-option-2-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_86"><div id="taans4_86" class="block iDevice_content">
DCL.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b4_60" class="feedback js-hidden">
<div id="taf4_63" class=" iDevice_content">
No, este es el lenguaje que incluye manipulación de datos.

</div>
</section>
<section id="sa1b4_60" class="feedback js-hidden">
<div id="taf4_83" class=" iDevice_content">
Así es, dentro del lenguaje de definición de datos está la creación de tablas.

</div>
</section>
<section id="sa2b4_60" class="feedback js-hidden">
<div id="taf4_86" class=" iDevice_content">
No, deberías haber leído mejor.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_83">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-4_86">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b4_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-2">
<header class="nodeDecoration">
<h1 id="exenode_2_2LasentenciaSELECT" class="nodeTitle">2.- La sentencia SELECT.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id5-2">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta5_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" alt="Ana" title="Ana" class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p align="justify"><strong>Ana</strong> está trabajando con la tabla Partidas, de ahí quiere ver qué información es la más importante, para así crear las consultas más sencillas pero a la vez más frecuentes. Sabe que con SQL y utilizando el comando <code>SELECT</code> puede sacar provecho a los datos contenidos en una tabla.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id6-2">
<div class="iDevice emphasis0">
<div id="ta6_73" class="block iDevice_content">
<p>¿Cómo podemos seleccionar los datos que nos interesen dentro de una base de datos? Para recuperar o seleccionar los datos, de una o varias tablas puedes valerte del lenguaje SQL, para ello utilizarás la sentencia <code>SELECT</code>, que consta de cuatro partes básicas:</p>
<ul class="lista_verificacion">
<li><strong>Cláusula</strong> <code>SELECT</code> seguida de la descripción de lo que se desea ver, es decir, de los nombres de las columnas que quieres que se muestren separadas por comas simples (" , "). Esta parte es obligatoria.</li>
<li><strong>Cláusula</strong> <code>FROM</code> seguida del nombre de la tabla o tablas de las que proceden las columnas de arriba, es decir, de donde vas a extraer los datos. Esta parte también es obligatoria.</li>
<li><strong>Cláusula</strong> <code>WHERE</code> seguida de un criterio de selección o condición. Esta parte es opcional.</li>
<li><strong>Cláusula</strong> <code>ORDER BY</code> seguida por un criterio de ordenación. Esta parte también es opcional.</li>
</ul>
<p>Por tanto, una primera sintaxis quedaría de la siguiente forma:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token operator">|</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">]</span> columna1<span class="token punctuation">,</span> columna2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> tabla1<span class="token punctuation">,</span> tabla2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WHERE</span> condición1<span class="token punctuation">,</span> condición2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> ordenación<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">&nbsp;</span></pre>
<p>Las cláusulas <code>ALL</code> y <code>DISTINCT</code> son opcionales.</p>
<ul class="lista_verificacion">
<li>Si incluyes la cláusula <code>ALL</code> después de <code>SELECT</code>, indicarás que quieres seleccionar todas las filas estén o no repetidas. Es el valor por defecto y no se suele especificar.</li>
<li>Si incluyes la cláusula <code>DISTINCT</code> después de <code>SELECT</code>, se suprimirán aquellas filas del resultado que tengan igual valor que otras.</li>
</ul>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id92-2">
<div class="iDevice emphasis_debesconocerfpd">
<header class="iDevice_header" style="background-image:url(icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Recuerda</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta92_129" class="block iDevice_content">
<p><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">En la especificación de los formatos o sintaxis de las sentencias de cualquier lenguaje de programación hay caracteres que tienen un significado especial y no se escriben en el uso de la sentencia:</span></p>
<ul>
<li class="lista_verificacion"><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">Los corchetes<code> [ ]</code> especifican opcionalidad.&nbsp;</span></li>
<li class="lista_verificacion"><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">La barra vertical <code>|</code> indica que has de elegir uno de los elementos que relaciona.&nbsp;&nbsp;<br></span></li>
<li class="lista_verificacion"><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">Los puntos <code>....</code> indican que puede haber más elementos de ese tipo, es decir que puedes incluir más columnas, más tablas y más condiciones.<br></span></li>
</ul>
<p><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">Así en el formato básico de la sentencia <code>SELECT</code><br><br></span></p>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token operator">|</span> <span class="token keyword">DISTINCT</span> <span class="token punctuation">]</span> columna1<span class="token punctuation">,</span> columna2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> tabla1<span class="token punctuation">,</span> tabla2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WHERE</span> condición1<span class="token punctuation">,</span> condición2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> ordenación<span class="token punctuation">;</span> </code><br><br></pre>
<p><span style="font-size: 12pt; font-family: helvetica, arial, sans-serif;">indica que de forma opcional puedes escribir la cláusula ALL o bien DISTINCT (nunca las dos a la vez ) y que se pueden incluir más columnas, tablas y condiciones.</span></p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id8-2">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-8_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion8_60" class="block question iDevice_content">
<p>
¿Qué se debe indicar a continuación de la cláusula <code>FROM</code>?
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_63">Opción 1</a></label><input type="radio" name="option8_60" id="i8_63" class="exe-radio-option exe-radio-option-0-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_63"><div id="taans8_63" class="block iDevice_content">
Las columnas que queremos seleccionar.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_91" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_91">Opción 2</a></label><input type="radio" name="option8_60" id="i8_91" class="exe-radio-option exe-radio-option-1-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_91"><div id="taans8_91" class="block iDevice_content">
Los criterios con los que filtro la selección. 

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_94" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_94">Opción 3</a></label><input type="radio" name="option8_60" id="i8_94" class="exe-radio-option exe-radio-option-2-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_94"><div id="taans8_94" class="block iDevice_content">
Las tablas de donde se van a extraer los datos.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_97" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_97">Opción 4</a></label><input type="radio" name="option8_60" id="i8_97" class="exe-radio-option exe-radio-option-3-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_97"><div id="taans8_97" class="block iDevice_content">
La ordenación ascendente.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b8_60" class="feedback js-hidden">
<div id="taf8_63" class=" iDevice_content">
No, éstas irían junto a la cláusula <code>SELECT</code>.

</div>
</section>
<section id="sa1b8_60" class="feedback js-hidden">
<div id="taf8_91" class=" iDevice_content">
No, éstos irían con la cláusula <code>WHERE</code>.

</div>
</section>
<section id="sa2b8_60" class="feedback js-hidden">
<div id="taf8_94" class=" iDevice_content">
Así es, Aparecerán todos los nombres de las tablas cuyas columnas estemos seleccionando, separadas por coma.

</div>
</section>
<section id="sa3b8_60" class="feedback js-hidden">
<div id="taf8_97" class=" iDevice_content">
No, el tipo de ordenación aparece junto a la cláusula <code>ORDER BY</code>.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_91">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_94">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-8_97">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa3b8_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-3">
<header class="nodeDecoration">
<h1 id="exenode_3_21ClusulaSELECT" class="nodeTitle">2.1.- Cláusula SELECT.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id9-3">
<div class="iDevice emphasis0">
<div id="ta9_73" class="block iDevice_content">
<p align="left">Ya has visto que a continuación de la sentencia <code>SELECT</code> debemos especificar cada una de las columnas que queremos seleccionar. Además, debemos tener en cuenta lo siguiente:</p>
<ul class="lista_verificacion">
<li>
<p align="left"><strong>Se pueden nombrar</strong>&nbsp;( o calificar) a las columnas anteponiendo el nombre de la tabla de la que proceden, pero esto es opcional&nbsp; solo si no existe el mismo nombre de columna en dos tablas Se realiza anteponiendo el nombre de la tabla a la que pertenece la columna seguida por un punto, es decir,&nbsp; NombreTabla.NombreColumna.&nbsp;</p>
</li>
<li>
<p align="left">Si queremos <strong>incluir todas las columnas</strong> de una tabla podemos utilizar el comodín <strong>asterisco</strong> ("*"). Quedaría así: <code>SELECT *
	FROM NombreTabla;</code></p>
</li>
<li>
<p align="left">También podemos <strong>ponerle alias a los nombres</strong> de las columnas. Cuando se consulta una base de datos, los nombres de las columnas se usan como cabeceras de presentación. Si éste resulta largo, corto o poco descriptivo, podemos usar un alias. Para ello a continuación del nombre de la columna ponemos entre comillas dobles el alias que demos a esa columna. Veamos un ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> F_Nacimiento <span class="token string">"Fecha de Nacimiento"</span> <span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
<p align="left"></p>
</li>
</ul>
<p align="left">También podemos <strong>sustituir el nombre</strong> de las columnas por <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t8ec8f9d2-1879-1c13-15e3-a31c6ee08931" id="link8ec8f9d2-1879-1c13-15e3-a31c6ee08931" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="6" oldtitle="Constante | " title="">constantes</a>, <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t038db5b1-7973-4b9a-f88d-02e351c6740b" id="link038db5b1-7973-4b9a-f88d-02e351c6740b" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="7" oldtitle=" Expresión | " title="">expresiones</a> o <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#tab237af5-6c33-68f1-08d8-3dfcb2f19af3" id="linkab237af5-6c33-68f1-08d8-3dfcb2f19af3" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="8" oldtitle="Función | " title="">funciones</a> SQL. Un ejemplo:</p>
<div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">100</span> <span class="token string">"MiExpresión"</span><span class="token punctuation">,</span> Password <span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
</div>
<div id="t8812eb93-eb97-7a74-ea13-eecda251b05a" class="exe-tooltip-text">
<p>Una constante es un valor que no puede ser alterado/modificado durante la ejecución de un programa, únicamente puede ser leído. Las constantes numéricas son los números, por ej., 5,12,..las de carácter o cadena, van encerradas entre comillas (dobles o simples dependiendo del lenguaje) "Hola"</p>
</div>
<div id="tef2adee3-b6e6-2cf2-0f3d-a321e362a2d8" class="exe-tooltip-text">
<p>En programación, una expresión es una combinación de constantes, variables o funciones, que es interpretada de acuerdo a las normas particulares de precedencia y asociación para un lenguaje de programación en particular. Como en matemáticas, la expresión es su valor evaluado, es decir, la expresión es una representación de ese valor.</p>
</div>
<div id="t58e6e9fa-f7ff-c40f-f9c3-b5c52a5c6cca" class="exe-tooltip-text">
<p>Es un grupo de instrucciones con un objetivo en particular y que se ejecuta al ser llamada desde otra función o procedimiento. Una función puede llamarse múltiples veces e incluso llamarse a sí misma (función recurrente). Las funciones pueden recibir datos desde afuera al ser llamadas a través de los parámetros y deben entregar un resultado. Se diferencian de los procedimientos porque estos no devuelven un resultado.</p>
</div>
<div id="t8ec8f9d2-1879-1c13-15e3-a31c6ee08931" class="exe-tooltip-text">
<p>Cantidad que tiene un valor fijo en un determinado proceso, cálculo, etc.</p>
</div>
<div id="t038db5b1-7973-4b9a-f88d-02e351c6740b" class="exe-tooltip-text">
<p>Combinación de constantes, variables o funciones, que es interpretada (evaluada) de acuerdo a las normas particulares de precedencia y asociación para un lenguaje de programación en particular. Como en matemáticas, la expresión es su valor evaluado, es decir, la expresión es una representación de ese valor.</p>
</div>
<div id="tab237af5-6c33-68f1-08d8-3dfcb2f19af3" class="exe-tooltip-text">
<p>Es un grupo de instrucciones con un objetivo en particular y que se ejecuta al ser llamada desde otra función o procedimiento. Una función puede llamarse múltiples veces e incluso llamarse a sí misma (función recurrente o recursiva). Las funciones pueden recibir datos desde afuera al ser llamadas a través de los parámetros y deben entregar un resultado. Se diferencian de los procedimientos porque estos no devuelven un resultado.</p>
</div>
<div id="tfe20195b-99fd-d931-f268-231f7a4aa125" class="exe-tooltip-text">
<p>Un script SQL es un conjunto de comandos SQL guardados en un archivo con extensión SQL que contiene una o más sentencias SQL o bloques PL / SQL para ser ejecutados de forma secuencial.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id10-3">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta10_47" class="block iDevice_content">
<p>Si quieres conocer algo más sobre esta sentencia y ver algunos ejemplos del uso de <code>SELECT</code> aquí tienes el siguiente enlace:</p>
<p class="enlace_centrado"><a href="https://jorgesanchez.net/manuales/sql/select-basico-sql2016.html" title="Web de Jorge Sánchez donde podemos encontrar un tutorial de SQL. (se abre en una ventana nueva)" target="_blank" rel="noopener">La cláusula <code>SELECT.</code></a></p>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-4">
<header class="nodeDecoration">
<h1 id="exenode_4_22ClusulaFROM" class="nodeTitle">2.2.- Cláusula FROM.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id14-4">
<div class="iDevice emphasis0">
<div id="ta14_73" class="block iDevice_content">
<p>Al realizar la consulta o selección has visto que puedes elegir las columnas que necesites, pero ¿de dónde extraigo la información?</p>
<p>En la sentencia <code>SELECT</code> debemos establecer de dónde se obtienen las columnas que vamos a seleccionar, para ello disponemos en la sintaxis de la cláusula <code>FROM</code>.</p>
<p>Por tanto, en la cláusula <code>FROM</code> <strong>se definen los nombres de las tablas</strong> de las que proceden las columnas.</p>
<p>Si se utiliza más de una, éstas deben aparecer separadas por comas. A este tipo de consulta se denomina <strong>consulta combinada</strong> o <strong><span lang="en">join</span></strong>. Más adelante verás que para que la consulta combinada pueda realizarse, necesitaremos aplicar una condición de combinación a través de una cláusula <code>WHERE</code>.</p>
<p>También puedes añadir el nombre del usuario que es <strong>propietario</strong> de esas tablas, indicándolo de la siguiente manera:</p>
<p><code>USUARIO.TABLA</code></p>
<p>de este modo podemos distinguir entre las tablas de un usuario y otro (ya que esas tablas pueden tener el mismo nombre).</p>
<p>También puedes asociar un alias a las tablas para abreviar, en este caso <strong>no es necesario que lo encierres entre comillas</strong>.</p>
<p>Pongamos varios&nbsp; ejemplos:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> USUARIOS U<span class="token punctuation">;</span></code></pre>
</div>
</div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LOGIN<span class="token punctuation">,</span>NOMBRE<span class="token punctuation">,</span>APELLIDOS <span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p>En los dos ejemplos devuelve todas las filas de la tabla<code> USUARIOS</code>. En el primero muestra todas las columnas y en el segundo solo las columnas<code> LOGIN,NOMBRE y APELLIDOS</code><br><br><br></p>
</div>
<p>&nbsp;</p>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-5">
<header class="nodeDecoration">
<h1 id="exenode_5_23ClusulaWHERE" class="nodeTitle">2.3.- Cláusula WHERE.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id15-5">
<div class="iDevice emphasis0">
<div id="ta15_73" class="block iDevice_content">
<p>¿Podríamos desear seleccionar los datos de una tabla que cumplan una determinada condición? Hasta ahora hemos podido ver la sentencia <code>SELECT</code> para obtener todas o un subconjunto de columnas de una o varias tablas. Pero esta selección afectaba a todas las filas (registros) de la tabla. Si queremos restringir esta selección a un subconjunto de filas debemos especificar una condición que deben cumplir aquellos registros que queremos seleccionar. Para poder hacer esto vamos a utilizar la cláusula <code>WHERE</code>.</p>
<p>A continuación de la palabra <code>WHERE</code> será donde pongamos la condición que han de cumplir las filas para salir como resultado de dicha consulta.</p>
<p>El criterio de búsqueda o condición puede ser más o menos sencillo y para crearlo se pueden <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t6c9a4975-7ff3-a736-08e5-da4475a378aa" id="link6c9a4975-7ff3-a736-08e5-da4475a378aa" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="9" oldtitle="conjugar | " title="">conjugar</a> operadores de diversos tipos, funciones o expresiones más o menos complejas.</p>
<p>Si en nuestra tabla <code>USUARIOS</code>, necesitáramos un listado de los usuarios que son mujeres, bastaría con crear la siguiente consulta:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> apellidos
<span class="token keyword">FROM</span> USUARIOS
<span class="token keyword">WHERE</span> sexo <span class="token operator">=</span> <span class="token string">'M'</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<p>Más adelante te mostraremos los operadores con los que podrás crear condiciones de diverso tipo.</p>
<div id="t6c9a4975-7ff3-a736-08e5-da4475a378aa" class="exe-tooltip-text">
<p>Combinar varias cosas entre sí</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id17-5">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta17_47" class="block iDevice_content">
<p>
Aquí te adelantamos los operadores para que vayas conociéndolos. Con ellos trabajarás cuando hayas adquirido algunos conocimientos más:
</p>
<div class="elemento_centrado">
<p>
<a href="http://www.desarrolloweb.com/articulos/1870.php" title="Página donde se enseñan los distintos operadores y algunos ejemplos de su uso.">Operadores SQL</a>
</p>
</div>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-6">
<header class="nodeDecoration">
<h1 id="exenode_6_24OrdenacinderegistrosClusulaORDERBY" class="nodeTitle">2.4.- Ordenación de registros. Cláusula ORDER BY.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id18-6">
<div class="iDevice emphasis0">
<div id="ta18_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/57437447.png" alt="Personas haciendo cola de forma ordenada." title="Orden." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author"> Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>En la consulta del ejemplo anterior hemos obtenido una lista de los nombres y apellidos de las usuarias de nuestro juego. Sería conveniente que aparecieran ordenadas por apellidos, ya que siempre quedará más profesional además de más práctico. De este modo, si necesitáramos localizar un registro concreto la búsqueda sería más rápida. ¿Cómo lo haremos? Para ello usaremos la cláusula <code>ORDER BY</code>.</p>
<p><code>ORDER BY</code> se utiliza para <strong>especificar el criterio de ordenación</strong> de la respuesta a nuestra consulta. Tendríamos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token operator">|</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">]</span> columna1<span class="token punctuation">,</span> columna2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> tabla1<span class="token punctuation">,</span> tabla2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condición1<span class="token punctuation">,</span> condición2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> columna1 <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columna2 <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">,</span> …<span class="token punctuation">,</span> columnaN <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Después de cada columna de ordenación se puede incluir el tipo de ordenación (ascendente o descendente) utilizando las palabras reservadas <code>ASC</code> o <code>DESC</code>. Por defecto, y si no se pone nada, la ordenación es ascendente.</p>
<p>Debes saber que es <strong>posible ordenar por más de una columna</strong>. Es más, puedes ordenar no solo por columnas sino a través de una expresión creada con columnas, una constante (aunque no tendría mucho sentido) o funciones SQL.</p>
<p>En el siguiente ejemplo, ordenamos por apellidos y, en caso de que sean iguales, por nombre:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> apellidos
<span class="token keyword">FROM</span> USUARIOS
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> apellidos<span class="token punctuation">,</span> nombre<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Puedes colocar el número de orden del campo por el que quieres que se ordene en lugar de su nombre, es decir, referenciar a los campos por su posición en la lista de selección. Por ejemplo, si queremos el resultado del ejemplo anterior ordenado por localidad:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> apellidos<span class="token punctuation">,</span> localidad
<span class="token keyword">FROM</span> usuarios
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token number">3</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Si colocamos un número mayor a la cantidad de campos de la lista de selección, aparece un mensaje de error y la sentencia no se ejecuta.</p>
<p>¿Se puede utilizar cualquier tipo de datos para ordenar? No todos los tipos de campos te servirán para ordenar, únicamente aquellos de tipo <strong>carácter, número o fecha</strong>.</p>
</div>
</div>
</article>
<article class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id19-6">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta19_41" class="block instructions iDevice_content">
<p>
Relaciona cada cláusula de la sentencia <code>SELECT</code> con la información que debe seguirle:
</p>

</section>
<section class="activity" id="activity-19_42">
<form name="cloze-form-19_42" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form cloze-activity-form">
<div id="cloze19_42">
<input type="hidden" name="clozeFlag19_42.strictMarking" id="clozeFlag19_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag19_42.checkCaps" id="clozeFlag19_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag19_42.instantMarking" id="clozeFlag19_42.instantMarking" value="false">

<input type="hidden" name="clozeVar19_42.feedbackId" id="clozeVar19_42.feedbackId" value="ta19_43">

<table class="tabla" summary="Tabla en la que se deben relacionar las distintas cláusulas de la sentencia SELECT con la información que debe aparecer a continuación.">
	<caption>Ejercicio de relacionar</caption>
	<tbody>
		<tr>
			<th scope="col">Cláusula</th>
			<th scope="col">Relación</th>
			<th scope="col">Información que le sigue.</th>
		</tr>
		<tr>
			<td><code>WHERE</code></td>
			<td class="texto_centrado">  
<label for="clozeBlank19_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.0">JXUwMDZj
</span>
  </td>
			<td>1. Ordenación.</td>
		</tr>
		<tr>
			<td><code>ORDER BY</code></td>
			<td class="texto_centrado">  
<label for="clozeBlank19_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.1">JXUwMDY5
</span>
  </td>
			<td>2. Columnas.</td>
		</tr>
		<tr>
			<td><code>FROM</code></td>
			<td class="texto_centrado">  
<label for="clozeBlank19_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.2">JXUwMDZi
</span>
  </td>
			<td>3. Tablas.</td>
		</tr>
		<tr>
			<td><code>SELECT</code></td>
			<td class="texto_centrado">  
<label for="clozeBlank19_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.3">JXUwMDZh
</span>
  </td>
			<td>4. Condiciones.</td>
		</tr>
	</tbody>
</table>

<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit19_42" value="Enviar" id="submit19_42">

<input type="button" name="restart19_42" value="Reiniciar" style="display:none" id="restart19_42" onclick="$exe.cloze.restart(&#39;19_42&#39;)">

 
<input type="button" name="19_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton19_42" onclick="$exe.cloze.fillInputs(&#39;19_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore19_42"></div>
</div>
</form>
</section><section id="ta19_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
La sintaxis de esta sentencia es muy sencilla y fácil de comprender, ¿no crees?

</section>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id21-6">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta21_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b21" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación EMPRESA&nbsp;descargados anteriormente, vamos a realizar una consulta donde obtengamos de la tabla ESTUDIOS, el&nbsp;<acronym title="Documento Nacional de Identidad.">DNI</acronym> de los empleados ordenados por Universidad descendente y año de manera ascendente. La columna año la hemos llamado agno para no utilizar el caracter ñ que no es admitido en la mayor parte de los SGBD.</p>
</section>
<form name="feedback-form-quesFeedback0b21" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b21text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b21" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b21" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> EMPLEADO_DNI
<span class="token keyword">FROM</span> ESTUDIOS
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> UNIVERSIDAD <span class="token keyword">DESC</span><span class="token punctuation">,</span> AGNO<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO2_4.JPG" alt="Muestra el resultado de la ejecución de la consulta" title="Resultado ejecución" width="419" height="241" style="vertical-align: middle; display: block; margin-left: auto; margin-right: auto;"><br><br></pre></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-7">
<header class="nodeDecoration">
<h1 id="exenode_7_3Operadores" class="nodeTitle">3.- Operadores.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id22-7">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta22_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/57437479.png" alt="Dos ejecutivos delante de una mesa con un ordenador trabajan en un proyecto." title="Proyecto" class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>En el proyecto en el que actualmente trabajan <strong>Ana</strong> y <strong>Juan</strong>, tendrán que realizar consultas que cumplan unos criterios concretos, por ejemplo, obtener el número de jugadores que tienen cierto número de créditos o aquellos que son mujeres e incluso conocer el número de usuarios que son de una provincia y además sean hombres.</p>
<p>Para poder realizar este tipo de consultas necesitaremos utilizar operadores que sirvan para crear las expresiones necesarias. <strong>Ana</strong> y <strong>Juan</strong> conocen los 4 tipos de operadores con los que se puede trabajar: relacionales, aritméticos, de concatenación y lógicos.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id23-7">
<div class="iDevice emphasis0">
<div id="ta23_73" class="block iDevice_content">
<p>Veíamos que en la cláusula <code>WHERE</code> podíamos incluir expresiones para filtrar el conjunto de datos que queríamos obtener. Para crear esas expresiones necesitas utilizar distintos operadores de modo que puedas comparar, utilizar la lógica o elegir en función de una suma, resta, etc.</p>
<p>Los operadores son <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t612d863c-a352-2c15-9ba0-21b8ae8aa94b" id="link612d863c-a352-2c15-9ba0-21b8ae8aa94b" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="10" oldtitle="símbolos  | " title="">símbolos </a>que permiten realizar operaciones matemáticas, concatenar cadenas o hacer comparaciones.</p>
<p>Oracle reconoce 4 tipos de operadores:</p>
<ol>
<li>Relacionales o de comparación.</li>
<li>Aritméticos.</li>
<li>De concatenación.</li>
<li>Lógicos.</li>
</ol>
<p>¿Cómo se utilizan y para qué sirven? En los siguientes apartados responderemos a estas cuestiones.</p>
<div id="t612d863c-a352-2c15-9ba0-21b8ae8aa94b" class="exe-tooltip-text">
<p>Es la representación perceptible de una idea, con rasgos asociados por una convención socialmente aceptada</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id24-7">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta24_47" class="block iDevice_content">
<p>
Si quieres conocer un poco más sobre los operadores visita este enlace:
</p>
<div class="elemento_centrado">
<p>
<a href="http://deletesql.com/viewtopic.php?f=5&amp;t=10" title="Acceder a un enlace sobre operadores que aparece en este curso de SQL desde cero.">Operadores.</a>
</p>
</div>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-8">
<header class="nodeDecoration">
<h1 id="exenode_8_31Operadoresdecomparacin" class="nodeTitle">3.1.- Operadores de comparación.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id25-8">
<div class="iDevice emphasis0">
<div id="ta25_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/BU004844.png" alt="Una mujer delante de una pizarra en la que hay dibujado gráficos explica a un grupo de personas que atienden." title="Operaciones y funciones." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Llamados operadores&nbsp;&nbsp;<strong>relacionales </strong>en informática, nos <strong>permitirán comparar expresiones</strong>, que pueden ser valores concretos de campos, variables, etc.</p>
<p>Los operadores de comparación son símbolos que se usan como su nombre indica para comparar dos valores. Si el resultado de la comparación es correcto la expresión considerada es verdadera, en caso contrario es falsa.</p>
<p>Tenemos los siguientes operadores y su operación:</p>
<div style="clear: both;"></div>
<p>&nbsp;</p>
<table class="tabla" summary="En esta tabla se muestran, a dos columnas, los operadores de comparación más comunes y su significado o utilidad."><caption>Operadores y su significado.</caption>
<thead>
<tr>
<th scope="col">OPERADOR</th>
<th scope="col">SIGNIFICADO</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>Igualdad.</td>
</tr>
<tr>
<td><code>!=, &lt; &gt;, ^= </code></td>
<td>Desigualdad. Distinto</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>&lt;</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>Mayor que.</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>Menor o igual que.</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>Mayor o igual que.</td>
</tr>
<tr>
<td><code>IN</code></td>
<td>Igual que cualquiera de los miembros entre paréntesis.</td>
</tr>
<tr>
<td><code>NOT IN</code></td>
<td>Distinto que cualquiera de los miembros entre paréntesis.</td>
</tr>
<tr>
<td><code>BETWEEN</code></td>
<td>Entre. Contenido dentro del rango.</td>
</tr>
<tr>
<td><code>NOT BETWEEN</code></td>
<td>Fuera del rango.</td>
</tr>
<tr>
<td><code>LIKE '_abc%'</code></td>
<td>Se utiliza sobre todo con textos y permite obtener columnas cuyo valor en un campo cumpla una condición textual. Utiliza una cadena que puede contener los símbolos "%" que sustituye a un conjunto de caracteres o "_" que sustituye a un carácter.</td>
</tr>
<tr>
<td><code>IS NULL</code></td>
<td>Devuelve verdadero si el valor del campo de la fila que examina es nulo.</td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id26-8">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta26_70" class="block iDevice_content">
<p>
El valor <code>NULL</code> significaba valor inexistente o desconocido y por tanto es tratado de forma distinta a otros valores. Si queremos verificar que un valor es <code>NULL</code> no serán validos los operadores que acabamos de ver. Debemos utilizar los valores <code>IS NULL </code>como se indica en la tabla o <code>IS NOT NULL</code> que devolverá verdadero si el valor del campo de la fila no es nulo. 
</p>
<p>
Además, cuando se utiliza un <code>ORDER BY</code>, los valores <code>NULL</code> se presentarán en primer lugar si se emplea el modo ascendente y al final si se usa el descendente.
</p>

</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id28-8">
<div class="iDevice emphasis0">
<div id="ta28_73" class="block iDevice_content">
<p>Si queremos obtener aquellos empleados cuyo salario es superior a 1000€ podemos crear la siguiente consulta:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre <span class="token keyword">FROM</span> EMPLEADOS <span class="token keyword">WHERE</span> SALARIO <span class="token operator">&gt;</span> <span class="token number">1000</span><span class="token punctuation">;</span>
</code></pre>
</div>
</div>
<p>Ahora queremos aquellos empleados cuyo apellido comienza por R:</p>
<p></p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre <span class="token keyword">FROM</span> EMPLEADOS <span class="token keyword">WHERE</span> APELLIDO1 <span class="token operator">LIKE</span> <span class="token string">'R %'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><br><br></p>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id29-8">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta29_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b29" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación EMPRESA&nbsp;descargados anteriormente, vamos a realizar una consulta donde obtengamos las universidades de Sevilla o Madrid.</p>
</section>
<form name="feedback-form-quesFeedback0b29" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b29text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b29" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b29" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<p><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO3_1.JPG" alt="Ejecución de la sentencia  SELECT UNIV_COD, NOMBRE_UNIV FROM UNIVERSIDADES WHERE CIUDAD IN (&#39;SEVILLA&#39;, &#39;MADRID&#39;); y sus resultados" title="Sentencia Select y resultado" width="699" height="142"></p></section>
</form>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id30-8">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta30_47" class="block iDevice_content">
<p>En el siguiente enlace tienes un completo manual de SQL de Oracle explicado de forma sencilla y preparado para hacer ejercicios online. Te será útil para practicar.</p>
<p style="text-align: center;"><a href="https://www.w3schools.com/sql/sql_where.asp" target="_blank" title="Acceder a la Web de w3schools de SQL Oracle (se abre en una nueva ventana)" rel="noopener">Tutorial SQL Oracle&nbsp;</a></p>
<p style="text-align: justify;"><span>Las&nbsp;<b>expresiones regulares</b>&nbsp;permiten forman un patrón, normalmente representativo de otro grupo de carácteres mayor, para comparar el patrón con otro conjunto de carácteres para ver las coincidencias.Es una herramienta potente para comparar cadenas que cumplan un determinado patrón, por ejemplo para determinar si un email está bien compuesto. En el siguiente enlace tienes toda la información con ejemplos.</span></p>
<p style="text-align: center;"><span>&nbsp; <a href="https://www.oracle.com/lad/technical-resources/articles/sql/expresiones-regulares-base-de-datos.html#uso-expresiones-regulares" target="_blank" title="Accede a la web de Oracle sobre expresiones regulares (se abre en una ventana nueva)" rel="noopener">Uso de expresiones regulares&nbsp;</a></span></p>
<p>Los operadores que se utilizan en MySQL puedes verlos en el siguiente enlace:</p>
<div class="elemento_centrado">
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/non-typed-operators.html" title="Acceder a un enlace sobre operadores de comparación en MySQL.">Operadores de comparación en MySQL.</a></p>
<p style="text-align: justify;"></p>
</div>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-9">
<header class="nodeDecoration">
<h1 id="exenode_9_32Operadoresaritmticosydeconcatenacin" class="nodeTitle">3.2.- Operadores aritméticos y de concatenación.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id31-9">
<div class="iDevice emphasis0">
<div id="ta31_73" class="block iDevice_content">
<p>Aprendimos que los operadores son símbolos que permiten realizar distintos tipos de operaciones. Los operadores aritméticos permiten realizar cálculos con valores numéricos. Son los siguientes:</p>
<table class="tabla" summary="En la siguiente tabla se muestran, en dos columnas, los operadores aritméticos de uso generalizado y su significado."><caption>Operadores aritméticos y su significado.</caption>
<thead>
<tr>
<th scope="col">OPERADOR</th>
<th scope="col">SIGNIFICADO</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>Suma</td>
</tr>
<tr>
<td><code>-</code></td>
<td>Resta</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Multiplicación</td>
</tr>
<tr>
<td><code>/</code></td>
<td>División</td>
</tr>
</tbody>
</table>
<p>Utilizando expresiones con operadores <strong>es posible obtener</strong> salidas en las cuales <strong>una columna sea el resultado de un cálculo</strong> y no un campo de una tabla.</p>
<p>Mira este ejemplo sobre una tabla TRABAJADORES en el que obtenemos el salario aumentado en un 5 <abbr title="Tanto por ciento.">%</abbr> de aquellos trabajadores que cobran 1000 <abbr title="Euros.">€ o menos.</abbr></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SALARIO<span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">05</span>
<span class="token keyword">FROM</span> TRABAJADORES
<span class="token keyword">WHERE</span> SALARIO<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Cuando una expresión aritmética se calcula sobre valores <code>NULL</code>, el resultado es el propio valor <code>NULL</code>.</p>
<p>Para <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t2e20275f-120e-b515-5052-aca98946155a" id="link2e20275f-120e-b515-5052-aca98946155a" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="11" oldtitle="concatenar | " title="">concatenar</a> cadenas de caracteres existe el operador de concatenación (" || "). Oracle puede convertir automáticamente valores numéricos a cadenas para una concatenación.</p>
<p>En la tabla EMPLEADOS tenemos separados en dos campos el primer y segundo apellido de los empleados, si necesitáramos mostrarlos juntos podríamos crear la siguiente consulta:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> Apellido1 <span class="token operator">||</span> Apellido2
<span class="token keyword">FROM</span> EMPLEADOS<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Podemos poner el alias Apellidos al resultado de la concatenación, para que se utilice como cabecera en la salida. Si queremos dejar un espacio entre un apellido y otro, debemos concatenar también el espacio en blanco de la siguiente manera:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> Apellido1 <span class="token operator">||</span> <span class="token string">' '</span> <span class="token operator">||</span>Apellido2 Apellidos
<span class="token keyword">FROM</span> EMPLEADOS<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<div id="t2e20275f-120e-b515-5052-aca98946155a" class="exe-tooltip-text">
<p>Unir, enlazar, relacionar una cosa con otra</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id32-9">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta32_47" class="block iDevice_content">
<p>Los operadores que se utilizan en MySQL puedes verlos en el siguiente enlace:</p>
<div class="elemento_centrado">
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/non-typed-operators.html" title="Acceder a un enlace sobre operadores aritméticos en MySQL.">Operadores aritméticos en MySQL.</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-11">
<header class="nodeDecoration">
<h1 id="exenode_11_33Operadoreslgicos" class="nodeTitle">3.3.- Operadores lógicos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id33-11">
<div class="iDevice emphasis0">
<div id="ta33_73" class="block iDevice_content">
<p>Habrá ocasiones en las que tengas que evaluar más de una expresión y necesites verificar que se cumple una única condición, otras veces comprobar si se cumple una u otra o ninguna de ellas. Para poder hacer esto utilizaremos los operadores lógicos.</p>
<p>Tenemos los siguientes:</p>
<table class="tabla" summary="En la siguiente tabla, a dos columnas, se muestran los operadores lógicos de uso generalizado y su significado. "><caption>Operadores lógicos y su significado.</caption>
<thead>
<tr>
<th scope="col">OPERADOR</th>
<th scope="col">SIGNIFICADO</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AND</code></td>
<td>Devuelve verdadero si sus expresiones a derecha e izquierda son ambas verdaderas.</td>
</tr>
<tr>
<td><code>OR</code></td>
<td>Devuelve verdadero si alguna de sus expresiones a derecha o izquierda son verdaderas.</td>
</tr>
<tr>
<td><code>NOT</code></td>
<td>Invierte la lógica de la expresión que le precede, si la expresión es verdadera devuelve falsa y si es falsa devuelve verdadera.</td>
</tr>
</tbody>
</table>
<p></p>
<p>Fíjate en los siguientes ejemplos:</p>
<p>Si queremos obtener aquellos empleados en cuyo historial salarial tengan sueldo menor o igual a 800<abbr title="Euros.">€</abbr> o superior a 2000€:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> empleado_dni
<span class="token keyword">FROM</span> HISTORIAL_SALARIAL
<span class="token keyword">WHERE</span> salario <span class="token operator">&lt;=</span><span class="token number">800</span> <span class="token operator">OR</span> salario<span class="token operator">&gt;</span><span class="token number">2000</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id34-11">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta34_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b34" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación EMPRESA descargados anteriormente, vamos a realizar una consulta donde obtengamos todos nombres de trabajos menos el de contable.</p>
</section>
<form name="feedback-form-quesFeedback0b34" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b34text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b34" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b34" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<p>Escribimos la sentencia en SQLDeveloper</p>
<figure class="exe-figure exe-image position-center" style="width: 416px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO3_3.JPG" alt="Ejecución de la sentencia Select en SQLDeveloper" title="Ejecución de la sentencia Select en SQLDeveloper" width="416" height="327">
<figcaption class="figcaption"><span class="author">Ministerio de Educación</span></figcaption>
</figure>
<p></p></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-12">
<header class="nodeDecoration">
<h1 id="exenode_12_34Precedencia" class="nodeTitle">3.4.- Precedencia.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id35-12">
<div class="iDevice emphasis0">
<div id="ta35_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 128px;"><img src="./BD04 - Realización de consultas_files/025.png" alt="Lápices formando un gráfico que desciende." title="De mayor a menor." class="elemento_derecha" width="128" height="200" style="width: 128px; height: 200px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Con frecuencia utilizaremos la sentencia <code>SELECT</code> acompañada de expresiones muy extensas y resultará difícil saber qué parte de dicha expresión se evaluará primero, por ello es conveniente conocer el orden de precedencia que tiene Oracle. En casos de igualdad se evalúa de izquierda a derecha.</p>
<ol>
<li>Se evalúa la multiplicación (*) y la división (/) al mismo nivel</li>
<li>A continuación sumas (+) y restas (-).</li>
<li>Concatenación (| |).</li>
<li>Todas las comparaciones (&lt;, &gt;, …).</li>
<li>Después evaluaremos los operadores <code>IS NULL, IS NOT NULL, LIKE, BETWEEN.</code></li>
<li><code>NOT.</code></li>
<li><code>AND.</code></li>
<li><code>OR.</code></li>
</ol>
<p>Si quisiéramos variar este orden necesitaríamos utilizar paréntesis.</p>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id36-12">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-36_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion36_60" class="block question iDevice_content">
<p><strong>En la siguiente consulta:</strong></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> APELLIDOS
<span class="token keyword">FROM</span> JUGADORES
<span class="token keyword">WHERE</span> APELLIDOS <span class="token operator">LIKE</span> <span class="token string">'A%S%'</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
<p><strong>¿Qué estaríamos seleccionando?</strong></p>
</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_63">Opción 1</a></label><input type="radio" name="option36_60" id="i36_63" class="exe-radio-option exe-radio-option-0-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_63"><div id="taans36_63" class="block iDevice_content">
Aquellos jugadores cuyos apellidos contienen la letra A y la S.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_90" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_90">Opción 2</a></label><input type="radio" name="option36_60" id="i36_90" class="exe-radio-option exe-radio-option-1-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_90"><div id="taans36_90" class="block iDevice_content">
Aquellos jugadores cuyos apellidos comienzan por la letra A y contienen la letra S.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_93" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_93">Opción 3</a></label><input type="radio" name="option36_60" id="i36_93" class="exe-radio-option exe-radio-option-2-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_93"><div id="taans36_93" class="block iDevice_content">
Aquellos jugadores cuyos apellidos no contienen ni la letra A ni la S.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_96" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_96">Opción 4</a></label><input type="radio" name="option36_60" id="i36_96" class="exe-radio-option exe-radio-option-3-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_96"><div id="taans36_96" class="block iDevice_content">
Todos los apellidos de todos los jugadores menos los que su apellido comienza por S.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b36_60" class="feedback js-hidden">
<div id="taf36_63" class=" iDevice_content">
No, pues queremos que la A tenga una posición concreta.

</div>
</section>
<section id="sa1b36_60" class="feedback js-hidden">
<div id="taf36_90" class=" iDevice_content">
<p>Efectivamente. El operador <code>LIKE</code> es unos de los operadores de comparación más utilizados.</p>
</div>
</section>
<section id="sa2b36_60" class="feedback js-hidden">
<div id="taf36_93" class=" iDevice_content">
Todo lo contrario, esas letras son las que estamos buscando.

</div>
</section>
<section id="sa3b36_60" class="feedback js-hidden">
<div id="taf36_96" class=" iDevice_content">
No, creo que no has pensado bien tu respuesta.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_90">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_93">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-36_96">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa3b36_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-13">
<header class="nodeDecoration">
<h1 id="exenode_13_4Consultascalculadas" class="nodeTitle">4.- Consultas calculadas.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id38-13">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta38_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 192px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R08_CASO_PERSONAJES.jpg" alt="Carlos" title="Carlos" class="elemento_derecha" width="192" height="132" style="width: 192px; height: 132px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>A la empresa ha llegado <strong>Carlos</strong> que está en fase de prácticas y como anda un poco desubicado ha comenzado su trabajo revisando la teoría y práctica que han dado en clase. No recuerda bien como se creaban campos nuevos a partir de otros ya existentes en la base de datos. Sabe que es algo sencillo pero no quiere meter la pata ya que está ayudando a <strong>Juan </strong>en un proyecto que acaba de entrar.</p>
<p>Lo que hará será practicar a partir de una tabla que tenga bastantes campos numéricos de manera que pueda manipular la información sin modificar nada.</p>
<p>En clase trabajaban con la tabla ARTICULOS que tenía, entre otros, los campos Precio y Cantidad. A partir de ellos podría realizar consultas calculadas para obtener el precio con <acronym title="Impuesto sobre el Valor Añadido.">IVA</acronym> incluido, un descuento sobre el precio e incluso aumentar ese precio en un porcentaje concreto. Seguro que se pone al día rápidamente.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id39-13">
<div class="iDevice emphasis0">
<div id="ta39_73" class="block iDevice_content">
<p>En algunas ocasiones es interesante realizar operaciones con algunos campos para obtener información derivada de éstos. Si tuviéramos un campo Precio, podría interesarnos calcular el precio incluyendo el IVA o si tuviéramos los campos Sueldo y Paga Extra, podríamos necesitar obtener la suma de los dos campos. Estos son dos ejemplos simples pero podemos construir expresiones mucho más complejas. Para ello haremos uso de la creación de campos calculados.</p>
<p>Los operadores aritméticos se pueden utilizar para hacer cálculos en las consultas.</p>
<p>Estos <strong>campos calculados</strong> se obtienen a través de la sentencia <code>SELECT</code> poniendo a continuación la expresión que queramos. Esta consulta <strong>no modificará los valores originales</strong> de las columnas ni de la tabla de la que se está obteniendo dicha consulta, únicamente mostrará una columna nueva con los valores calculados. Por ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> Credito<span class="token punctuation">,</span> Credito <span class="token operator">+</span> <span class="token number">25</span>
<span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Con esta consulta hemos creado un campo que tendrá como nombre la expresión utilizada. Podemos ponerle un alias a la columna creada añadiéndolo detrás de la expresión junto con la palabra <code>AS</code>. En nuestro ejemplo quedaría de la siguiente forma:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> Credito<span class="token punctuation">,</span> Credito <span class="token operator">+</span> <span class="token number">25</span> <span class="token keyword">AS</span> CreditoNuevo
<span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span> </code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id41-13">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<div id="actitity-41_55">
<form name="multi-select-form-41_55" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form multi-select-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion41_55" class="block question iDevice_content">
<strong>Los campos calculados pueden ir en:</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_550" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_58">Opción 1</a></label><input type="checkbox" id="op41_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-41_58"><div id="taans41_58" class="block iDevice_content">
La cláusula <code>SELECT</code>.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-41_550" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_551" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_106">Opción 2</a></label><input type="checkbox" id="op41_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-41_106"><div id="taans41_106" class="block iDevice_content">
La cláusula <code>WHERE.</code>

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-41_551" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_552" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_108">Opción 3</a></label><input type="checkbox" id="op41_552" value="False">
</p>
<div class="iDevice_answer-content" id="answer-41_108"><div id="taans41_108" class="block iDevice_content">
La cláusula <code>FROM.</code>

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-41_552" style="display:none"></section>
</section>
</section>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-3-41_55"> 
</p>
</div>
<section id="f41_55" class="js-hidden js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>

<div id="tafeedback41_55" class="feedback iDevice_content">
Así es, y también podemos añadir un alias a ese campo poniéndolo a continuación.

</div>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_58" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_106" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-41_108" class="wrong">Incorrecto</a></li>
</ol>
</section>
</div>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-14">
<header class="nodeDecoration">
<h1 id="exenode_14_5Funciones" class="nodeTitle">5.- Funciones.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id42-14">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta42_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/stk32301bme.png" alt="Dos personas en una sala de reuniones estrechan sus manos." title="Negociando." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><strong><br>Juan</strong> le ha pedido a <strong>Ana</strong> que calcule la edad actual de los usuarios que tienen registrados en la base de datos pues sería interesante realizar estadísticas mensuales sobre los grupos de edad que acceden al sistema y en función de ello obtener algunos resultados interesantes para la empresa. Para realizar el cálculo de la edad tendríamos que echar mano a funciones que nos ayuden con los cálculos. Existen funciones que nos facilitarán la tarea y nos ayudarán a obtener información que de otro modo resultaría complicado.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id43-14">
<div class="iDevice emphasis0">
<div id="ta43_73" class="block iDevice_content">
<p>¿Has pensado en todas las operaciones que puedes realizar con los datos que guardas en una base de datos? Seguro que son muchísimas. Pues bien, en casi todos los Sistemas Gestores de Base de Datos existen funciones ya creadas que facilitan la creación de consultas más complejas. Dichas funciones varían según el <acronym title="Sistema Gestor de Base de Datos.">SGBD</acronym>, veremos aquí las que utiliza Oracle.</p>
<p>Las funciones son realmente operaciones que se realizan sobre los datos y que realizan un determinado cálculo. Para ello necesitan unos datos de entrada llamados parámetros o argumentos y en función de éstos, se realizará el cálculo de la función que se esté utilizando. Normalmente los parámetros se especifican entre paréntesis.</p>
<p>Las funciones se pueden incluir en las cláusulas <code>SELECT, WHERE y ORDER BY</code>.</p>
<p>Las funciones se especifican de la siguiente manera:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">NombreFunción <span class="token punctuation">[</span><span class="token punctuation">(</span>parámetro1<span class="token punctuation">,</span> <span class="token punctuation">[</span>parámetro2<span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre>
</div>
</div>
<pre><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">&nbsp;</span></pre>
</div>
<p>Puedes anidar funciones dentro de funciones.</p>
<p>Existe una gran variedad para cada tipo de datos:</p>
<ul class="lista_verificacion">
<li>numéricas,</li>
<li>de cadena de caracteres,</li>
<li>de manejo de fechas,</li>
<li>de conversión,</li>
<li>otras</li>
</ul>
</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id44-14">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta44_70" class="block iDevice_content">
<p>
Oracle proporciona una tabla con la que podemos hacer pruebas, esta tabla se llama Dual y contiene un único campo llamado <code>DUMMY</code> y una sola fila.
</p>

</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id45-14">
<div class="iDevice emphasis0">
<div id="ta45_73" class="block iDevice_content">
<p>
Podremos utilizar la tabla Dual en algunos de los ejemplos que vamos a ver en los siguientes apartados.
</p>

</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-15">
<header class="nodeDecoration">
<h1 id="exenode_15_51Funcionesnumricas" class="nodeTitle">5.1.- Funciones numéricas.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id46-15">
<div class="iDevice emphasis0">
<div id="ta46_73" class="block iDevice_content">
<p><img alt="Una mano sobre una calculadora científica realizando operaciones con funciones numéricas." class="elemento_derecha" height="132" src="./BD04 - Realización de consultas_files/BSY_064.png" style="width: 200px; height: 132px;" title="Números" width="200">¿Cómo obtenemos el cuadrado de un número o su valor absoluto? Nos referimos a valores numéricos y por tanto necesitaremos utilizar funciones numéricas.</p>
<p>Para trabajar con campos de tipo número tenemos las siguientes funciones:</p>
<ul class="lista_verificacion">
<li><strong><code>ABS(n)</code></strong>
<p>Calcula el <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t23513ab4-5cc6-5e86-654e-e8f17177934b" id="link23513ab4-5cc6-5e86-654e-e8f17177934b" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="12" oldtitle="Valor absoluto  | " title="">valor absoluto </a>de un número n.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> ABS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">17</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 17</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><strong><code>EXP(n)</code></strong>
<p>Calcula е<sup>n</sup> , es decir, el exponente en base e del número n.</p>
<p>Ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> EXP<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 7,38</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>CEIL(n)</code>
<p>Calcula el valor entero inmediatamente superior o igual al argumento n.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">17.4</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 18</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>&nbsp;</p>
</li>
<li><code>FLOOR(n)</code>
<p>Calcula el valor entero inmediatamente inferior o igual al parámetro n.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">17.4</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 17</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>MOD(m,n)</code>
<p>Calcula el <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#td95815c3-c844-9706-748d-3a0a2ce24e9a" id="linkd95815c3-c844-9706-748d-3a0a2ce24e9a" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="13" oldtitle="Resto | " title="">resto</a> resultante de dividir m entre n.</p>
<p>Ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> MOD<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 1</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>POWER(valor, exponente)</code>
<p>Eleva el valor al exponente indicado.</p>
<p>Ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> POWER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 1024</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>ROUND(n, decimales)</code>
<p>Redondea el número n al siguiente número con el número de decimales que se indican.</p>
<p>Ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">12.5874</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 12.59</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>SQRT(n)</code>
<p>Calcula la raíz cuadrada de n.</p>
<p>Ejemplo:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SQRT<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 5</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>TRUNC(m,n)</code>
<p><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t572201d4-22bc-c8fc-1d2d-9742612e3022" id="link572201d4-22bc-c8fc-1d2d-9742612e3022" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="14" oldtitle=" Truncar | " title="">Trunca</a> un número a la cantidad de decimales especificada por el segundo argumento. Si se omite el segundo argumento, se truncan todos los decimales. Si "n" es negativo, el número es truncado desde la parte entera.</p>
<p>Ejemplos:&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> TRUNC<span class="token punctuation">(</span><span class="token number">127.4567</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 127.45</span>
<span class="token keyword">SELECT</span> TRUNC<span class="token punctuation">(</span><span class="token number">4572.5678</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 4500</span>
<span class="token keyword">SELECT</span> TRUNC<span class="token punctuation">(</span><span class="token number">4572.5678</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 4570</span>
<span class="token keyword">SELECT</span> TRUNC<span class="token punctuation">(</span><span class="token number">4572.5678</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Resultado: 4572</span></code></pre>
</div>
</div>
</div>
</li>
<li><code>SIGN(n)</code>
<p>Si el argumento "n"es un valor positivo, retorna 1, si es negativo, devuelve -1 y 0 si es 0.&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SIGN<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">23</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> – Resultado: <span class="token operator">-</span><span class="token number">1</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
</ul>
<div id="t23513ab4-5cc6-5e86-654e-e8f17177934b" class="exe-tooltip-text">
<p>O módulo de un número real es su valor numérico sin tener en cuenta su signo, sea este positivo (+) o negativo (-)</p>
</div>
<div id="td95815c3-c844-9706-748d-3a0a2ce24e9a" class="exe-tooltip-text">
<p>Es el número resultante de la diferencia del dividendo con el producto del divisor por el cociente</p>
</div>
<div id="t572201d4-22bc-c8fc-1d2d-9742612e3022" class="exe-tooltip-text">
<p>Es el término usado para reducir el número de dígitos a la derecha del separador decimal, descartando los menos significativos.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id47-15">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta47_47" class="block iDevice_content">
<p>
Aquí encontrarás las funciones que has visto y algunas más.
</p>
<div class="elemento_centrado">
<p>
<a href="http://sites.google.com/site/josepando/home/funciones-sql/funciones-que-devuelven-una-valor-nico-para-cada-fila-de-una-consulta-o-vista/funciones-numricas" title="Web en la que se muestran funciones numéricas y su uso.">Más funciones numéricas.</a>
</p>
</div>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-16">
<header class="nodeDecoration">
<h1 id="exenode_16_52Funcionesdecadenadecaracteres" class="nodeTitle">5.2.- Funciones de cadena de caracteres.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id48-16">
<div class="iDevice emphasis0">
<div id="ta48_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 156px;"><img src="./BD04 - Realización de consultas_files/BSY_072.png" alt="Cadena que representa las cadenas de caracteres." title="Cadenas." class="elemento_derecha" width="156" height="200" style="width: 156px; height: 200px;">
<figcaption class="figcaption"><span class="author"> Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Ya verás como es muy común manipular campos de tipo carácter o cadena de caracteres. Como resultado podremos obtener caracteres o números. Estas son las funciones más habituales:</p>
<ul class="lista_verificacion">
<li><code>CHR(n)</code>
<p>Devuelve el carácter cuyo valor codificado es n.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> CHR<span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: Q</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>ASCII(n)</code>
<p>Devuelve el valor<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t9ba3e3f6-6318-1c7f-ceea-ba9c22427c27" id="link9ba3e3f6-6318-1c7f-ceea-ba9c22427c27" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="15" oldtitle="ASCII | " title=""> <acronym title="American Standard Code for Information Interchange ">ASCII</acronym></a> de n.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> ASCII<span class="token punctuation">(</span><span class="token string">'O'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 79</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>CONCAT(cad1, cad2)</code>
<p>Devuelve las dos cadenas concatenada o unidas. Es equivalente al operador ||</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'Hola'</span><span class="token punctuation">,</span> <span class="token string">'Mundo'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: HolaMundo</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>LOWER(cad)</code>
<p>Devuelve la cadena cad con todos sus caracteres en minúsculas.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'En MInúsculAS'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: en minúsculas</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>UPPER(cad)</code>
<p>Devuelve la cadena cad con todos sus caracteres en mayúsculas.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'En MAyúsculAS'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: EN MAYÚSCULAS</span></code></pre>
</div>
</div>
</div>
<p><span style="font-size: 1em;">Esta función y la siguiente son muy utilizadas, y necesarias,&nbsp; al comparar con cadenas cuando hay dudas sobre si todos los caracteres de la cadena a comparar están en mayúsculas, minúsculas o mezcla. Por ejemplo si queremos conocer los datos de la tabla JUEGOS cuyo nombre es AJEDREZ podemos utilizar cualquiera de las dos sentencias siguientes. Así se seleccionará la fila, tanto si está escrito en la tabla como AJEDREZ, ajedrez o Ajedrez.</span></p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> JUEGOS <span class="token keyword">WHERE</span> UPPER<span class="token punctuation">(</span>NOMBRE<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'AJEDREZ'</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> JUEGOS <span class="token keyword">WHERE</span> LOWER<span class="token punctuation">(</span>NOMBRE<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'ajedrez'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
</li>
<li><code>INITCAP(cad)</code>
<p>Devuelve la cadena cad con su primer carácter en mayúscula.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> INITCAP<span class="token punctuation">(</span><span class="token string">'hola'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: Hola</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>&nbsp;</p>
</li>
<li><code>LPAD(cad1, n, cad2)</code>
<p>Devuelve cad1 con longitud n, ajustada a la derecha, rellenando por la izquierda con cad2.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: ****M</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>RPAD(cad1, n, cad2)</code>
<p>Devuelve cad1 con longitud n, ajustada a la izquierda, rellenando por la derecha con cad2.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: M****</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>REPLACE(cad, ant, nue)</code>
<p>Devuelve cad en la que cada ocurrencia de la cadena ant ha sido sustituida por la cadena nue.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> REPLACE<span class="token punctuation">(</span><span class="token string">'correo@gmail.es'</span><span class="token punctuation">,</span> <span class="token string">'es'</span><span class="token punctuation">,</span> <span class="token string">'com'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: correo@gmail.com</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>SUBSTR(cad, m, n)</code>
<p>Obtiene una subcadena de una cadena. Devuelve la cadena cad compuesta por n caracteres a partir de la posición m.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 34</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>LENGTH(cad)</code>
<p>Devuelve la longitud de cad.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">'hola'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 4</span></code></pre>
</div>
</div>
<pre>&nbsp;</pre>
</div>
</li>
<li><code>TRIM(cad)</code>
<p>Elimina los espacios en blanco a la izquierda y la derecha de cad y los espacios dobles del interior.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">' Hola de nuevo '</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: Hola de nuevo</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>LTRIM(cad)</code>
<p>Elimina los espacios a la izquierda que posea cad.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LTRIM<span class="token punctuation">(</span><span class="token string">' Hola'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: Hola</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>RTRIM(cad)</code>
<p>Elimina los espacios a la derecha que posea cad.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> RTRIM<span class="token punctuation">(</span><span class="token string">'Hola '</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: Hola</span></code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</li>
<li><code>INSTR(cad, cadBuscada [, posInicial [, nAparición]])</code>
<p>Obtiene la posición en la que se encuentra la cadena buscada en la cadena inicial cad. Se puede comenzar a buscar desde una posición inicial concreta e incluso indicar el número de aparición de la cadena buscada. Si no encuentra nada devuelve cero.</p>
<p>Ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'usuarios'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 1</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'usuarios'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 3</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'usuarios'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 0</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</li>
</ul>
<div id="t9ba3e3f6-6318-1c7f-ceea-ba9c22427c27" class="exe-tooltip-text">
<p>ASCII (acrónimo inglés de American Standard Code for Information Interchange —Código Estándar Estadounidense para el Intercambio de Información—), pronunciado generalmente [áski]1​:6 o (rara vez) [ásθi], es un código de caracteres basado en el alfabeto latino, tal como se usa en inglés moderno. Fue creado en 1963 por el Comité Estadounidense de Estándares (ASA, conocido desde 1969 como el Instituto Estadounidense de Estándares Nacionales, o ANSI)</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id49-16">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-49_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion49_60" class="block question iDevice_content">
<p>
<strong>En la siguiente consulta: <code>SELECT LENGTH("Adiós") FROM DUAL;</code> ¿qué obtendríamos?</strong>
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_63">Opción 1</a></label><input type="radio" name="option49_60" id="i49_63" class="exe-radio-option exe-radio-option-0-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_63"><div id="taans49_63" class="block iDevice_content">
5

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_113" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_113">Opción 2</a></label><input type="radio" name="option49_60" id="i49_113" class="exe-radio-option exe-radio-option-1-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_113"><div id="taans49_113" class="block iDevice_content">
4

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_116" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_116">Opción 3</a></label><input type="radio" name="option49_60" id="i49_116" class="exe-radio-option exe-radio-option-2-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_116"><div id="taans49_116" class="block iDevice_content">
6

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_119" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_119">Opción 4</a></label><input type="radio" name="option49_60" id="i49_119" class="exe-radio-option exe-radio-option-3-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_119"><div id="taans49_119" class="block iDevice_content">
Nos devolvería un error.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b49_60" class="feedback js-hidden">
<div id="taf49_63" class=" iDevice_content">
Deberías fijarte bien en el contenido de la función.

</div>
</section>
<section id="sa1b49_60" class="feedback js-hidden">
<div id="taf49_113" class=" iDevice_content">
No, fíjate bien en el formato de la función.

</div>
</section>
<section id="sa2b49_60" class="feedback js-hidden">
<div id="taf49_116" class=" iDevice_content">
No, inténtalo de nuevo.

</div>
</section>
<section id="sa3b49_60" class="feedback js-hidden">
<div id="taf49_119" class=" iDevice_content">
Cierto, las cadenas van con comillas simples.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_113">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_116">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-49_119">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa3b49_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-17">
<header class="nodeDecoration">
<h1 id="exenode_17_53Funcionesdemanejodefechas" class="nodeTitle">5.3.- Funciones de manejo de fechas.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id50-17">
<div class="iDevice emphasis0">
<div id="ta50_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BSY_057.png" alt="Calendario que representa el manejo de fechas." title="Calendario." class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>La fecha de emisión de una factura, de llegada de un avión, de ingreso en una web, podríamos seguir poniendo infinidad de ejemplos, lo que significa que es una información que se requiere en muchas situaciones y es importante guardar.</p>
<p>En los SGBD se utilizan mucho las fechas. Oracle tiene dos tipos de datos para manejar fechas, son <code>DATE</code> y <code>TIMESTAMP.</code></p>
<ul class="lista_verificacion">
<li><code>DATE</code> almacena <strong>fechas concretas incluyendo a veces la hora.</strong></li>
<li><code>TIMESTAMP</code> almacena <strong>un instante de tiempo más concreto</strong> que puede incluir hasta fracciones de segundo.</li>
</ul>
<p>Podemos realizar operaciones numéricas con las fechas:</p>
<ul class="lista_verificacion">
<li>Le podemos <strong>sumar números</strong> y esto se entiende como sumarles días, si ese número tiene decimales se suman días, horas, minutos y segundos. El resultado es una fecha.</li>
<li>Le podemos <strong>restar números</strong> y esto se entiende como restarle días, ir atrás en el calendario, si ese número tiene decimales se restan días, horas, minutos y segundos. El resultado es una fecha.</li>
<li>La <strong>diferencia</strong>&nbsp;o resta entre dos fechas&nbsp; nos dará el número de días entre esas fechas.</li>
</ul>
<p>En Oracle tenemos las siguientes funciones más comunes:</p>
<ul class="lista_verificacion">
<li><code>SYSDATE</code> Devuelve la fecha y hora actuales. Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SYSDATE <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 15/08/20</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>SYSTIMESTAMP</code> Devuelve la fecha y hora actuales en formato <code>TIMESTAMP.</code> Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SYSTIMESTAMP <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 15/08/20 11:40:41,969000 +02:00</span>
</code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>ADD_MONTHS(fecha, n)</code> Añade a la fecha el número de meses indicado con n. Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> ADD_MONTHS<span class="token punctuation">(</span><span class="token string">'27/07/11'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 27/12/11</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>MONTHS_BETWEEN(fecha1, fecha2)</code> Devuelve el número de meses que hay entre fecha1 y fecha2. Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> MONTHS_BETWEEN<span class="token punctuation">(</span><span class="token string">'12/07/11'</span><span class="token punctuation">,</span><span class="token string">'12/03/11'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 4</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>LAST_DAY(fecha)</code> Devuelve el último día del mes al que pertenece la fecha. El valor devuelto es tipo <code>DATE.</code> Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> LAST_DAY<span class="token punctuation">(</span><span class="token string">'27/07/11'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 31/07/11</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>NEXT_DAY(fecha, d)</code> Indica el día que corresponde si añadimos a la fecha el día d. El día devuelto puede ser texto ('Lunes', Martes', ..) o el número del día de la semana (1=lunes, 2=martes, ..) dependiendo de la configuración. Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> NEXT_DAY<span class="token punctuation">(</span><span class="token string">'31/12/11'</span><span class="token punctuation">,</span><span class="token string">'LUNES'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 02/01/12</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><code>EXTRACT(valor FROM fecha)</code> Extrae un valor de una fecha concreta. El valor puede ser <span lang="en">day, month, year, hours,</span> etc. Ejemplo:</li>
</ul>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> EXTRACT<span class="token punctuation">(</span>MONTH <span class="token keyword">FROM</span> SYSDATE<span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">--Resultado: 8</span></code></pre>
</div>
</div>
<p>En Oracle: Los operadores aritméticos "+" (más) y "-" (menos) pueden emplearse para las fechas. Por ejemplo:</p>
<p>&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> SYSDATE – <span class="token number">5</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Devuelve la fecha correspondiente a 5 días antes de la fecha actual</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Se pueden emplear estas funciones utilizando como argumento el nombre de un campo de tipo fecha.</p>
<figure class="exe-figure exe-image position-center license-copyright" style="width: 511px;"><img src="./BD04 - Realización de consultas_files/BD04_EJEMP_5_3.JPG" alt="Ejecución en SQLPlus de sentencias de fecha vistas y sus resultados" title="Ejecución SQLPlus sentencias fecha" width="511" height="694" style="vertical-align: middle;">
<figcaption class="figcaption"><span class="author">Oracle</span> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span></span></figcaption>
</figure>
<p></p>
</div>
</div>
</article>
<article class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id51-17">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<div id="actitity-51_55">
<form name="multi-select-form-51_55" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form multi-select-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion51_55" class="block question iDevice_content">
<p>
<strong>¿Cuáles de estas afirmaciones sobre funciones de manejo de fechas son ciertas?</strong>
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_550" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_58">Opción 1</a></label><input type="checkbox" id="op51_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_58"><div id="taans51_58" class="block iDevice_content">
Existen dos tipos de fechas de datos con las que podemos trabajar, <code>DATE</code> y <code>TIMESTAMP</code>. 

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-51_550" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_551" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_133">Opción 2</a></label><input type="checkbox" id="op51_551" value="False">
</p>
<div class="iDevice_answer-content" id="answer-51_133"><div id="taans51_133" class="block iDevice_content">
Se puede poner como argumento el nombre de un campo de cualquier tipo.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-51_551" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_552" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_135">Opción 3</a></label><input type="checkbox" id="op51_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_135"><div id="taans51_135" class="block iDevice_content">
Le podemos sumar o restar números, lo cual se entiende como sumarle o restarle días. 

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-51_552" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_553" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_137">Opción 4</a></label><input type="checkbox" id="op51_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_137"><div id="taans51_137" class="block iDevice_content">
La diferencia entre dos fechas nos dará un número de días. 

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-51_553" style="display:none"></section>
</section>
</section>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-51_55"> 
</p>
</div>
<section id="f51_55" class="js-hidden js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>

<div id="tafeedback51_55" class="feedback iDevice_content">
Como puedes observar, es muy fácil trabajar con fechas.

</div>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_58" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_133" class="wrong">Incorrecto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_135" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-51_137" class="right">Correcto</a></li>
</ol>
</section>
</div>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-18">
<header class="nodeDecoration">
<h1 id="exenode_18_54Funcionesdeconversin" class="nodeTitle">5.4.- Funciones de conversión.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id52-18">
<div class="iDevice emphasis0">
<div id="ta52_73" class="block iDevice_content">
<p>Los <acronym title="Sistema Gestor de Base de Datos">SGBD</acronym> tienen funciones que pueden pasar de un tipo de dato a otro. Oracle convierte automáticamente datos de manera que el resultado de una expresión tenga sentido. Por tanto, de manera automática se pasa de texto a número y al revés. Ocurre lo mismo para pasar de tipo texto a fecha y viceversa. Pero existen ocasiones en que querremos realizar esas conversiones de modo explícito, para ello contamos con funciones de conversión.</p>
<ul class="lista_verificacion">
<li><code>TO_NUMBER(cad, formato)</code> Convierte textos en números. Se suele utilizar para dar un formato concreto a los números. Los formatos que podemos utilizar son los siguientes:</li>
</ul>
<table class="tabla" summary="Tabla en al que se muestran los formatos que podemos utilizar con los números y su significado. "><caption>Formatos para números y su significado.</caption>
<thead>
<tr>
<th scope="col">Símbolo</th>
<th scope="col">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>9</code></td>
<td>Posiciones numéricas. Si el número que se quiere visualizar contiene menos dígitos de los que se especifican en el formato, se rellena con blancos.</td>
</tr>
<tr>
<td><code>0</code></td>
<td>Visualiza ceros por la izquierda hasta completar la longitud del formato especificado.</td>
</tr>
<tr>
<td><code>$</code></td>
<td>Antepone el signo de dólar al número.</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Coloca en la posición donde se incluya, el símbolo de la moneda local (se puede configurar en la base de datos mediante el parámetro <code>NSL_CURRENCY</code>)</td>
</tr>
<tr>
<td><code>S</code></td>
<td>Aparecerá el símbolo del signo.</td>
</tr>
<tr>
<td><code>D</code></td>
<td>Posición del símbolo decimal, que en español es la coma.</td>
</tr>
<tr>
<td><code>G</code></td>
<td>Posición del separador de grupo, que en español es el punto.</td>
</tr>
</tbody>
</table>
<ul class="lista_verificacion">
<li><code>TO_CHAR(d, formato)</code> Convierte un número o fecha d a cadena de caracteres, se utiliza normalmente para fechas ya que de número a texto se hace de forma implícita como hemos visto antes.</li>
<li><code>TO_DATE( cad, formato)</code> Convierte textos a fechas. Podemos indicar el formato con el que queremos que aparezca.</li>
</ul>
<p>Para las funciones <code>TO_CHAR</code> y <code>TO_DATE</code>, en el caso de fechas, indicamos el formato incluyendo los siguientes símbolos:</p>
<table class="tabla" summary="Tabla en la que se muestran los formatos que podemos utilizar con las fechas y su significado."><caption>Formatos para fechas y su significado.</caption>
<thead>
<tr>
<th scope="col">Símbolo</th>
<th scope="col">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>YY</code></td>
<td>Año en formato de dos cifras</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>Año en formato de cuatro cifras</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Mes en formato de dos cifras</td>
</tr>
<tr>
<td><code>MON</code></td>
<td>Las tres primeras letras del mes</td>
</tr>
<tr>
<td><code>MONTH</code></td>
<td>Nombre completo del mes</td>
</tr>
<tr>
<td><code>DY</code></td>
<td>Día de la semana en tres letras</td>
</tr>
<tr>
<td><code>DAY</code></td>
<td>Día completo de la semana</td>
</tr>
<tr>
<td><code>DD</code></td>
<td>Día en formato de dos cifras</td>
</tr>
<tr>
<td><code>D</code></td>
<td>Día de la semana del 1 al 7</td>
</tr>
<tr>
<td><code>Q</code></td>
<td>Semestre</td>
</tr>
<tr>
<td><code>WW</code></td>
<td>Semana del año</td>
</tr>
<tr>
<td><code>AM</code><br><code>PM</code></td>
<td>
<p>Indicador <acronym title="Ante merídiem">a.m.</acronym></p>
<p>Indicador <acronym title="Post merídiem">p.m.</acronym></p>
</td>
</tr>
<tr>
<td><code>
			HH12
			</code><br><code>
			HH24
			</code></td>
<td>
<p>Hora de 1 a 12</p>
<p>Hora de 0 a 23</p>
</td>
</tr>
<tr>
<td><code>MI</code></td>
<td>Minutos de 0 a 59</td>
</tr>
<tr>
<td><code>
			SS
			</code><br><code>
			SSSS
			</code></td>
<td>
<p>Segundos dentro del minuto</p>
<p>Segundos dentro desde las 0 horas</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id93-18">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta93_128" class="block iDevice_content">
<p>En el siguiente enlace tienes las funciones de conversión vistas y algunas más con ejemplos</p>
<p style="text-align: center;"><a href="https://ora.u440.com/conversion/to_date.html" target="_blank" title="Accede a web sobre funciones de conversión en oracle (se abre en una ventana nueva)" rel="noopener">Funciones de conversión en Oracle</a></p>
<p></p>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-19">
<header class="nodeDecoration">
<h1 id="exenode_19_55OtrasfuncionesNVLyDECODE" class="nodeTitle">5.5.- Otras funciones: NVL y DECODE.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id53-19">
<div class="iDevice emphasis0">
<div id="ta53_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/ST001437.png" alt="Parte de un teclado." title="Teclado." class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>¿Recuerdas que era el valor <code>NULL</code>? Cualquier columna de una tabla podía contener un valor nulo independientemente al tipo de datos que tuviera definido. Eso sí, esto no era así en los casos en que definíamos esa columna como no nula (<code>NOT NULL</code>), o que fuera clave primaria (<code>PRIMARY KEY</code>).</p>
<p>Cualquier operación que se haga con un valor <code>NULL</code> devuelve un <code>NULL</code>. Por ejemplo, si se intenta dividir por <code>NULL</code>, no nos aparecerá ningún error sino que como resultado obtendremos un <code>NULL</code> (no se producirá ningún error tal y como puede suceder si intentáramos dividir por cero).</p>
<p>También es posible que el resultado de una función nos de un valor nulo.</p>
<p>Por tanto, es habitual encontrarnos con estos valores y es entonces cuando aparece la necesidad de poder hacer algo con ellos. Las <strong>funciones con nulos</strong> nos permitirán hacer algo en caso de que aparezca un valor nulo.</p>
<ul class="lista_verificacion">
<li><code>NVL(valor, expr1)</code>
<p>Si valor es <code>NULL</code>, entonces devuelve <code>expr1</code>. Ten en cuenta que <code>expr1</code> debe ser del mismo tipo que valor.</p>
</li>
</ul>
<p>¿Y no habrá alguna función que nos permita evaluar expresiones? La respuesta es afirmativa y esa función se llama <code>DECODE.</code></p>
<ul class="lista_verificacion">
<li><code>DECODE(expr1, cond1, valor1 [, cond2, valor2, ...], default )</code>
<p>Esta función evalúa una expresión <code>expr1</code>, si se cumple la primera condición (<code>cond1</code>) devuelve el <code>valor1</code>, en caso contrario evalúa la siguiente condición y así hasta que una de las condiciones se cumpla. Si no se cumple ninguna condición se devuelve el valor por defecto que hemos llamado default.</p>
</li>
</ul>
<p>Por ejemplo, si en la tabla <code>USUARIOS</code> queremos un listado de sus correos, podemos pedir que cuando un correo esté a nulo, es decir, no tenga valor, aparezca el texto No tiene correo.&nbsp;</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> NVL<span class="token punctuation">(</span>correo<span class="token punctuation">,</span> <span class="token string">'No tiene correo'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id54-19">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-54_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion54_60" class="block question iDevice_content">
<strong>¿Qué función convierte un número o fecha a cadena de caracteres?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_63">Opción 1</a></label><input type="radio" name="option54_60" id="i54_63" class="exe-radio-option exe-radio-option-0-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_63"><div id="taans54_63" class="block iDevice_content">
<code>TO_DATE.</code>

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_142" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_142">Opción 2</a></label><input type="radio" name="option54_60" id="i54_142" class="exe-radio-option exe-radio-option-1-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_142"><div id="taans54_142" class="block iDevice_content">
<code>TO_CHAR.</code>

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_145" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_145">Opción 3</a></label><input type="radio" name="option54_60" id="i54_145" class="exe-radio-option exe-radio-option-2-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_145"><div id="taans54_145" class="block iDevice_content">
<code>DECODE.</code>

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_148" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_148">Opción 4</a></label><input type="radio" name="option54_60" id="i54_148" class="exe-radio-option exe-radio-option-3-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_148"><div id="taans54_148" class="block iDevice_content">
<code>TO_NUMBER.</code>

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b54_60" class="feedback js-hidden">
<div id="taf54_63" class=" iDevice_content">
<p>No es correcto. Esta función convierte texto a fecha.</p>
</div>
</section>
<section id="sa1b54_60" class="feedback js-hidden">
<div id="taf54_142" class=" iDevice_content">
Así es, se utiliza normalmente para fechas ya que de número a texto se hace de forma implícita

</div>
</section>
<section id="sa2b54_60" class="feedback js-hidden">
<div id="taf54_145" class=" iDevice_content">
No es correcto. Esta función evalúa expresiones y devuelve un valor según el resultado.

</div>
</section>
<section id="sa3b54_60" class="feedback js-hidden">
<div id="taf54_148" class=" iDevice_content">
No es correcto. Convierte textos en números, y suele utilizarse para dar un formato concreto a los números.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_142">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_145">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-54_148">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa3b54_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-20">
<header class="nodeDecoration">
<h1 id="exenode_20_6Consultasderesumen" class="nodeTitle">6.- Consultas de resumen.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id55-20">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta55_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/stk32329bme.png" alt="Dos personas trabajan en una mesa sobre un documento, en la mesa aparece un vaso de agua y otro documento donde se aprecia un gráfico." title="Consulta." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><strong><br>Ada</strong> le ha pedido a <strong>Juan</strong> que le eche una mano en otro de los proyectos en los que está inmersa la empresa. Necesita que cree varias consultas de resumen sobre unas tablas de empleados de banca. Está interesada en obtener el salario medio de los empleados clasificado por tipo de empleado, y quiere también que obtenga el total de empleados por sucursal.</p>
<p>Realmente no es un trabajo difícil ya que las consultas de resumen son muy fáciles de crear, pero <strong>Ada</strong> está tan ocupada que no tiene tiempo para esos detalles.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id56-20">
<div class="iDevice emphasis0">
<div id="ta56_73" class="block iDevice_content">
<p>
Seguro que
alguna vez has necesitado realizar cálculos sobre un campo para
obtener algún resultado global, por ejemplo, si tenemos una columna
donde estamos guardando las notas que obtienen unos alumnos o alumnas
en Matemáticas, podríamos estar interesados en saber cual es la
nota máxima que han obtenido o la nota media.
</p>
<p>
La
sentencia <code>SELECT</code> nos va a permitir
<strong>obtener resúmenes de los datos de modo vertical</strong>. Para ello
consta de una serie de cláusulas específicas (<code>GROUP BY</code>, <code>HAVING</code>) y tenemos también
unas <strong>funciones</strong> llamadas <strong>de agrupamiento o de agregado</strong>
que son las que nos dirán qué cálculos queremos realizar sobre los
datos (sobre la columna).
</p>
<p>
Hasta ahora
las consultas que hemos visto daban como resultado un subconjunto de
filas de la tabla de la que extraíamos la información. Sin embargo,
este tipo de consultas que vamos a ver no corresponde con ningún
valor de la tabla sino un <strong>total calculado</strong> sobre los datos de
la tabla. Esto hará que las consultas de resumen tengan limitaciones
que iremos viendo.
</p>
<p>
Las
funciones que podemos utilizar se llaman de agrupamiento (de
agregado). Éstas <strong>toman un grupo de datos</strong> (una columna) y
<strong>producen un único dato que resume el grupo</strong>. Por ejemplo, la
función <code>SUM()</code> acepta una columna de
datos numéricos y devuelve la suma de estos. 
</p>

</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id57-20">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta57_70" class="block iDevice_content">
El simple hecho de utilizar una función de agregado en una consulta la convierte en consulta de resumen.

</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id58-20">
<div class="iDevice emphasis0">
<div id="ta58_73" class="block iDevice_content">
<p>
Todas las funciones de agregado tienen
una estructura muy parecida: <code>FUNCIÓN ([ALL| DISTINCT] Expresión)</code> y debemos tener en cuenta que:
</p>
<ul class="lista_verificacion">
	<li>La palabra <code>ALL</code>
	indica que se tienen que tomar todos los valores de la columna. Es
	el valor por defecto.</li>
	<li>La palabra <code>DISTINCT</code>
	indica que se considerarán todas las repeticiones del mismo valor
	como uno solo (considera valores distintos).</li>
	<li>El grupo de valores sobre el que
	actúa la función lo determina el resultado de la expresión que
	será el nombre de una columna o una expresión basada en una o
	varias columnas. Por tanto, en la expresión nunca puede aparecer ni
	una función de agregado ni una subconsulta.</li>
	<li>Todas las funciones se aplican a
	las filas del origen de datos una vez ejecutada la cláusula <code>WHERE</code>
	(si la tuviéramos).</li>
	<li>Todas las funciones (excepto <code>COUNT</code>) ignoran los valores <code>NULL</code>.</li>
	<li>Podemos encontrar una función de
	agrupamiento dentro de una lista de selección en cualquier sitio
	donde pudiera aparecer el nombre de una columna. Es por eso que
	puede formar parte de una expresión pero no se pueden anidar
	funciones de este tipo.</li>
	<li>No se pueden mezclar funciones de
	columna con nombres de columna ordinarios, aunque hay excepciones
	que veremos más adelante.</li>
</ul>
<p align="left">
Ya estamos
preparados para conocer cuáles son estas funciones de agregado (o
agrupamiento). Las veremos a continuación.
</p>

</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id59-20">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta59_47" class="block iDevice_content">
<p>
Puedes acceder a este enlace si quieres conocer más sobre este tipo de consultas.
</p>
<p class="enlace_centrado">
<a href="http://www.aulaclic.es/sql/t_4_1.htm" title="Acceder al curso gratuito de aulaclic donde se describen las consultas de resumen en SQL." target="_self">Consultas de resumen.</a>
</p>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-21">
<header class="nodeDecoration">
<h1 id="exenode_21_61FuncionesdeagregadoSUMyCOUNT" class="nodeTitle">6.1.- Funciones de agregado: SUM y COUNT.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id60-21">
<div class="iDevice emphasis0">
<div id="ta60_73" class="block iDevice_content">
<p align="left">Sumar y contar filas o datos contenidos en los campos es algo bastante común. Imagina que para nuestra tabla Usuarios necesitamos sumar el número de créditos total que tienen nuestros jugadores. Con una función que sumara los valores de la columna crédito sería suficiente, siempre y cuando lo agrupáramos por cliente, ya que de lo contrario lo que obtendríamos sería el total de todos los clientes jugadores.</p>
<ul class="lista_verificacion">
<li>La función <code>SUM</code>:</li>
</ul>
<p style="padding-left: 60px;"><code>SUM([ALL|DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve la suma de los valores de la expresión. Sólo puede utilizarse con columnas cuyo tipo de dato sea número. El resultado será del mismo tipo aunque puede tener una precisión mayor. Por ejemplo,</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span> credito<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p></p>
<ul class="lista_verificacion">
<li>La función <code>COUNT</code>:</li>
</ul>
<p style="padding-left: 60px;"><code>COUNT([ALL|DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Cuenta los elementos de un campo. <code>Expresión</code> contiene el nombre del campo que deseamos contar. Los operandos de expresión pueden incluir el nombre del campo, una constante, una función o el caracter * en cuyo caso contaría el número de filas que cumplen la condición especificada, si la hay.</p>
<p style="padding-left: 60px;">Puede contar cualquier tipo de datos incluido texto.&nbsp;<code>COUNT</code> simplemente cuenta el número de registros sin tener en cuenta qué valores se almacenan. La función <code>COUNT</code> no cuenta los registros que tienen campos <code>NULL</code> a menos que <strong>expresión</strong> sea el carácter comodín <strong>asterisco</strong> (*).</p>
<p style="padding-left: 60px;">Si utilizamos <code>COUNT(*)</code>, calcularemos el total de filas, incluyendo aquellas que contienen valores <code>NULL</code>.</p>
<p style="padding-left: 60px;">Por ejemplo,</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p></p>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id61-21">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta61_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b61" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación EMPRESA&nbsp;descargados anteriormente, vamos a realizar una consulta donde contemos el número de empleados que son mujeres y la suma total de sus salarios.</p>
</section>
<form name="feedback-form-quesFeedback0b61" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b61text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b61" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b61" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>Nombre<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>SALARIO<span class="token punctuation">)</span> <span class="token keyword">FROM</span> EMPLEADOS <span class="token keyword">WHERE</span> SEXO<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><code></code></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 525px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO6_1.JPG" alt="Captura de pantalla de la ejecución de la sentencia SELECT COUNT(Nombre),SUM(SALARIO) FROM EMPLEADOS WHERE SEXO=&#39;M&#39;; en SQLDeveloper" title="Ejecución sentencia en SQLDeveloper" width="525" height="237">
<figcaption class="figcaption"><span class="author">Ministerio de Educación</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><code>&nbsp;</code></p></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-22">
<header class="nodeDecoration">
<h1 id="exenode_22_62FuncionesdeagregadoMINyMAX" class="nodeTitle">6.2.- Funciones de agregado: MIN y MAX.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id62-22">
<div class="iDevice emphasis0">
<div id="ta62_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/SKD246518SDC.png" alt="Una joven señala una lista y apunta con su dedo ínidce buscando información." title="Consultando la lista." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>¿Y si pudiéramos encontrar el valor máximo y mínimo de una lista enormemente grande? Esto es lo que nos permiten hacer las siguientes funciones.</p>
<ul class="lista_verificacion">
<li><strong>Función </strong><code>MIN</code><strong>:</strong></li>
</ul>
<p style="padding-left: 60px;"><code>MIN ([ALL| DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve el valor mínimo de la expresión sin considerar los nulos (<code>NULL</code>). En expresión podemos incluir el nombre de un campo de una tabla, una constante o una función (pero no otras funciones agregadas de SQL). Por ejemplo para obtener el valor más bajo de la columna credito.</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"> <span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>credito<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios<span class="token punctuation">;</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><strong>Función </strong><code>MAX</code><strong>:</strong></li>
</ul>
<p style="padding-left: 60px;"><code>MAX ([ALL| DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve el valor máximo de la expresión sin considerar los nulos (<code>NULL</code>). En expresión podemos incluir el nombre de un campo de una tabla, una constante o una función (pero no otras funciones agregadas de SQL).&nbsp;Por ejemplo para obtener el valor más alto de la columna credito.</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">MAX</span> <span class="token punctuation">(</span>credito<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios<span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-23">
<header class="nodeDecoration">
<h1 id="exenode_23_63FuncionesdeagregadoAVGVARySTDEV" class="nodeTitle">6.3.- Funciones de agregado: AVG, VAR y STDEV.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id63-23">
<div class="iDevice emphasis0">
<div id="ta63_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/027.png" alt="Gráfico donde el fondo contiene una imagen de productos, el gráfico representa el precio frente al volumen." title="Estadísticas." class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p align="left">Quizás queramos obtener datos estadísticos de los datos guardados en nuestra base de datos. Para ello podemos hacer uso de las funciones que calculan el&nbsp;<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t57a09e93-5077-9984-bd5d-0cab7696a7bf" id="link57a09e93-5077-9984-bd5d-0cab7696a7bf" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="16" oldtitle="Promedio | " title=""><span style="font-size: 1em;">promedio</span></a><span style="font-size: 1em; text-align: justify;">, la </span><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t94eb60ec-e76f-8d8d-65de-11bb1efab31a" id="link94eb60ec-e76f-8d8d-65de-11bb1efab31a" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="17" oldtitle="Varianza | " title="">varianza</a><span style="font-size: 1em; text-align: justify;"> y la </span><a class="exe-tooltip definition-tt titled-tt blue-tt glosario" href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#td914e0ec-bf0d-61c4-9781-6c1c403aaa68" style="background-color: #ffffff; font-size: 1em; text-align: justify;" id="linkd914e0ec-bf0d-61c4-9781-6c1c403aaa68" data-hasqtip="18" oldtitle="Desviación típica | Ver la definición de &quot;Desviación típica o estándar&quot; (Se abre en una nueva ventana)" title="">desviación típica</a><span style="font-size: 1em; text-align: justify;">.</span></p>
<ul class="lista_verificacion">
<li><strong>Función </strong><code>AVG</code></li>
</ul>
<p style="padding-left: 60px;"><code>AVG ([ALL| DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve el promedio o media de los valores de un grupo, para ello se omiten los valores nulos (<code>NULL</code>). El grupo de valores será el que se obtenga como resultado de la expresión y ésta puede ser un nombre de columna o una expresión basada en una columna o varias de la tabla. Se aplica a campos tipo número y el tipo de dato del resultado puede variar según las necesidades del sistema para representar el valor. Ejemplo que obtiene la media de credito de los usuarios</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>CREDITO<span class="token punctuation">)</span> <span class="token keyword">FROM</span> USUARIOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
<ul class="lista_verificacion">
<li><strong>Función </strong><code>VAR</code></li>
</ul>
<p style="padding-left: 60px;"><code>VAR ([ALL| DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve la varianza estadística de todos los valores de la expresión. Como tipo de dato admite únicamente columnas numéricas. Los valores nulos (<code>NULL</code>) se omiten.</p>
<ul class="lista_verificacion">
<li><strong>Función </strong><code>STDEV</code></li>
</ul>
<p style="padding-left: 60px;"><code>STDEV ([ALL| DISTINCT] expresión)</code></p>
<p style="padding-left: 60px;">Devuelve la desviación típica estadística de todos los valores de la expresión.Como tipo de dato admite únicamente columnas numéricas. Los valores nulos (<code>NULL</code>) se omiten.</p>
<div id="t57a09e93-5077-9984-bd5d-0cab7696a7bf" class="exe-tooltip-text">
<p>También llamada media aritmética o simplemente media de un conjunto finito de números es igual a la suma de todos sus valores dividida entre el número de sumandos</p>
</div>
<div id="t94eb60ec-e76f-8d8d-65de-11bb1efab31a" class="exe-tooltip-text">
<p>Es una medida de su dispersión definida como la esperanza del cuadrado de la desviación de dicha variable respecto a su media</p>
</div>
<div id="td914e0ec-bf0d-61c4-9781-6c1c403aaa68" class="exe-tooltip-text">
<p>Es una medida de centralización o dispersión para variables de razón (ratio o cociente) y de intervalo, de gran utilidad en la estadística descriptiva. Se define como la raíz cuadrada de la varianza. Junto con este valor, la desviación típica es una medida (cuadrática) que informa de la media de distancias que tienen los datos respecto de su media aritmética, expresada en las mismas unidades que la variable.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id64-23">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta64_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b64" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación empresa descargados anteriormente, vamos a realizar una consulta donde obtengamos la media de la columna&nbsp; salario mínimo y de la columna salario máximo de la tabla TRABAJOS.</p>
</section>
<form name="feedback-form-quesFeedback0b64" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b64text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b64" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b64" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>SALARIO_MIN<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>SALARIO_MAX<span class="token punctuation">)</span> <span class="token keyword">FROM</span> TRABAJOS<span class="token punctuation">;</span></code></pre>
</div>
</div>
<figure class="exe-figure exe-image position-center license-custom" style="width: 394px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO6_3.JPG" alt="Captura de pantalla de la ejecución de la sentencia  SELECT AVG(SALARIO_MIN), AVG(SALARIO_MAX)  FROM TRABAJOS; en SQLDeveloper" title="Ejecución sentencia en SQLDeveloper" width="394" height="242" style="vertical-align: middle;">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br><code></code></p></section>
</form>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id65-23">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<div id="actitity-65_55">
<form name="multi-select-form-65_55" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form multi-select-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion65_55" class="block question iDevice_content">
<strong>¿Cuáles de las siguientes afirmaciones sobre las consultas de resumen son ciertas?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_550" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_58">Opción 1</a></label><input type="checkbox" id="op65_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_58"><div id="taans65_58" class="block iDevice_content">
Toman un grupo de datos de una columna.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-65_550" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_551" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_157">Opción 2</a></label><input type="checkbox" id="op65_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_157"><div id="taans65_157" class="block iDevice_content">
Producen un único dato que resume el grupo.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-65_551" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_552" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_159">Opción 3</a></label><input type="checkbox" id="op65_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_159"><div id="taans65_159" class="block iDevice_content">
Utilizar una función de agregado en una consulta la convierte en consulta de resumen.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-65_552" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_553" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_161">Opción 4</a></label><input type="checkbox" id="op65_553" value="False">
</p>
<div class="iDevice_answer-content" id="answer-65_161"><div id="taans65_161" class="block iDevice_content">
Dan como resultado un subconjunto de filas de la tabla.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-65_553" style="display:none"></section>
</section>
</section>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-65_55"> 
</p>
</div>
<section id="f65_55" class="js-hidden js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>

<div id="tafeedback65_55" class="feedback iDevice_content">
Además ya conoces las funciones con las que se utilizan.

</div>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_58" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_157" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_159" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-65_161" class="wrong">Incorrecto</a></li>
</ol>
</section>
</div>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-24">
<header class="nodeDecoration">
<h1 id="exenode_24_7Agrupamientoderegistros" class="nodeTitle">7.- Agrupamiento de registros.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id66-24">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta66_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/57437500.png" alt="Un conjunto de personas aparecen juntas y ordenadas formando un grupo." title="Agrupados." class="elemento_derecha" width="200" height="144" style="width: 200px; height: 144px;">
<figcaption class="figcaption"><span class="author">Stockbyte.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Juan</strong> ha estado realizando algunas consultas de resumen y ahora quiere continuar sacando todo el jugo posible a las tablas realizando operaciones como las anteriores pero agrupándolas por algún campo. Hay veces que se obtiene mucha información si estudiamos los datos por grupos, como puede ser el número de jugadores por provincia, o el saldo medio según el sexo del jugador para así poder obtener conclusiones sobre la información guardada.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id67-24">
<div class="iDevice emphasis0">
<div id="ta67_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<figure class="exe-figure exe-image float-right license-custom" style="width: 98px;"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/BD04_CONT_R18_sumaprovincia.jpg" title="Ampliar imagen." rel="lightbox"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R18_sumaprovincia_miniatura.jpg" alt="Aplicación de la función que suma el crédito agrupando por provincia." title="Función suma agrupada." class="imagen_ampliable" width="98" height="200" style="width: 98px; height: 200px;"></a>
<figcaption class="figcaption"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html" target="_blank" class="author" rel="noopener">Oracle/Elaboración propia</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>Hasta aquí las consultas de resumen que hemos visto obtienen totales de todas las filas de un campo o una expresión calculada sobre uno o varios campos. Lo que hemos obtenido ha sido una única fila con un único dato.</p>
<p>Ya verás como en muchas ocasiones en las que utilizamos consultas de resumen nos va a interesar calcular <strong>totales parciales</strong>, es decir, <strong>agrupados según un determinado campo</strong>.</p>
<p>De este modo podríamos obtener de una tabla EMPLEADOS, en la que se guarda su sueldo y su actividad dentro de la empresa, el valor medio del sueldo en función de la actividad realizada en la empresa. También podríamos tener una tabla clientes y obtener el número de veces que ha realizado un pedido, etc.</p>
<p>En todos estos casos en lugar de una única fila de resultados necesitaremos una fila por cada actividad, cada cliente, etc.</p>
<p>Podemos obtener estos <strong>subtotales</strong> utilizando la cláusula <code>GROUP BY</code>. También podemos poner condiciones a esos grupos con la cláusula<code> HAVING.</code></p>
<p>La sintaxis es la siguiente:<code></code></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> columna1<span class="token punctuation">,</span> columna2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> tabla1<span class="token punctuation">,</span> tabla2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> condición1<span class="token punctuation">,</span> condición2<span class="token punctuation">,</span> …<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> columna1<span class="token punctuation">,</span> columna2<span class="token punctuation">,</span> …
<span class="token punctuation">[</span><span class="token keyword">HAVING</span> condición <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> ordenación<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id68-24">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta68_70" class="block iDevice_content">
<p>En la cláusula <code>GROUP BY</code> se colocan las columnas por las que vamos a agrupar. En la cláusula <code>HAVING</code> se especifica la condición que han de cumplir los grupos para que se realice la consulta.</p>
<p>Es muy importante que te fijes bien en el orden en el que se ejecutan las cláusulas:</p>
<ol>
<li><code>WHERE</code> que filtra las filas según las condiciones que pongamos.</li>
<li><code>GROUP BY</code> que crea una tabla de grupos nueva.</li>
<li><code>HAVING</code> filtra los grupos.</li>
<li><code>ORDER BY</code> que ordena o clasifica la salida.</li>
</ol>
<p>Las columnas que aparecen en el <code>SELECT</code> y que no aparezcan en la cláusula <code>GROUP BY</code> deben tener una función de agrupamiento. Si esto no se hace así producirá un error. Otra opción es poner en la claúsula <code>GROUP BY</code> las mismas columnas que aparecen en <code>SELECT</code>.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id69-24">
<div class="iDevice emphasis0">
<div id="ta69_73" class="block iDevice_content">
<p></p>
<p>Veamos un par de ejemplos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> provincia<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>credito<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> provincia<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Obtenemos la suma de créditos de nuestros usuarios agrupados por provincia. Si estuviéramos interesados en la suma de créditos agrupados por provincia pero únicamente de las provincias de Sevilla y Badajoz nos quedaría:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> provincia<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>credito<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Usuarios 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> provincia 
<span class="token keyword">HAVING</span> UPPER<span class="token punctuation">(</span>provincia<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'SEVILLA'</span> <span class="token operator">OR</span> UPPER<span class="token punctuation">(</span>provincia<span class="token punctuation">)</span><span class="token operator">=</span> <span class="token string">'BADAJOZ'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id70-24">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta70_41" class="block instructions iDevice_content">
<strong>Relaciona cada cláusula con su orden de ejecución:</strong>

</section>
<section class="activity" id="activity-70_42">
<form name="cloze-form-70_42" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form cloze-activity-form">
<div id="cloze70_42">
<input type="hidden" name="clozeFlag70_42.strictMarking" id="clozeFlag70_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag70_42.checkCaps" id="clozeFlag70_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag70_42.instantMarking" id="clozeFlag70_42.instantMarking" value="false">

<input type="hidden" name="clozeVar70_42.feedbackId" id="clozeVar70_42.feedbackId" value="ta70_43">

<table class="tabla" summary="Tabla en la que se debe relacionar cada cláusula de una consulta de agrupamiento con su orden de ejecución.">
	<caption>Ejercicio de relacionar</caption>
	<tbody>
		<tr>
			        	
			<th scope="col">Cláusula.</th>
			<th scope="col">Relación.</th>
			<th scope="col">Función.</th>
		</tr>
		<tr>
			        
			<td>WHERE</td>
			<td class="texto_centrado">  
<label for="clozeBlank70_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.0">JXUwMDY5
</span>
  </td>
			<td>1. PRIMERO</td>
		</tr>
		<tr>
			        
			<td>ORDER BY</td>
			<td class="texto_centrado">  
<label for="clozeBlank70_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.1">JXUwMDZj
</span>
  </td>
			<td>2. SEGUNDO</td>
		</tr>
		<tr>
			        
			<td>HAVING</td>
			<td class="texto_centrado">  
<label for="clozeBlank70_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.2">JXUwMDZi
</span>
  </td>
			<td>3. TERCERO</td>
		</tr>
		<tr>
			        
			<td>GROUP BY</td>
			<td class="texto_centrado">  
<label for="clozeBlank70_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.3">JXUwMDZh
</span>
  </td>
			<td>4. CUARTO</td>
		</tr>
	</tbody>
</table>

<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit70_42" value="Enviar" id="submit70_42">

<input type="button" name="restart70_42" value="Reiniciar" style="display:none" id="restart70_42" onclick="$exe.cloze.restart(&#39;70_42&#39;)">

 
<input type="button" name="70_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton70_42" onclick="$exe.cloze.fillInputs(&#39;70_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore70_42"></div>
</div>
</form>
</section><section id="ta70_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
Efectivamente, es muy importante saber este orden para saber filtrar efectivamente los datos.

</section>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id94-24">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta94_148" class="block story iDevice_content">
<p>Utilizando las tablas y datos de la aplicación EMPRESA descargados</p>
</section>
<section id="taquesQuestion0b94" class="block iDevice_content">
<ol>
<li>Obtener, agrupando, por ciudad el salario medio de los empleados, siempre y cuando en esa ciudad (grupo) haya menos de 3 empleados.</li>
<li>Obtener de la tabla HISTORIAL_LABORAL el número de empleados que ha trabajado en cada Departamento</li>
</ol>
</section>
<form name="feedback-form-quesFeedback0b94" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b94text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b94" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b94" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<p>- Obtener, agrupando, por ciudad el salario medio de los empleados, siempre y cuando en esa ciudad (grupo) haya menos de 3 empleados.</p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 492px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO7_1.JPG" alt="Ejecución de la consulta SELECT CIUDAD, AVG(SALARIO) AS Salario_Medio FROM EMPLEADOS GROUP BY CIUDAD HAVING COUNT(*)&lt;3;   SQLDeveloper" title="Ejecución en SQLDeveloper" width="492" height="333">
<figcaption class="figcaption"><span class="author">Oracle/Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Obtener de la tabla HISTORIAL_LABORAL el número de empleados que ha trabajado en cada Departamento. Si un empleado ha trabajado en distintos períodos en el mismo Departamento sólo se contabilizará una vez. Para eso, vamos a utilizar la cláusula DISTINCT para que solo cuente valores distintos.</p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 678px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO7_2.JPG" alt="Elecución en SQLDeveloper de la sentencia SELECT DPTO_COD, COUNT(DISTINCT EMPLEADO_DNI) AS Num_Empleados FROM HISTORIAL_LABORAL GROUP BY DPTO_COD;" title="Ejecución sentencia en SQLDeveloper" width="678" height="324">
<figcaption class="figcaption"><span class="author">Oracle / Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo </span><span class="sep">)</span></span></figcaption>
</figure>
<p></p></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-25">
<header class="nodeDecoration">
<h1 id="exenode_25_8Consultasmultitablas" class="nodeTitle">8.- Consultas multitablas.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id71-25">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta71_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R20_CASO_PERSONAJES_04.jpg" alt="Juan." title="Juan." class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Hasta ahora <strong>Juan</strong> ha estado haciendo uso de consultas a una única tabla, pero eso limita la obtención de resultados. Si esas tablas están relacionadas <strong>Juan</strong> podrá coger información de cada una de ellas según lo que le interese. En las tablas de la aplicación <code>EMPRESA,</code> tiene por un lado la tabla que recoge los datos del empleado y por otra su historial laboral. En esta última tabla, lo único que recogemos de los empleados es su código. Como a <strong>Juan</strong> le interesa obtener el historial laboral incluyendo nombres y apellidos de sus empleados, debe utilizar la información que viene en ambas tablas.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id72-25">
<div class="iDevice emphasis0">
<div id="ta72_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/SKD246687SDC.png" alt="Mujer agachada en un pasillo de estanterías de libros busca información y consulta un documento." title="Consultando la biblioteca." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Recuerda que una de las propiedades de las bases de datos relacionales era que distribuíamos la información en varias tablas que a su vez estaban relacionadas por algún campo común. Así evitábamos repetir datos. Por tanto, también será frecuente que tengamos que consultar datos que se encuentren distribuidos por distintas tablas.</p>
<p>Disponemos de una tabla <code>USUARIOS</code> cuya clave principal es <span lang="en">Login</span> y esta tabla a su vez está relacionada con la tabla <code>PARTIDAS</code> a través del campo <strong>Cod_Creador_partida</strong>. Si quisiéramos obtener el nombre de los usuarios y las horas de las partidas de cada jugador necesitaríamos coger datos de ambas tablas pués las horas se guardan en la tabla <code>PARTIDAS</code>. Esto significa que cogeremos filas de una y de otra.</p>
<p>Imagina también que en lugar de tener una tabla <code>USUARIOS</code>, dispusiéramos de dos por tenerlas en servidores distintos. Lo lógico es que en algún momento tendríamos que unirlas.</p>
<p>Hasta ahora las consultas que hemos usado se referían a una sola tabla, pero también es posible hacer consultas usando varias tablas en la misma sentencia <code>SELECT</code>. Esto permitirá realizar distintas operaciones como son:</p>
<ul class="lista_verificacion">
<li>La composición interna.</li>
<li>La composición externa.</li>
</ul>
<p>En la versión <span lang="en">SQL</span> de 1999 se especifica una nueva sintaxis para consultar varias tablas que Oracle incorpora, así que también la veremos. La razón de esta nueva sintaxis era separar las condiciones de asociación respecto a las condiciones de selección de registros.</p>
<p>La sintaxis es la siguiente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> tabla1<span class="token punctuation">.</span>columna1<span class="token punctuation">,</span> tabla1<span class="token punctuation">.</span>columna2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> tabla2<span class="token punctuation">.</span>columna1<span class="token punctuation">,</span> tabla2<span class="token punctuation">.</span>columna2<span class="token punctuation">,</span> …
<span class="token keyword">FROM</span> tabla1
     <span class="token punctuation">[</span><span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> tabla2<span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> tabla2<span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">JOIN</span> tabla2 <span class="token keyword">USING</span> <span class="token punctuation">(</span>columna<span class="token punctuation">)</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">JOIN</span> tabla2 <span class="token keyword">ON</span> <span class="token punctuation">(</span>tabla1<span class="token punctuation">.</span>columna<span class="token operator">=</span>tabla2<span class="token punctuation">.</span>columna<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">LEFT</span> <span class="token operator">|</span> RIGTH <span class="token operator">|</span> <span class="token keyword">FULL</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> tabla2 <span class="token keyword">ON</span> <span class="token punctuation">(</span>tabla1<span class="token punctuation">.</span>columna<span class="token operator">=</span>tabla2<span class="token punctuation">.</span>columna<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-26">
<header class="nodeDecoration">
<h1 id="exenode_26_81Composicionesinternas" class="nodeTitle">8.1.- Composiciones internas.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id73-26">
<div class="iDevice emphasis0">
<div id="ta73_73" class="block iDevice_content">
<p>¿Qué ocurre si combinamos dos o más tablas sin ninguna restricción? El resultado será un producto cartesiano.</p>
<p>El <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#t9f1374d3-3b81-a023-7e49-2e0ff95b6197" id="link9f1374d3-3b81-a023-7e49-2e0ff95b6197" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="19" oldtitle="Producto cartesiano | " title="">producto cartesiano</a> entre dos tablas da como resultado todas las combinaciones de todas las filas de esas dos tablas.</p>
<p>Se indica poniendo en la cláusula <code>FROM</code> las tablas que queremos componer separadas por comas. Y puedes obtener el producto cartesiano de las tablas que quieras.</p>
<p>Como lo que se obtiene son todas las posibles combinaciones de filas, debes tener especial cuidado con las tablas que combinas. Si tienes dos tablas de 10 filas cada una, el resultado tendrá <span title="Diez por diez.">10x10</span> filas, a medida que aumentemos el número de filas que contienen las tablas, mayor será el resultado final, con lo cual se puede considerar que nos encontraremos con una operación costosa.</p>
<p>Esta operación no es de las más utilizadas ya que coge una fila de una tabla y la asocia con todos y cada uno de las filas de la otra tabla, independientemente de que tengan relación o no. Lo más normal es que queramos seleccionar los registros según algún criterio.</p>
<p>Necesitaremos <strong>discriminar</strong> de alguna forma para que únicamente aparezcan filas de una tabla que estén relacionadas con la otra tabla. A esto se le llama <strong>asociar tablas</strong> (<code>JOIN</code>).</p>
<p>Para hacer una composición interna se parte de un producto cartesiano y se eliminan aquellas filas que no cumplen la condición de composición.</p>
<p>Lo importante en las composiciones internas es emparejar los campos que han de tener valores iguales.</p>
<p>Las reglas para las composiciones son:</p>
<ul class="lista_verificacion">
<li>Pueden combinarse tantas tablas como se desee.</li>
<li>El criterio de combinación puede estar formado por más de una pareja de columnas.</li>
<li>En la cláusula <code>SELECT</code> pueden citarse columnas de ambas tablas, condicionen o no, la combinación.</li>
<li>Si hay columnas con el mismo nombre en las distintas tablas, deben calificarse o&nbsp; identificarse especificando la tabla de procedencia seguida de un punto o utilizando un alias de tabla.</li>
</ul>
<p class="iDevice_destacadofpd">Las columnas relacionadas que aparecen en la cláusula <code>WHERE</code> se denominan <strong>columnas de join o emparejamiento</strong> ya que son las que permiten emparejar las filas de las dos tablas. Éstas no tienen por qué estar incluidas en la lista de selección. Emparejaremos tablas que estén relacionadas entre sí siendo usualmente las columnas de emparejamiento la clave principal y la clave ajena. Cuando emparejamos campos debemos especificarlo de la siguiente forma: <code>NombreTabla1. Camporelacionado1 = NombreTabla2.Camporelacionado2</code>.</p>
<p>Puedes combinar una tabla consigo misma pero debes poner de manera obligatoria un alias a uno de los nombres de la tabla que vas a repetir.</p>
<p>Veamos un ejemplo, si queremos obtener el historial laboral de los empleados incluyendo nombres y apellidos de los empleados, la fecha en que entraron a trabajar y la fecha de fin de trabajo si ya no continúan en la empresa, tendremos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> Apellido1<span class="token punctuation">,</span> Apellido2<span class="token punctuation">,</span> Fecha_inicio<span class="token punctuation">,</span> Fecha_fin
<span class="token keyword">FROM</span> EMPLEADOS<span class="token punctuation">,</span> HISTORIAL_LABORAL
<span class="token keyword">WHERE</span> HISTORIAL_LABORAL<span class="token punctuation">.</span>Empleado_DNI<span class="token operator">=</span> EMPLEADOS<span class="token punctuation">.</span>DNI<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
<p>Vamos a obtener el historial con los nombres de departamento, nombre y apellidos del empleado de todos los departamentos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre_Dpto<span class="token punctuation">,</span> Nombre<span class="token punctuation">,</span> Apellido1<span class="token punctuation">,</span> Apellido2
<span class="token keyword">FROM</span> DEPARTAMENTOS<span class="token punctuation">,</span> EMPLEADOS<span class="token punctuation">,</span> HISTORIAL_LABORAL
<span class="token keyword">WHERE</span> EMPLEADOS<span class="token punctuation">.</span>DNI<span class="token operator">=</span> HISTORIAL_LABORAL<span class="token punctuation">.</span> EMPLEADO_DNI 
<span class="token operator">AND</span> HISTORIAL_LABORAL<span class="token punctuation">.</span>DPTO_COD <span class="token operator">=</span> DEPARTAMENTOS<span class="token punctuation">.</span> DPTO_COD<span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
<div id="t9f1374d3-3b81-a023-7e49-2e0ff95b6197" class="exe-tooltip-text">
<p>En teoría de conjuntos, el producto cartesiano es un producto directo de conjuntos. En particular, el producto cartesiano de dos conjuntos X e Y, denotado por X × Y, es el conjunto de todos los pares ordenados en los que el primer componente pertenece a X y el segundo a Y.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id74-26">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta74_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b74" class="block iDevice_content">
<p>Utilizando las tablas y datos de la aplicación empresa descargados anteriormente, vamos a realizar una consulta donde obtengamos el nombre de los empleados junto a los salarios que ha tenido consultando para ello la tabla HISTORIAL_SALARIAL</p>
</section>
<form name="feedback-form-quesFeedback0b74" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b74" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<figure class="exe-figure exe-image position-center license-custom" style="width: 500px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO8_1.JPG" alt="Ejecución en SQLDeveloper de la sentencia SELECT Nombre, Apellido1, Apellido2, HISTORIAL_SALARIAL.Salario FROM EMPLEADOS, HISTORIAL_SALARIAL WHERE HISTORIAL_SALARIAL.Empleado_DNI= EMPLEADOS.DNI;" title="Ejecución en SQLDeveloper de la sentencia" width="500" height="339">
<figcaption class="figcaption"><span class="author">Oracle /Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p></p></section>
</form>
<section id="taquesQuestion1b74" class="block iDevice_content">
<p><br>Obtener un listado con el histórico laboral de un empleador cuyo DNI sea '12345'. En dicho listado interesa conocer el nombre del puesto, así como el rango salarial.</p>
</section>
<form name="feedback-form-quesFeedback1b74" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback1b74" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<figure class="exe-figure exe-image position-center license-custom" style="width: 1084px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO8_2.JPG" alt="Ejecución en SQLDeveloper de la sentencia SELECT T.NOMBRE_TRAB, T.SALARIO_MIN, T.SALARIO_MAX, HL.EMPLEADO_DNI, HL.TRAB_COD, HL.FECHA_INICIO, HL.FECHA_FIN, HL.DPTO_COD, HL.SUPERVISOR_DNI  FROM TRABAJOS T, HISTORIAL_LABORAL HL WHERE T.TRABAJO_COD=HL.TRAB_COD AND EMPLEADO_DNI=&#39;12345&#39;;" title="Ejecución en SQLDeveloper de la sentencia" width="1084" height="292">
<figcaption class="figcaption"><span class="author">Oracle / Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p></p></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-27">
<header class="nodeDecoration">
<h1 id="exenode_27_82Composicionesexternas" class="nodeTitle">8.2.- Composiciones externas.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id75-27">
<div class="iDevice emphasis0">
<div id="ta75_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 144px;"><img src="./BD04 - Realización de consultas_files/062.png" alt="Pieza de puzzle naranja." title="Composición externa." class="elemento_derecha" width="144" height="200" style="width: 144px; height: 200px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>¿Has pensado que puede que te interese seleccionar algunas filas de una tabla aunque éstas no tengan correspondencia con las filas de la otra tabla? Esto puede ser necesario.</p>
<p>Imagina que tenemos en una base de datos guardadas en dos tablas la información de los empleados de la empresa (<strong>Cod_empleado, Nombre, Apellidos, salario y Cod_dpto</strong>) por otro lado los departamentos (<strong>Codigo_dep, Nombre</strong>) de esa empresa. Recientemente se ha remodelado la empresa y se han creado un par de departamentos más pero no se les ha asignado los empleados. Si tuviéramos que obtener un informe con los datos de los empleados por departamento, seguro que deben aparecer esos departamentos aunque no tengan empleados. Para poder hacer esta combinación usaremos las composiciones externas.</p>
<p>¿Cómo es el formato? Muy sencillo, añadiremos un signo más entre paréntesis (+) en la igualdad entre campos que ponemos en la cláusula <code>WHERE</code>. El carácter (+) irá detrás del nombre de la tabla en la que deseamos aceptar valores nulos.</p>
<p>En nuestro ejemplo, la igualdad que tenemos en la cláusula <code>WHERE</code> es Cod_dpto (+)= Codigo_dep ya que es en la tabla empleados donde aparecerán valores nulos.</p>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id76-27">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta76_67" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b76" class="block iDevice_content">
<p class="MsoNormal"><span style="font-size: 12pt;">Obtener un listado con los nombres de los distintos departamentos y sus jefes con sus datos personales. Ten en cuenta que deben aparecer todos los departamentos aunque no tengan asignado ningún jefe.</span></p>
</section>
<form name="feedback-form-quesFeedback0b76" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b76text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b76" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b76" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> D<span class="token punctuation">.</span>NOMBRE_DPTO<span class="token punctuation">,</span> D<span class="token punctuation">.</span>JEFE<span class="token punctuation">,</span> E<span class="token punctuation">.</span>NOMBRE<span class="token punctuation">,</span> E<span class="token punctuation">.</span>APELLIDO1<span class="token punctuation">,</span> E<span class="token punctuation">.</span>APELLIDO2
<span class="token keyword">FROM</span> DEPARTAMENTOS D<span class="token punctuation">,</span> EMPLEADOS E
<span class="token keyword">WHERE</span> D<span class="token punctuation">.</span>JEFE <span class="token operator">=</span> E<span class="token punctuation">.</span>DNI<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<figure class="exe-figure exe-image position-center license-custom" style="width: 621px;">Para tener algún dato que cumpla la condición, es decir, algún departamento sin jefe insertamos previamente una fila. Si hubieramos realizado un join normal este último departamenteo no habría salido. Pruébalo.</figure>
<figure class="exe-figure exe-image position-center license-custom" style="width: 621px;"><img src="./BD04 - Realización de consultas_files/BD04_RESUELTO8_2a.JPG" alt="Ejecución en SQLDeveloper de la sentencia insert Y  SELECT D.NOMBRE_DPTO, D.JEFE, E.NOMBRE, E.APELLIDO1, E.APELLIDO2 FROM DEPARTAMENTOS D, EMPLEADOS E WHERE D.JEFE = E.DNI(+);" title="Ejecución en SQLDeveloper " width="621" height="334">
<figcaption class="figcaption"><span class="author">Oracle / Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<pre><br><br><br></pre></section>
</form>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id77-27">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-77_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion77_60" class="block question iDevice_content">
<strong>Si queremos incluir aquellas filas que no tienen aún correspondencia con la tabla relacionada, tendremos que poner un signo más entre paréntesis:</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_63">Opción 1</a></label><input type="radio" name="option77_60" id="i77_63" class="exe-radio-option exe-radio-option-0-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_63"><div id="taans77_63" class="block iDevice_content">
Delante del nombre de la tabla en la cláusula FROM.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_173" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_173">Opción 2</a></label><input type="radio" name="option77_60" id="i77_173" class="exe-radio-option exe-radio-option-1-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_173"><div id="taans77_173" class="block iDevice_content">
Delante del nombre del campo que relaciona donde sabemos que hay valores nulos.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_176" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_176">Opción 3</a></label><input type="radio" name="option77_60" id="i77_176" class="exe-radio-option exe-radio-option-2-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_176"><div id="taans77_176" class="block iDevice_content">
Detrás del nombre del campo que relaciona donde sabemos que hay valores nulos.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_179" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_179">Opción 4</a></label><input type="radio" name="option77_60" id="i77_179" class="exe-radio-option exe-radio-option-3-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_179"><div id="taans77_179" class="block iDevice_content">
Delante del nombre del campo que relaciona donde sabemos que no hay valores nulos.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b77_60" class="feedback js-hidden">
<div id="taf77_63" class=" iDevice_content">
Incorrecto, inténtalo de nuevo, en la cláusula FROM se listan las tablas y sus alias.

</div>
</section>
<section id="sa1b77_60" class="feedback js-hidden">
<div id="taf77_173" class=" iDevice_content">
No es correcto, piénsalo bien, delante del nombre del campo indicamos la tabla acompañada de un punto y seguida del nombre del campo.

</div>
</section>
<section id="sa2b77_60" class="feedback js-hidden">
<div id="taf77_176" class=" iDevice_content">
Estupendo, ya has aprendido a realizar composiciones externas.

</div>
</section>
<section id="sa3b77_60" class="feedback js-hidden">
<div id="taf77_179" class=" iDevice_content">
No es cierto, lo siento, debes intentarlo de nuevo.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa0b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_173">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa1b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_176">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa2b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-77_179">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#sa3b77_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-28">
<header class="nodeDecoration">
<h1 id="exenode_28_83ComposicionesenlaversinSQL99" class="nodeTitle">8.3.- Composiciones en la versión SQL99.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id78-28">
<div class="iDevice emphasis0">
<div id="ta78_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/064.png" alt="Pieza de puzzle verde." title="Otras composiciones." class="elemento_derecha" width="200" height="144" style="width: 200px; height: 144px;">
<figcaption class="figcaption"><span class="author"> Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Como has visto, SQL incluye en esta versión mejoras de la sintaxis a la hora de crear composiciones en consultas. Recuerda que la sintaxis es la siguiente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> tabla1<span class="token punctuation">.</span>columna1<span class="token punctuation">,</span> tabla1<span class="token punctuation">.</span>columna2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> tabla2<span class="token punctuation">.</span>columna1<span class="token punctuation">,</span> tabla2<span class="token punctuation">.</span>columna2<span class="token punctuation">,</span> …
<span class="token keyword">FROM</span> tabla1
     <span class="token punctuation">[</span><span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> tabla2<span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> tabla2<span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">JOIN</span> tabla2 <span class="token keyword">USING</span> <span class="token punctuation">(</span>columna<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">JOIN</span> tabla2 <span class="token keyword">ON</span> <span class="token punctuation">(</span>tabla1<span class="token punctuation">.</span>columna<span class="token operator">=</span>tabla2<span class="token punctuation">.</span>columna<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">|</span>
     <span class="token punctuation">[</span><span class="token keyword">LEFT</span> <span class="token operator">|</span> RIGTH <span class="token operator">|</span> <span class="token keyword">FULL</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> tabla2 <span class="token keyword">ON</span> <span class="token punctuation">(</span>tabla1<span class="token punctuation">.</span>columna<span class="token operator">=</span>tabla2<span class="token punctuation">.</span>columna<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p><code>CROSS JOIN</code>: creará un producto cartesiano de las filas de ambas tablas por lo que podemos olvidarnos de la cláusula <code>WHERE</code>.&nbsp;</p>
<p><code>NATURAL JOIN</code>: detecta automáticamente las claves de unión, basándose en el nombre de la columna que coincide en ambas tablas. Por supuesto, se requerirá que las columnas de unión tengan el mismo nombre en cada tabla. Además, esta característica funcionará incluso si no están definidas las claves primarias o ajenas.</p>
<p><code>JOIN USING</code>: las tablas pueden tener más de un campo para relacionar y no siempre queremos que se relacionen por todos los campos. Esta cláusula permite establecer relaciones indicando qué campo o campos comunes se quieren utilizar para ello.</p>
<p><code>JOIN ON</code>: se utiliza para unir tablas en la que los nombres de columna no coinciden en ambas tablas o se necesita establecer asociaciones más complicadas.</p>
<p><code>OUTER JOIN</code>: se puede eliminar el uso del signo (+) para composiciones externas utilizando un <code>OUTER JOIN</code>, de este modo resultará más fácil de entender.</p>
<p><code>LEFT OUTER JOIN:</code> es una composición externa izquierda, todas las filas de la tabla de la izquierda se devuelven, aunque no haya ninguna columna correspondiente en las tablas combinadas.</p>
<p><code>RIGTH OUTER JOIN</code>: es una composición externa derecha, todas las filas de la tabla de la derecha se devuelven, aunque no haya ninguna columna correspondiente en las tablas combinadas.</p>
<p><code>FULL OUTER JOIN</code>: es una composición externa en la que se devolverán todas las filas de los campos no relacionados de ambas tablas.</p>
<p>Podríamos transformar algunas de las consultas con las que hemos estado trabajando:</p>
<p>Queríamos obtener el historial laboral de los empleados incluyendo nombres y apellidos de los empleados, la fecha en que entraron a trabajar y la fecha de fin de trabajo si ya no continúan en la empresa. Es una consulta de composición interna, luego utilizaremos <code>JOIN ON</code>:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> E<span class="token punctuation">.</span>Nombre<span class="token punctuation">,</span> E<span class="token punctuation">.</span>Apellido1<span class="token punctuation">,</span> E<span class="token punctuation">.</span>Apellido2<span class="token punctuation">,</span> H<span class="token punctuation">.</span>Fecha_inicio<span class="token punctuation">,</span> H<span class="token punctuation">.</span>Fecha_fin
<span class="token keyword">FROM</span> EMPLEADOS E <span class="token keyword">JOIN</span> HISTORIAL_LABORAL H <span class="token keyword">ON</span> <span class="token punctuation">(</span>H<span class="token punctuation">.</span>Empleado_DNI<span class="token operator">=</span> E<span class="token punctuation">.</span>DNI<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Queríamos también, obtener un listado con los nombres de los distintos departamentos y sus jefes con sus datos personales. Ten en cuenta que deben aparecer todos los departamentos aunque no tengan asignado ningún jefe. Aquí estamos ante una composición externa, luego podemos utilizar <code>OUTER JOIN</code>:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span>  D<span class="token punctuation">.</span>NOMBRE_DPTO<span class="token punctuation">,</span> D<span class="token punctuation">.</span>JEFE<span class="token punctuation">,</span> E<span class="token punctuation">.</span>NOMBRE<span class="token punctuation">,</span> E<span class="token punctuation">.</span>APELLIDO1<span class="token punctuation">,</span> E<span class="token punctuation">.</span>APELLIDO2
<span class="token keyword">FROM</span> DEPARTAMENTOS D <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> EMPLEADOS E <span class="token keyword">ON</span> <span class="token punctuation">(</span> D<span class="token punctuation">.</span>JEFE <span class="token operator">=</span> E<span class="token punctuation">.</span>DNI<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id79-28">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta79_47" class="block iDevice_content">
<p>
En MySQL también se utilizan las composiciones, aquí puedes verlo:
</p>
<p class="enlace_centrado">
<a href="http://mysql.conclase.net/curso/?cap=012a#MUL_JOIN" title="Acceder a la web de MySQL con Clase." target="_self">Composiciones.</a>
</p>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-29">
<header class="nodeDecoration">
<h1 id="exenode_29_9OtrasconsultasmultitablasUninInterseccinydiferenciadeconsultas" class="nodeTitle">9.- Otras consultas multitablas: Unión, Intersección y diferencia de consultas.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id80-29">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta80_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" alt="Ana" title="Ana" class="elemento_derecha" width="200" height="132" style="width: 200px; height: 132px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Ana le cuenta a Carlos que ya tienen terminado casi todo el trabajo, pero que no le importa enseñarle otros tipos de consultas que no han necesitado utilizar en esta ocasión pero que es conveniente conocer, se refiere al uso de uniones, intersecciones y diferencia de consultas. Le explicará que es muy parecido a la teoría de conjuntos que recordará de haber terminado hace poco sus estudios.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id81-29">
<div class="iDevice emphasis0">
<div id="ta81_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 160px;"><img src="./BD04 - Realización de consultas_files/SKD284234SDC.png" alt="Cubo creado con unión de distintas piezas." title="Cubo." class="elemento_derecha" width="160" height="160" style="width: 160px; height: 160px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Seguro que cuando empieces a trabajar con bases de datos llegará un momento en que dispongas de varias tablas con los mismos datos guardados para distintos registros y quieras unirla en una única tabla. ¿Esto se puede hacer? Es una operación muy común junto a otras. Al fin y al cabo, una consulta da como resultado un conjunto de filas y con conjuntos podemos hacer, entre otras, tres tipos de operaciones comunes como son: unión, intersección y diferencia.</p>
<p><code>UNION</code>: combina las filas de un primer <code>SELECT</code> con las filas de otro <code>SELECT</code>, desapareciendo las filas duplicadas.</p>
<p><code>INTERSECT</code>: examina las filas de dos <code>SELECT</code> y devolverá aquellas que aparezcan en ambos conjuntos. Las filas duplicadas se eliminarán.</p>
<p><code>MINUS</code>: devuelve aquellas filas que están en el primer <code>SELECT</code> pero no en el segundo. Las filas duplicadas del primer <code>SELECT</code> se reducirán a una antes de comenzar la comparación.</p>
<p>Para estas tres operaciones es muy <strong>importante</strong> que utilices en los dos <code>SELECT</code> el <strong>mismo número</strong> y <code>tipo</code> de <strong>columnas</strong> y en el <strong>mismo orden</strong>.</p>
<p>Estas operaciones se pueden combinar anidadas, pero es conveniente utilizar paréntesis para indicar que operación quieres que se haga primero.</p>
<p>Veamos un ejemplo de cada una de ellas.</p>
<p><strong>UNIÓN: Obtener los nombres y ciudades de todos los proveedores y clientes de Alemania.</strong></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> NombreCia<span class="token punctuation">,</span> Ciudad <span class="token keyword">FROM</span>  PROVEEDORES <span class="token keyword">WHERE</span> Pais <span class="token operator">=</span> <span class="token string">'Alemania'</span> 
<span class="token keyword">UNION</span> 
<span class="token keyword">SELECT</span> NombreCia<span class="token punctuation">,</span> Ciudad  <span class="token keyword">FROM</span> CLIENTES <span class="token keyword">WHERE</span> Pais <span class="token operator">=</span> <span class="token string">'Alemania'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p><strong>INTERSECCIÓN: Una academia de idiomas da clases de inglés, frances y portugues; almacena los datos de los alumnos en tres tablas distintas una llamada "ingles", en una tabla denominada "frances" y los que aprenden portugues en la tabla "portugues". La academia necesita el nombre y domicilio de todos los alumnos que cursan los tres idiomas para enviarles información sobre los exámenes.</strong></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> domicilio <span class="token keyword">FROM</span> ingles <span class="token keyword">INTERSECT</span>
<span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> domicilio <span class="token keyword">FROM</span> frances <span class="token keyword">INTERSECT</span>
<span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> domicilio <span class="token keyword">FROM</span> portugues<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
<p><strong>DIFERENCIA: Ahora la academia necesita el nombre y domicilio solo de todos los alumnos que cursan inglés (no quiere a los que ya cursan portugués pues va a enviar publicidad referente al curso de portugués).</strong></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> domicilio <span class="token keyword">FROM</span> INGLES
MINUS 
<span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span>domicilio <span class="token keyword">FROM</span> PORTUGUES<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id82-29">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<div id="actitity-82_55">
<form name="multi-select-form-82_55" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form multi-select-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion82_55" class="block question iDevice_content">
<strong>¿Cuáles de las siguientes afirmaciones son correctas?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_550" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_58">Opción 1</a></label><input type="checkbox" id="op82_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_58"><div id="taans82_58" class="block iDevice_content">
La unión combina las filas de un primer <code>SELECT</code> con las filas de otro <code>SELECT</code>, desapareciendo las filas duplicadas. 

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-82_550" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_551" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_185">Opción 2</a></label><input type="checkbox" id="op82_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_185"><div id="taans82_185" class="block iDevice_content">
La diferencia devuelve aquellas filas que están en el primer <code>SELECT</code> pero no en el segundo. Correcta.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-82_551" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_552" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_187">Opción 3</a></label><input type="checkbox" id="op82_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_187"><div id="taans82_187" class="block iDevice_content">
La intersección examina las filas de un <code>SELECT</code> y de otro y devolverá aquellas que aparezcan en ambos conjuntos.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-82_552" style="display:none"></section>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_553" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_189">Opción 4</a></label><input type="checkbox" id="op82_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_189"><div id="taans82_189" class="block iDevice_content">
En uniones, intersecciones y diferencias, los dos <code>SELECT</code> deben tener el mismo número pero no tienen por qué tener el mismo tipo de columnas.

</div>
</div>
<section class="iDevice_answer-feedback feedback" id="feedback-82_553" style="display:none"></section>
</section>
</section>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-82_55"> 
</p>
</div>
<section id="f82_55" class="js-hidden js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>

<div id="tafeedback82_55" class="feedback iDevice_content">
Estas son las operaciones que realizan.

</div>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_58" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_185" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_187" class="right">Correcto</a></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#answer-82_189" class="right">Correcto</a></li>
</ol>
</section>
</div>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-30">
<header class="nodeDecoration">
<h1 id="exenode_30_10Subconsultas" class="nodeTitle">10.- Subconsultas.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id83-30">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta83_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD04 - Realización de consultas_files/57432025.png" alt="Dos ejecutivas analizando un informe que una de ellas sostiene." title="Reunidas." class="elemento_derecha" width="200" height="144" style="width: 200px; height: 144px;">
<figcaption class="figcaption"><span class="author">Stockbyte</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>— ¿Es posible consultar dentro de otra consulta? — pregunta <strong>Carlos</strong>.</p>
<p>Ha estado pensando que a veces va a necesitar filtrar los datos en función de un resultado que a priori desconoce. <strong>Ana</strong> se pone manos a la obra porque ve que ha llegado el momento de explicarle a <strong>Carlos</strong> las subconsultas.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id84-30">
<div class="iDevice emphasis0">
<div id="ta84_73" class="block iDevice_content">
<p>A veces tendrás que utilizar en una consulta los resultados de otra que llamaremos <strong>subconsulta o consulta subordinada</strong>. La sintaxis es:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> listaExpr
                <span class="token keyword">FROM</span> tabla
                <span class="token keyword">WHERE</span> expresión_o_columna OPERADOR 
                <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> expresion_o_columna
                <span class="token keyword">FROM</span> tabla<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre>    </pre>
</div>
<p>La subconsulta, también llamada subselect, puede ir dentro de las cláusulas <code>WHERE</code>, <code>HAVING</code> o <code>FROM</code>.&nbsp;</p>
<p>Dependiendo de los operadores utilizados las subconsultas pueden devolver 1 o varias filas:</p>
<ul>
<li class="lista_verificacion">El <strong>OPERADOR</strong> puede ser <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>!=</code>, <code>=</code> o <code>IN</code>. Las subconsultas que se utilizan con estos operadores <strong>devuelven un único valor.&nbsp;</strong>Si la subconsulta devolviera más de un valor devolvería un error.</li>
</ul>
<p>Como puedes ver en la sintaxis, las subconsultas deben ir entre paréntesis y a la derecha del operador.</p>
<p>Pongamos un ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> Nombre<span class="token punctuation">,</span> salario
                <span class="token keyword">FROM</span> EMPLEADOS
                <span class="token keyword">WHERE</span> salario <span class="token operator">&lt;</span> 
                <span class="token punctuation">(</span><span class="token keyword">SELECT</span> salario <span class="token keyword">FROM</span> EMPLEADOS     
                <span class="token keyword">WHERE</span> Nombre<span class="token operator">=</span> <span class="token string">'Ana'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre>    </pre>
</div>
<p>Obtendríamos el nombre de los empleados y el sueldo de aquellos que cobran menos que Ana. Si hubiese más de un empleado que se llamase Ana esta consulta daría error ya que la subconsulta devolvería más de una fila.</p>
<p>El tipo de dato que devuelve la subconsulta y la columna con la que se compara ha de ser el mismo.</p>
<p>¿Qué hacemos si queremos comparar un valor con varios, es decir, si queremos que la subconsulta devuelva más de un valor y comparar el campo que tenemos con dichos valores? Imagina que queremos ver si el sueldo de un empleado que es administrativo es mayor o igual que el sueldo medio de otros puestos en la empresa. Para saberlo deberíamos calcular el sueldo medio de las demás ocupaciones que tiene la empresa y éstos compararlos con la de nuestro empleado. Como ves, el resultado de la subconsulta es más de una fila. ¿Qué hacemos?</p>
<ul>
<li class="lista_verificacion">Cuando el resultado de la subconsulta es <strong>más de una fila</strong>, SQL utiliza <strong>palabras reservadas</strong>&nbsp;entre el operador y la consulta. Estas&nbsp; son:
<ul>
<li class="lista_verificacion"><code>ANY</code>. Compara con cualquier fila de la consulta. La instrucción es válida si hay un registro en la subconsulta que permite que la comparación sea cierta.</li>
<li class="lista_verificacion"><code>ALL</code>. Compara con todas las filas de la consulta. La instrucción resultará cierta si es cierta la comparación con todas las filas devuelas por la subconsulta.</li>
<li class="lista_verificacion"><code>IN</code>. No utiliza comparador, lo que hace es comprobar si el valor se encuentra en el resultado de la subconsulta.</li>
<li class="lista_verificacion"><code>NOT IN</code>. Comprueba si un valor no se encuentra en una subconsulta.</li>
</ul>
</li>
</ul>
<p>En la siguiente consulta obtenemos el empleado que menos cobra:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> salario
<span class="token keyword">FROM</span> EMPLEADOS
<span class="token keyword">WHERE</span> salario <span class="token operator">&lt;=</span> <span class="token keyword">ALL</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> salario <span class="token keyword">FROM</span> EMPLEADOS<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<p>Esa misma consulta se podría haber realizado utilizando la función de agregado o colectiva MIN de la siguiente forma:<br><br></p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> nombre<span class="token punctuation">,</span> salario
<span class="token keyword">FROM</span> EMPLEADOS
<span class="token keyword">WHERE</span> salario <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salario<span class="token punctuation">)</span> <span class="token keyword">FROM</span> EMPLEADOS<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<p></p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id85-30">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta85_41" class="block instructions iDevice_content">
<strong>Relaciona cada instrucción con su función:</strong>

</section>
<section class="activity" id="activity-85_42">
<form name="cloze-form-85_42" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/index.html#" class="activity-form cloze-activity-form">
<div id="cloze85_42">
<input type="hidden" name="clozeFlag85_42.strictMarking" id="clozeFlag85_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag85_42.checkCaps" id="clozeFlag85_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag85_42.instantMarking" id="clozeFlag85_42.instantMarking" value="false">

<input type="hidden" name="clozeVar85_42.feedbackId" id="clozeVar85_42.feedbackId" value="ta85_43">

<table class="tabla" summary="Tabla en la que se debe relacionar cada instrucción son su función en las subconsultas."><caption>Ejercicio de relacionar</caption>
<tbody>
<tr>
<th scope="col">Instrucción.</th>
<th scope="col">Relación.</th>
<th scope="col">Función.</th>
</tr>
<tr>
<td><code>ANY</code></td>
<td class="texto_centrado">
<label for="clozeBlank85_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.0">JXUwMDY5
</span>
</td>
<td>1. Compara con cualquier fila de la consulta.</td>
</tr>
<tr>
<td><code>ALL</code></td>
<td class="texto_centrado">
<label for="clozeBlank85_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.1">JXUwMDZi
</span>
</td>
<td>2. Comprueba si el valor se encuentra en el resultado de la subconsulta.</td>
</tr>
<tr>
<td><code>IN</code></td>
<td class="texto_centrado">
<label for="clozeBlank85_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.2">JXUwMDZh
</span>
</td>
<td>3. Compara con todas las filas de la consulta.</td>
</tr>
<tr>
<td><code>NOT IN</code></td>
<td class="texto_centrado">
<label for="clozeBlank85_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.3">JXUwMDZj
</span>
</td>
<td>4. Comprueba si un valor no se encuentra en una subconsulta.</td>
</tr>
</tbody>
</table>
<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit85_42" value="Enviar" id="submit85_42">

<input type="button" name="restart85_42" value="Reiniciar" style="display:none" id="restart85_42" onclick="$exe.cloze.restart(&#39;85_42&#39;)">

 
<input type="button" name="85_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton85_42" onclick="$exe.cloze.fillInputs(&#39;85_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore85_42"></div>
</div>
</form>
</section><section id="ta85_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
Recuerda que estas instrucciones se utilizan en subconsultas que devuelven más de una fila.

</section>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id86-30">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta86_47" class="block iDevice_content">
<p>
¿Quieres más ejemplos con los que practicar? 
</p>
<p class="enlace_centrado">
<a href="http://superalumnos.net/ejercicios_resueltos_de_sql" title="Acceder a un documento con ejercicios resueltos." target="_self">Ejercicios SQL.</a>
</p>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-34">
<header class="nodeDecoration">
<h1 id="exenode_34_AnexoIBasededatosdeejemploJuegosonline" class="nodeTitle">Anexo I.- Base de datos de ejemplo (Juegos online).</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id89-34">
<div class="iDevice emphasis0">
<div id="ta89_73" class="block iDevice_content">
<p><a name="anexo_i_base_de_datos_de_ejemplo_juegos_online.html" title="anexo_i_base_de_datos_de_ejemplo_juegos_online.html"></a></p>
<h6><strong>Enunciado.</strong></h6>
<p>Un sitio de juegos <span lang="en">online</span> por Internet desea contar con una base de datos para gestionar los usuarios, juegos y partidas que se desarrollan en el mismo. El funcionamiento del sitio es el siguiente:</p>
<p>Cuando un usuario intenta entrar en este sitio, se le pedirá un <span lang="en">login</span> y un <span lang="en">password</span>. El sistema comprobará si el usuario tiene cuenta y en caso negativo se le pedirá el nombre, correo, <span lang="en">login</span> y <span lang="en">password</span>.</p>
<p>De los juegos se quiere almacenar un código identificador, nombre y descripción.</p>
<p>Los usuarios que tengan en casa el juego apropiado, podrán crear partidas de ese juego para que otros usuarios se unan a la partida o unirse a partidas existentes.</p>
<p>De las partidas se almacenará un código de partida, la fecha y hora de creación, el nombre de la partida y el estado (en curso o finalizada). Además hay que tener en cuenta que una partida sólo puede ser de un juego y un juego tener varias partidas.</p>
<p><strong>Diagrama E-R.</strong></p>
<div class="elemento_centrado">
<div class="elemento_centrado">
<figure class="exe-figure exe-image position-center license-custom" style="width: 425px;"><a href="./BD04 - Realización de consultas_files/BD04_CONT_AUXR05_01_R01_diagrama.png" title="Ampliar imagen." rel="lightbox"><img src="./BD04 - Realización de consultas_files/BD04_CONT_AUXR05_01_R01_diagrama.png" alt="Diagrama entidad relación de la base de datos de juegos online." title="Diagrama E-R. de BD Juegos online. Pulsar para ampliar" class="imagen_ampliable" width="425" height="649" style="width: 130px; height: 200px; vertical-align: middle;"></a>
<figcaption class="figcaption"><span class="author">Ministerio de Educación.</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<h6><strong>Estructura de Tablas.</strong></h6>
<table class="tabla" summary="En la siguiente tabla se muestran los datos de las tablas que se han creado al pasar al modelo entidad-relación. La primera fila muestra los nombres de las tablas que tendremos en la base de datos de juegos online (USUARIOS, PARTIDAS, JUEGOS y UNEN) y dentro de cada una de ellas aparecen los nombres de los campos que la forman junto con los tipos de datos correspondientes, incluyendo su tamaño."><caption>Estructura de tablas que forman la base de datos de juegos online.</caption>
<thead>
<tr>
<th scope="col">USUARIOS</th>
<th scope="col">PARTIDAS</th>
<th scope="col">JUEGOS</th>
<th scope="col">UNEN</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p><code>login    VARCHAR2(15)</code></p>
<p><code>password VARCHAR2(9)</code></p>
<p><code>nombre VARCHAR2(25)</code></p>
<p><code>apellidos VARCHAR2(30)</code></p>
<p><code>direccion VARCHAR2(30)</code></p>
<p><code>cp VARCHAR2(5)</code></p>
<p><code>localidad VARCHAR2(25)</code></p>
<p><code>provincia VARCHAR2(25)</code></p>
<p><code>pais VARCHAR2(15)</code></p>
<p><code>f_nacimiento DATE</code></p>
<p><code>f_ingreso DATE</code></p>
<p><code>correo VARCHAR2(25)</code></p>
<p><code>credito NUMBER</code></p>
<p><code>sexo VARCHAR2(1)</code></p>
</td>
<td>
<p><code>codigo VARCHAR2(15)</code></p>
<p><code>nombre VARCHAR2(25)</code></p>
<p><code>estado VARCHAR2(1)</code></p>
<p><code>cod_juego VARCHAR2(15)</code></p>
<p><code>fecha_inicio_partida DATE</code></p>
<p><code>hora_inicio_partida TIMESTAMP</code></p>
<p><code>cod_creador_partida VARCHAR2(15)</code></p>
</td>
<td>
<p><code>codigo VARCHAR2(15)</code></p>
<p><code>nombre VARCHAR2(25)</code></p>
<p><code>descripcion VARCHAR2(200)</code></p>
</td>
<td>
<p><code>codigo_partida VARCHAR2(15)</code></p>
<p><code>codigo_usuario VARCHAR2(15)</code></p>
</td>
</tr>
</tbody>
</table>
<p></p>
<p></p>
<h6><strong>Sentencias de creación de tablas</strong></h6>
<div class="no-overflow" id="yui_3_17_2_1_1597509767195_131">
<p>A continuación se presentan unas posibles sentencias SQL de creación de las tablas del ejercicio.</p>
<p><b>TABLA USUARIOS</b></p>
<pre></pre>
<pre id="yui_3_17_2_1_1597509767195_135">CREATE TABLE USUARIOS (
         login         VARCHAR2(15) PRIMARY KEY NOT NULL,  
         password      VARCHAR2(9) NOT NULL, 
         nombre        VARCHAR2(25) NOT NULL,
         apellidos     VARCHAR2(30) NOT NULL,
         direccion     VARCHAR2(30) NOT NULL,
         cp            VARCHAR2(5) NOT NULL, 
         localidad     VARCHAR2(25) NOT NULL,
         provincia     VARCHAR2(25) NOT NULL,
         pais          VARCHAR2(15) NOT NULL, 
         f_nac      DATE,
         f_ing      DATE DEFAULT (sysdate),
         correo     VARCHAR2(25) NOT NULL,
         credito    NUMBER,
         sexo       VARCHAR2(1));<br><br></pre>
<b>TABLA JUEGOS</b><br>
<p></p>
<pre>CREATE TABLE JUEGOS(
         codigo        VARCHAR2(15) PRIMARY KEY NOT NULL,  
         nombre        VARCHAR2(15) NOT NULL,
         descripcion   VARCHAR2(200) NOT NULL);
</pre>
<br><b>TABLA PARTIDAS</b><br><br>
<pre>CREATE TABLE PARTIDAS(
         codigo        VARCHAR2(15) PRIMARY KEY NOT NULL,  
         nombre        VARCHAR2(25) NOT NULL,
         estado        VARCHAR2(1) NOT NULL,
         cod_juego     VARCHAR2(15) NOT NULL
                       CONSTRAINT CA_cod_juego REFERENCES JUEGOS(codigo),
         fecha_inicio  DATE, 
         hora_inicio   TIMESTAMP,
         cod_creador   VARCHAR2(15) 
                       CONSTRAINT CA_cod_creador REFERENCES USUARIOS(login));</pre>
<b>TABLA UNEN</b><br>
<p></p>
<pre>CREATE TABLE UNEN(
        codigo_partida VARCHAR2(15) NOT NULL
                       CONSTRAINT CA_codigo_partida REFERENCES PARTIDAS(codigo),  
        codigo_usuario VARCHAR2(15) NOT NULL
                       CONSTRAINT CA_codigo_usuario REFERENCES USUARIOS(login),
        CONSTRAINT PK_UNEN primary key (codigo_partida, codigo_usuario));</pre>
</div>
<p><strong></strong></p>
<h6><strong>Ejemplos de datos.</strong></h6>
<p><strong>TABLA USUARIOS(Campos desde Login a Código Postal):</strong></p>
<table class="tabla" summary="En la siguiente tabla se muestran 15 registros de la tabla USUARIOS. Los campos que reflejan son Login, Pasword, Nombre, Apellidos, Dirección y Código Postal. La primera fila muestra los nombres de los campos. En la siguiente tabla se recogen los datos de esos mismo registros para los siguientes campos de la tabla."><caption>Datos de la tabla USUARIOS. Primera parte.</caption>
<thead>
<tr>
<th scope="col"><code>LOGIN</code></th>
<th scope="col"><code>PASSWORD</code></th>
<th scope="col"><code>NOMBRE</code></th>
<th scope="col"><code>APELLIDOS</code></th>
<th scope="col"><code>DIRECCION</code></th>
<th scope="col"><code>CP</code></th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">anamat56</th>
<td>JD9U6?</td>
<td>ANA M.</td>
<td>MATA VARGAS</td>
<td>GARCILASO DE LA VEGA</td>
<td>08924</td>
</tr>
<tr>
<th scope="row">alecam89</th>
<td>5;5@PK</td>
<td>ALEJANDRO EMILIO</td>
<td>CAMINO LAZARO</td>
<td>PEDRO AGUADO BLEYE</td>
<td>34004</td>
</tr>
<tr>
<th scope="row">verbad64</th>
<td>MP49HF</td>
<td>VERONICA</td>
<td>BADIOLA PICAZO</td>
<td>BARRANCO GUINIGUADA</td>
<td>35015</td>
</tr>
<tr>
<th scope="row">conmar76</th>
<td>O1&lt;N9U</td>
<td>CONSUELO</td>
<td>MARTINEZ RODRIGUEZ</td>
<td>ROSA</td>
<td>04002</td>
</tr>
<tr>
<th scope="row">encpay57</th>
<td>FYC3L5</td>
<td>ENCARNACIÓN</td>
<td>PAYO MORALES</td>
<td>MULLER,AVINGUDA</td>
<td>43007</td>
</tr>
<tr>
<th scope="row">mandia79</th>
<td>00JRIH</td>
<td>MANUELA</td>
<td>DIAZ COLAS</td>
<td>214 (GENOVA)</td>
<td>07015</td>
</tr>
<tr>
<th scope="row">alibar52</th>
<td>IER8S</td>
<td>ALICIA MARIA</td>
<td>BARRANCO CALLIZO</td>
<td>HECTOR VILLALOBOS</td>
<td>29014</td>
</tr>
<tr>
<th scope="row">adofid63</th>
<td>;82=MH</td>
<td>ADOLFO</td>
<td>FIDALGO DIEZ</td>
<td>FORCALL</td>
<td>12006</td>
</tr>
<tr>
<th scope="row">jesdie98</th>
<td>X565ZS</td>
<td>JESUS</td>
<td>DIEZ GIL</td>
<td>TABAIBAL</td>
<td>35213</td>
</tr>
<tr>
<th scope="row">pedsan70</th>
<td>T?5=J@</td>
<td>PEDRO</td>
<td>SANCHEZ GUIL</td>
<td>PINTOR ZULOAGA</td>
<td>03013</td>
</tr>
<tr>
<th scope="row">diahue96</th>
<td>LSQZMC</td>
<td>DIANA</td>
<td>HUERTA VALIOS</td>
<td>JOAQUIN SALAS</td>
<td>39011</td>
</tr>
<tr>
<th scope="row">robrod74</th>
<td>&lt;LQMLP</td>
<td>ROBERTO</td>
<td>RODRIGUEZ PARMO</td>
<td>CASTILLO HIDALGO</td>
<td>51002</td>
</tr>
<tr>
<th scope="row">milgar78</th>
<td>SF=UZ8</td>
<td>MILAGROSA</td>
<td>GARCIA ELVIRA</td>
<td>PEDRALBA</td>
<td>28037</td>
</tr>
<tr>
<th scope="row">frabar93</th>
<td>19JZ7@</td>
<td>FRANCISCA</td>
<td>BARRANCO RODRIGUEZ</td>
<td>BALSAS, LAS</td>
<td>26006</td>
</tr>
<tr>
<th scope="row">migarc93</th>
<td>AAFLTW</td>
<td>MIGUEL ANGEL</td>
<td>ARCOS ALONSO</td>
<td>ISAAC ALBENIZ</td>
<td>04008</td>
</tr>
</tbody>
</table>
<p></p>
<p><strong>TABLA USUARIOS (Campos desde Localidad a Sexo):</strong></p>
<table class="tabla" summary="En la siguiente tabla se muestran 15 registros de la tabla USUARIOS. Los campos que reflejan son Localidad, Provincia, País, Fecha de nacimiento, Fecha de Ingreso Correo electrónico, Crédito y Sexo del usuario. La primera fila muestra los nombres de los campos. Esta tabla es continuación a la tabla anterior y se recogen los datos de esos mismo registros para estos campos."><caption>Datos de la tabla USUARIOS. Segunda parte.</caption>
<thead>
<tr>
<th scope="col"><code>LOCALIDAD</code></th>
<th scope="col"><code>PROVINCIA</code></th>
<th scope="col"><code>PAIS</code></th>
<th scope="col"><code>F_NACIMIENTO</code></th>
<th scope="col"><code>F_INGRESO</code></th>
<th scope="col"><code>CORREO</code></th>
<th scope="col"><code>CREDITO</code></th>
<th scope="col"><code>SEXO</code></th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">SANTA COLOMA DE GRAMANET</th>
<td>BARCELONA</td>
<td>ESPAÑA</td>
<td>08/25/1974</td>
<td>10/10/2007</td>
<td>anamat56@hotmail.com</td>
<td>213</td>
<td>M</td>
</tr>
<tr>
<th scope="row">PALENCIA</th>
<td>PALENCIA</td>
<td>ESPAÑA</td>
<td>05/03/1976</td>
<td>10/15/2010</td>
<td>alecam89@hotmail.com</td>
<td>169</td>
<td>H</td>
</tr>
<tr>
<th scope="row">PALMAS DE GRAN CANARIA,LAS</th>
<td>PALMAS (LAS)</td>
<td>ESPAÑA</td>
<td>01/28/1984</td>
<td>10/23/2010</td>
<td>verbad64@hotmail.com</td>
<td>437</td>
<td>M</td>
</tr>
<tr>
<th scope="row">ALMERÍA</th>
<td>ALMERÍA</td>
<td>ESPAÑA</td>
<td>08/09/1978</td>
<td>03/25/2007</td>
<td>conmar76@yahoo.com</td>
<td>393</td>
<td>M</td>
</tr>
<tr>
<th scope="row">TARRAGONA</th>
<td>TARRAGONA</td>
<td>ESPAÑA</td>
<td>05/04/1993</td>
<td>01/06/2010</td>
<td>encpay57@yahoo.com</td>
<td>318</td>
<td>M</td>
</tr>
<tr>
<th scope="row">PALMA DE MALLORCA</th>
<td>BALEARES</td>
<td>ESPAÑA</td>
<td>07/14/1979</td>
<td>07/16/2008</td>
<td>mandia79@hotmail.com</td>
<td>255</td>
<td>M</td>
</tr>
<tr>
<th scope="row">MÁLAGA</th>
<td>MÁLAGA</td>
<td>ESPAÑA</td>
<td>08/21/1993</td>
<td>09/19/2010</td>
<td>alibar52@hotmail.com</td>
<td>486</td>
<td>M</td>
</tr>
<tr>
<th scope="row">CASTELLÓN DE LA PLANA</th>
<td>CASTELLÓN</td>
<td>ESPAÑA</td>
<td>08/11/1981</td>
<td>03/02/2008</td>
<td>adofid63@gmail.com</td>
<td>154</td>
<td>H</td>
</tr>
<tr>
<th scope="row">TELDE</th>
<td>PALMAS (LAS)</td>
<td>ESPAÑA</td>
<td>10/23/1981</td>
<td>09/13/2009</td>
<td>jesdie98@gmail.com</td>
<td>152</td>
<td>H</td>
</tr>
<tr>
<th scope="row">ALACANT/ALICANTE</th>
<td>ALICANTE</td>
<td>ESPAÑA</td>
<td>12/01/1983</td>
<td>06/15/2008</td>
<td>pedsan70@yahoo.com</td>
<td>21</td>
<td>H</td>
</tr>
<tr>
<th scope="row">SANTANDER</th>
<td>CANTABRIA</td>
<td>ESPAÑA</td>
<td>04/25/1984</td>
<td>07/31/2009</td>
<td>diahue96@yahoo.com</td>
<td>395</td>
<td>M</td>
</tr>
<tr>
<th scope="row">CEUTA</th>
<td>CEUTA</td>
<td>ESPAÑA</td>
<td>06/28/1978</td>
<td>03/16/2009</td>
<td>robrod74@gmail.com</td>
<td>486</td>
<td>H</td>
</tr>
<tr>
<th scope="row">MADRID</th>
<td>MADRID</td>
<td>ESPAÑA</td>
<td>04/12/1983</td>
<td>05/15/2008</td>
<td>milgar78@gmail.com</td>
<td>330</td>
<td>M</td>
</tr>
<tr>
<th scope="row">LOGROÑO</th>
<td>RIOJA (LA)</td>
<td>ESPAÑA</td>
<td>09/21/1986</td>
<td>02/16/2008</td>
<td>frabar93@gmail.com</td>
<td>75</td>
<td>M</td>
</tr>
<tr>
<th scope="row">ALMERÍA</th>
<td>ALMERÍA</td>
<td>ESPAÑA</td>
<td>03/01/1991</td>
<td>06/16/2010</td>
<td>migarc93@hotmail.com</td>
<td>23</td>
<td>H</td>
</tr>
</tbody>
</table>
<p></p>
<p><strong>TABLA PARTIDAS:</strong></p>
<table class="tabla" summary="En la siguiente tabla se muestran 10 registros de la tabla PARTIDAS. Los campos que reflejan son Código, Nombre de la partida, Estado, Código del juego, Fecha de creación, Hora de creación y Código de creación. La primera fila muestra los nombres de los campos. "><caption>Datos de la tabla PARTIDAS.</caption>
<thead>
<tr>
<th scope="col"><code>CODIGO</code></th>
<th scope="col"><code>NOMBRE</code></th>
<th scope="col"><code>ESTADO</code></th>
<th scope="col"><code>COD_JUEGO</code></th>
<th scope="col"><code>FECHA</code></th>
<th scope="col"><code>HORA</code></th>
<th scope="col"><code>COD_CREA</code></th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">1</th>
<td>Billar_migarc93_18/7</td>
<td>1</td>
<td>12</td>
<td>07/18/2011</td>
<td>00:47:40</td>
<td>migarc93</td>
</tr>
<tr>
<th scope="row">2</th>
<td>Chinchón_mandia79_2/10</td>
<td>1</td>
<td>6</td>
<td>10/02/2011</td>
<td>01:47:00</td>
<td>mandia79</td>
</tr>
<tr>
<th scope="row">3</th>
<td>Canasta_alibar52_26/2</td>
<td>0</td>
<td>8</td>
<td>02/26/2011</td>
<td>08:57:33</td>
<td>alibar52</td>
</tr>
<tr>
<th scope="row">4</th>
<td>Damas_verbad64_16/3</td>
<td>1</td>
<td>4</td>
<td>03/16/2011</td>
<td>00:53:00</td>
<td>verbad64</td>
</tr>
<tr>
<th scope="row">5</th>
<td>Chinchón_alibar52_9/9</td>
<td>1</td>
<td>6</td>
<td>09/09/2011</td>
<td>09:10:22</td>
<td>alibar52</td>
</tr>
<tr>
<th scope="row">6</th>
<td>Oca_pedsan70_21/12</td>
<td>0</td>
<td>2</td>
<td>12/21/2011</td>
<td>18:53:17</td>
<td>pedsan70</td>
</tr>
<tr>
<th scope="row">7</th>
<td>Canasta_encpay57_18/2</td>
<td>0</td>
<td>8</td>
<td>02/18/2011</td>
<td>09:41:02</td>
<td>encpay57</td>
</tr>
<tr>
<th scope="row">8</th>
<td>Pocha_adofid63_26/10</td>
<td>1</td>
<td>10</td>
<td>10/26/2011</td>
<td>02:23:43</td>
<td>adofid63</td>
</tr>
<tr>
<th scope="row">9</th>
<td>Damas_diahue96_25/6</td>
<td>1</td>
<td>4</td>
<td>06/25/2011</td>
<td>18:11:14</td>
<td>diahue96</td>
</tr>
<tr>
<th scope="row">10</th>
<td>Parchís_encpay57_31/7</td>
<td>1</td>
<td>1</td>
<td>07/31/2011</td>
<td>21:21:36</td>
<td>encpay57</td>
</tr>
</tbody>
</table>
<p></p>
<p><strong>TABLA JUEGOS:</strong></p>
<table class="tabla" summary="En la siguiente tabla se muestran 12 registros de la tabla JUEGOS. Los campos que reflejan son Código, Nombre del juego y Descripción. La primera fila muestra los nombres de los campos."><caption>Datos de la tabla JUEGOS.</caption>
<thead>
<tr>
<th scope="col"><code>CODIGO</code></th>
<th scope="col"><code>NOMBRE</code></th>
<th scope="col"><code>DESCRIPCION</code></th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">1</th>
<td>Parchís</td>
<td>El parchís es un juego de mesa derivado del pachisi y similar al ludo y al parcheesi</td>
</tr>
<tr>
<th scope="row">2</th>
<td>Oca</td>
<td>El juego de la oca es un juego de mesa para dos o más jugadores</td>
</tr>
<tr>
<th scope="row">3</th>
<td>Ajedrez</td>
<td>El ajedrez es un juego entre dos personas, cada una de las cuales dispone de 16 piezas móviles que se colocan sobre un tablero dividido en 64 escaques</td>
</tr>
<tr>
<th scope="row">4</th>
<td>Damas</td>
<td>Las damas es un juego de mesa para dos contrincantes</td>
</tr>
<tr>
<th scope="row">5</th>
<td>Poker</td>
<td>El póquer es un juego de cartas de los llamados de "apuestas"</td>
</tr>
<tr>
<th scope="row">6</th>
<td>Chinchón</td>
<td>El chinchón es un juego de naipes de 2 a 8 jugadores</td>
</tr>
<tr>
<th scope="row">7</th>
<td>Mus</td>
<td>El mus es un juego de naipes, originario de Navarra, que en la actualidad se encuentra muy extendido por toda España</td>
</tr>
<tr>
<th scope="row">8</th>
<td>Canasta</td>
<td>La canasta o rummy-canasta es un juego de naipes, variante del rummy</td>
</tr>
<tr>
<th scope="row">9</th>
<td>Dominó</td>
<td>El dominó es un juego de mesa en el que se emplean unas fichas rectangulares</td>
</tr>
<tr>
<th scope="row">10</th>
<td>Pocha</td>
<td>La pocha es un juego de cartas que se juega con la baraja española</td>
</tr>
<tr>
<th scope="row">11</th>
<td>Backgammon</td>
<td>Cada jugador tiene quince fichas que va moviendo entre veinticuatro triángulos (puntos) según el resultado de sus dos dados</td>
</tr>
<tr>
<th scope="row">12</th>
<td>Billar</td>
<td>El billar es un deporte de precisión que se practica impulsando con un taco un número variable de bolas</td>
</tr>
</tbody>
</table>
<p></p>
<p><strong>TABLA UNEN:</strong></p>
<table class="tabla" summary="En la siguiente tabla se muestran 5 registros de la tabla UNEN. Los campos que reflejan son Código de partida y Código del usuario. La primera fila muestra los nombres de los campos."><caption>Datos de la tabla UNEN.</caption>
<thead>
<tr>
<th scope="col"><code>CODIGO_PARTIDA</code></th>
<th scope="col"><code>CODIGO_USUARIO</code></th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">4</th>
<td>ascbar65</td>
</tr>
<tr>
<th scope="row">3</th>
<td>norlob93</td>
</tr>
<tr>
<th scope="row">6</th>
<td>norlob93</td>
</tr>
<tr>
<th scope="row">2</th>
<td>antcor77</td>
</tr>
<tr>
<th scope="row">2</th>
<td>anavaz83</td>
</tr>
<tr>
<th scope="row">2</th>
<td>jesvel57</td>
</tr>
<tr>
<th scope="row">4</th>
<td>marram77</td>
</tr>
<tr>
<th scope="row">3</th>
<td>virlue50</td>
</tr>
<tr>
<th scope="row">5</th>
<td>susizq56</td>
</tr>
<tr>
<th scope="row">8</th>
<td>virlue50</td>
</tr>
<tr>
<th scope="row">6</th>
<td>marram77</td>
</tr>
<tr>
<th scope="row">4</th>
<td>mirtom67</td>
</tr>
<tr>
<th scope="row">5</th>
<td>oscmar67</td>
</tr>
<tr>
<th scope="row">4</th>
<td>virlue50</td>
</tr>
<tr>
<th scope="row">5</th>
<td>susizq56</td>
</tr>
</tbody>
</table>
<p></p>
<h6><strong>Inserción de datos</strong></h6>
<div class="no-overflow">
<p>Sentencias de inserción de datos</p>
<p><b>TABLA USUARIOS</b></p>
<p style="text-align: left;"><span>ALTER SESSION SET NLS_DATE_FORMAT='MM/DD/YYYY';</span><br><span>INSERT INTO USUARIOS VALUES('anamat56','JD9U6?','ANA M.','MATA VARGAS','GARCILASO DE LA VEGA','8924','SANTA COLOMA DE GRAMANET','BARCELONA','ESPAÑA','08/25/1974','10/10/2007','anamat56@hotmail.com',213,'M');</span><br><span>INSERT INTO USUARIOS VALUES('alecam89','5;5@PK','ALEJANDRO EMILIO','CAMINO LAZARO','PEDRO AGUADO BLEYE','34004','PALENCIA','PALENCIA','ESPAÑA','05/03/1976','10/15/2010','alecam89@hotmail.com',169,'H');</span><br><span>INSERT INTO USUARIOS VALUES('verbad64','MP49HF','VERONICA','BADIOLA PICAZO','BARRANCO GUINIGUADA','35015','PALMAS GRAN CANARIA,LAS','PALMAS (LAS)','ESPAÑA','01/28/1984','10/23/2010','verbad64@hotmail.com',437,'M');</span><br><span>INSERT INTO USUARIOS VALUES('conmar76','O1&lt;N9U','CONSUELO','MARTINEZ RODRIGUEZ','ROSA','4002','ALMERÍA','ALMERÍA','ESPAÑA','08/09/1978','03/25/2007','conmar76@yahoo.com',393,'M');</span><br><span>INSERT INTO USUARIOS VALUES('encpay57','FYC3L5','ENCARNACIÓN','PAYO MORALES','MULLER,AVINGUDA','43007','TARRAGONA','TARRAGONA','ESPAÑA','05/04/1993','01/06/2010','encpay57@yahoo.com',318,'M');</span><br><span>INSERT INTO USUARIOS VALUES('mandia79','00JRIH','MANUELA','DIAZ COLAS','214 (GENOVA)','7015','PALMA DE MALLORCA','BALEARES','ESPAÑA','07/14/1979','07/16/2008','mandia79@hotmail.com',255,'M');</span><br><span>INSERT INTO USUARIOS VALUES('alibar52','IER8S','ALICIA MARIA','BARRANCO CALLIZO','HECTOR VILLALOBOS','29014','MÁLAGA','MÁLAGA','ESPAÑA','08/21/1993','09/19/2010','alibar52@hotmail.com',486,'M');</span><br><span>INSERT INTO USUARIOS VALUES('adofid63',';82=MH','ADOLFO','FIDALGO DIEZ','FORCALL','12006','CASTELLÓN DE LA PLANA','CASTELLÓN','ESPAÑA','08/11/1981','03/02/2008','adofid63@gmail.com',154,'H');</span><br><span>INSERT INTO USUARIOS VALUES('jesdie98','X565ZS','JESUS','DIEZ GIL','TABAIBAL','35213','TELDE','PALMAS (LAS)','ESPAÑA','10/23/1981','09/13/2009','jesdie98@gmail.com',152,'H');</span><br><span>INSERT INTO USUARIOS VALUES('pedsan70','T?5=J@','PEDRO','SANCHEZ GUIL','PINTOR ZULOAGA','3013','ALACANT/ALICANTE','ALICANTE','ESPAÑA','12/01/1983','06/15/2008','pedsan70@yahoo.com',21,'H');</span><br><span>INSERT INTO USUARIOS VALUES('diahue96','LSQZMC','DIANA','HUERTA VALIOS','JOAQUIN SALAS','39011','SANTANDER','CANTABRIA','ESPAÑA','04/25/1984','07/31/2009','diahue96@yahoo.com',395,'M');</span><br><span>INSERT INTO USUARIOS VALUES('robrod74','&lt;LQMLP','ROBERTO','RODRIGUEZ PARMO','CASTILLO HIDALGO','51002','CEUTA','CEUTA','ESPAÑA','06/28/1978','03/16/2009','robrod74@gmail.com',486,'H');</span><br><span>INSERT INTO USUARIOS VALUES('milgar78','SF=UZ8','MILAGROSA','GARCIA ELVIRA','PEDRALBA','28037','MADRID','MADRID','ESPAÑA','04/12/1983','05/15/2008','milgar78@gmail.com',330,'M');</span><br><span>INSERT INTO USUARIOS VALUES('frabar93','19JZ7@','FRANCISCA','BARRANCO RODRIGUEZ','BALSAS, LAS','26006','LOGROÑO','RIOJA (LA)','ESPAÑA','09/21/1986','02/16/2008','frabar93@gmail.com',75,'M');</span><br><span>INSERT INTO USUARIOS VALUES('migarc93','AAFLTW','MIGUEL ANGEL','ARCOS ALONSO','ISAAC ALBENIZ','4008','ALMERÍA','ALMERÍA','ESPAÑA','03/01/1991','06/16/2010','migarc93@hotmail.com',23,'H');</span></p>
<p style="text-align: left;"><b>TABLA JUEGOS</b></p>
<p style="text-align: left;"><span>INSERT INTO JUEGOS VALUES('1','Parchís','El parchís es un juego de mesa derivado del pachisi y similar al ludo y al parcheesi');</span><br><span>INSERT INTO JUEGOS VALUES('2','Oca','El juego de la oca es un juego de mesa para dos o más jugadores');</span><br><span>INSERT INTO JUEGOS VALUES('3','Ajedrez','El ajedrez es un juego entre dos personas, cada una de las cuales dispone de 16 piezas móviles que se colocan sobre un tablero dividido en 64 escaques');</span><br><span>INSERT INTO JUEGOS VALUES('4','Damas','Las damas es un juego de mesa para dos contrincantes');</span><br><span>INSERT INTO JUEGOS VALUES('5','Poker','El póquer es un juego de cartas de los llamados de "apuestas"');</span><br><span>INSERT INTO JUEGOS VALUES('6','Chinchón','El chinchón es un juego de naipes de 2 a 8 jugadores');</span><br><span>INSERT INTO JUEGOS VALUES('7','Mus','El mus es un juego de naipes, originario de Navarra, que en la actualidad se encuentra muy extendido por toda España');</span><br><span>INSERT INTO JUEGOS VALUES('8','Canasta','La canasta o rummy-canasta es un juego de naipes, variante del rummy');</span><br><span>INSERT INTO JUEGOS VALUES('9','Dominó','El dominó es un juego de mesa en el que se emplean unas fichas rectangulares');</span><br><span>INSERT INTO JUEGOS VALUES('10','Pocha','La pocha es un juego de cartas que se juega con la baraja española');</span><br><span>INSERT INTO JUEGOS VALUES('11','Backgammon','Cada jugador tiene quince fichas que va moviendo entre veinticuatro triángulos (puntos) según el resultado de sus dos dados');</span><br><span>INSERT INTO JUEGOS VALUES('12','Billar','El billar es un deporte de precisión que se practica impulsando con un taco un número variable de bolas');</span></p>
<p style="text-align: left;"><b>TABLA PARTIDAS</b></p>
<p style="text-align: left;"><span>INSERT INTO PARTIDAS VALUES('1','Billar_migarc93_18/7','1','12','07/18/2011',TO_TIMESTAMP ('00:47:40','HH24:MI:SS'),'migarc93');</span><br><span>INSERT INTO PARTIDAS VALUES('2','Chinchón_mandia79_2/10','1','6','10/02/2011',TO_TIMESTAMP ('01:47:40','HH24:MI:SS'),'mandia79');</span><br><span>INSERT INTO PARTIDAS VALUES('3','Canasta_alibar52_26/2','0','8','02/26/2011',TO_TIMESTAMP ('08:57:33','HH24:MI:SS'),'alibar52');</span><br><span>INSERT INTO PARTIDAS VALUES('4','Damas_verbad64_16/3','1','4','03/16/2011',TO_TIMESTAMP ('00:53:00','HH24:MI:SS'),'verbad64');</span><br><span>INSERT INTO PARTIDAS VALUES('5','Chinchón_alibar52_9/9','1','6','09/09/2011',TO_TIMESTAMP ('09:10:22','HH24:MI:SS'),'alibar52');</span><br><span>INSERT INTO PARTIDAS VALUES('6','Oca_pedsan70_21/12','0','2','12/21/2011',TO_TIMESTAMP ('18:53:17','HH24:MI:SS'),'pedsan70');</span><br><span>INSERT INTO PARTIDAS VALUES('7','Canasta_encpay57_18/2','0','8','02/18/2011',TO_TIMESTAMP ('09:41:02','HH24:MI:SS'),'encpay57');</span><br><span>INSERT INTO PARTIDAS VALUES('8','Pocha_adofid63_26/10','1','10','10/26/2011',TO_TIMESTAMP ('02:23:43','HH24:MI:SS'),'adofid63');</span><br><span>INSERT INTO PARTIDAS VALUES('9','Damas_diahue96_25/6','1','4','06/25/2011',TO_TIMESTAMP ('18:11:14','HH24:MI:SS'),'diahue96');</span><br><span>INSERT INTO PARTIDAS VALUES('10','Parchís_encpay57_31/7','1','1','07/31/2011',TO_TIMESTAMP ('21:21:36','HH24:MI:SS'),'encpay57');</span></p>
<p style="text-align: left;"><b>TABLA UNEN</b></p>
<p style="text-align: left;"><span>INSERT INTO UNEN VALUES('4','anamat56');</span><br><span>INSERT INTO UNEN VALUES('3','alecam89');</span><br><span>INSERT INTO UNEN VALUES('6','alecam89');</span><br><span>INSERT INTO UNEN VALUES('2','conmar76');</span><br><span>INSERT INTO UNEN VALUES('2','encpay57');</span><br><span>INSERT INTO UNEN VALUES('2','mandia79');</span><br><span>INSERT INTO UNEN VALUES('4','alibar52');</span><br><span>INSERT INTO UNEN VALUES('3','adofid63');</span><br><span>INSERT INTO UNEN VALUES('5','jesdie98');</span><br><span>INSERT INTO UNEN VALUES('8','pedsan70');</span><br><span>INSERT INTO UNEN VALUES('6','diahue96');</span><br><span>INSERT INTO UNEN VALUES('4','robrod74');</span><br><span>INSERT INTO UNEN VALUES('5','milgar78');</span><br><span>INSERT INTO UNEN VALUES('4','frabar93');</span><br><span>INSERT INTO UNEN VALUES('5','encpay57');</span></p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-31">
<header class="nodeDecoration">
<h1 id="exenode_31_AnexoIICreacinycargadetablasdelaaplicacinempresaenOracle" class="nodeTitle">Anexo II.- Creación y carga de tablas de la aplicación empresa&nbsp;en Oracle</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id13-31">
<div class="iDevice emphasis0">
<div id="ta13_73" class="block iDevice_content">
<p>El primero paso será descargarte el script desde el siguiente enlace:</p>
<p style="text-align: center;"><b><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/BD04_CONT_R07_02.zip" target="_blank" title="Descargar script SQL con sentencias de creación de tablas e inserción de filas para realizar los ejercicios (se abre en una ventana nueva) [zip - 1,39 KB]" rel="noopener">Script SQL: tablas y registros para realizar los ejercicios</a><span class="exe-link-data file-size"> (zip - 1,39 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></b></p>
<p>Una vez descargado descomprímelo para obtener el script SQL&nbsp;BD04_CONT_R07_02.sql</p>
<p></p>
<p>Vamos a<strong> <span class=" destacado_inline">crear un usuario llamado Ana</span>&nbsp;</strong> para practicar los ejercicios al mismo tiempo que ella.</p>
<p>Recuerda los pasos:</p>
<p style="padding-left: 30px;">1.- Nos conectamos como Administradores. Escribimos desde la terminal de windows <code>SQLPLUS sys as sysdba</code> o abrimos SQLPlus y cuando nos solicite el usuario escribimos&nbsp;<code>sys as sysdba.&nbsp;</code></p>
<p style="padding-left: 60px;"><code></code>En ambos casos nos pedirá la contraseña que pusimos en la instalación de Oracle.&nbsp;</p>
<p style="padding-left: 30px;">2.-&nbsp; Creamos el usuario c##ana en el tablespace users. Como clave pondremos ana para recordarlo pero en la realidad es una práctica totalemente desaconsejada por seguridad.</p>
<p align="center"><code>create user c##ana identified by ana default tablespace users;</code></p>
<p style="padding-left: 30px;">3.- Concedemos los roles de sistema de conexión, creación de objetos y DBA al usuario ana.&nbsp;&nbsp;</p>
<p style="text-align: center;"><code>grant connect, resource,DBA to c##ana;</code></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 681px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_CreaUserAna.JPG" alt="Captura de pantalla de la creación del usuario c##ana desde SQLPlus" title="Creación del usuario c##ana desde SQLPlus" width="681" height="449" style="vertical-align: middle;">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p><span style="font-size: 14pt;"><strong><span class=" destacado_inline">Ejecución del script SQL&nbsp;BD04_CONT_R07_02.sql</span></strong></span></p>
<p>Crearemos las tablas en el usuario&nbsp; c##ana que acabamos de crear.</p>
<p>Podemos hacerlo de dos formas:</p>
<ul>
<li class="lista_verificacion">Con <strong>SQLPlus</strong> escribiendo las sentencias en la<strong> línea de comandos</strong> de SQL</li>
<li class="lista_verificacion">Utilizando un <strong>entorno gráfico</strong>. En nuestro caso<strong> SQLDeveloper</strong> donde ya has creado una conexión para tu usuario en unidades anteriores.</li>
</ul>
<h6>Con SQLPlus</h6>
<p>Desde SQLPlus conectamos con c##ana&nbsp; utilizando la sentencia CONNECT&nbsp; y ejecutamos el script anteponiendo el símbolo @ al script que nos hemos descargado con indicación de la ruta absoluta.</p>
<p style="text-align: center;"><span style="font-size: 12pt;"><code>CONNECT C##ana/ana</code></span></p>
<p style="text-align: center;"><span style="font-size: 12pt;"><code>@C:\Users\admin\Downloads\BD04_CONT_R07_02\BD04_CONT_R07_02.sql</code></span></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 683px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_EjecutaScript.JPG" alt="Captura de pantalla de la ejecución del script en el usuario c##ana desde SQLPlus" title="Ejecución script desde SQLPlus" width="683" height="328">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p style="text-align: justify;"><span style="font-size: 12pt;"></span>A partir de aquí ya tienes un usuario con tablas y datos incluidos para poder practicar a la vez que Ana.</p>
<p style="text-align: justify; padding-left: 30px;">Si consultamos las tablas del esquema consultando la vista del DIccionario de Datos, CAT, con&nbsp; la sentencia <code>SELECT TABLE_NAME FROM CAT</code> podremos ver los nombres de las tablas existentes en el usuario activo.</p>
<p style="padding-left: 30px;"><span style="font-size: 1em;">Para conocer qué columnas tiene cada tabla y su formato podemos ejecutar el comando de SQLPlus&nbsp;</span><code> DESC o DESCRIBE nombre_tabla</code></p>
<p style="text-align: justify; padding-left: 30px;">Para visualizar las filas de cualquier tabla, por ejemplo de la tabla TRABAJO, utilizaremos la sentencia <code>SELECT * from TRABAJOS;</code></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 619px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_TablasUserAna.JPG" alt="Captura de pantalla con la ejecución de dos SELECT (una para consultar las tablas del usuario a partir de la vista CAT del DIccionario de Datos) y otra para obtener las filas de la tabla TRABAJO.  ´También muestra la ejecucion del comando DESC de SQLPPlus para visualizar las columnas y tipos de la tabla." title="Captura de pantalla con ejecución sentencias SELECT y comando DESC " width="619" height="705">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<h6>Con SQLDeveloper</h6>
<p><span>Desde el botón&nbsp;</span><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_BotonCrearConexionSQLDeveloper.JPG" alt="Botón crear conexión " title="Botón crear conexión " width="46" height="53"><span>&nbsp; &nbsp;crea una conexión para conectar con c##ana</span></p>
<figure class="exe-figure exe-image position-center" style="width: 890px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_CreaConexionAnaSLQDeveloper.JPG" alt="Captura de pantalla de creación de conexión en SQLDeveloper" title="Creación conexión en SQLDeveloper para c##ana" width="890" height="653">
<figcaption class="figcaption"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/Elaboraci%C3%B3n%20propia" target="_blank" class="author" rel="noopener">Elaboración propia</a></figcaption>
</figure>
<p><span>Abre la conexión y e</span><span>jecuta el script desde el entorno gráfico&nbsp;</span><strong id="yui_3_17_2_1_1597398842143_136">SqlDeveloper</strong><span>, copiando y pegando el contenido del fichero de texto en el editor como si fuera una sola orden y ejecútalo con F5.</span></p>
<p></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 892px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_ScriptenSQLDeveloper.JPG" alt="Captura de pantalla de la Ejecución script en SQLDeveloper tras pulsar F5" title="Ejecución script en SQLDeveloper" width="892" height="630" hspace="auto" style="display: block; margin-left: auto; margin-right: auto;">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo </span><span class="sep">)</span></span></figcaption>
</figure>
<p>Para comprobar la correcta ejecución podemos consultar de nuevo la vista CAT con la sentencia <code>SELECT table_name from CAT</code> desde la Hoja de trabajo o pulsar en el árbol correspondiente a la conexión de ana. Si pulsamos en una tabla podremos ver las columnas que la forman.</p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 221px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_TablasAnaSQLDeveloper.JPG" alt="Captura de pantalla que muestra el árbol de tablas de c##ana desde SQLDeveloper" title="Captura de pantalla con tablas desde SQLDeveloper" width="221" height="350">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Para visualizar los datos de una tabla podemos escribir la sentencia SELECT en la hoja de trabajo o acceder a la pestaña Datos.</p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 737px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_FilasTablasAnaSQLDeveloper.JPG" alt="Captura de pantalla que muestra las filas de una tabla en SQLDeveloper pulsando la pestaña Datos" title="Datos de una tabla" width="737" height="327">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Para acabar, y antes de salir, debemos confirmar las operaciones para que las filas queden insertadas. Ya veremos más adelante qué significa esto.</p>
<p>Lo haremos pulsando el botón que aparece señalado en la siguiente pantalla.</p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 871px;"><img src="./BD04 - Realización de consultas_files/BD04_ANEXOII_CommitTablasAnaSQLDeveloper.JPG" alt="Captura de pantalla en el que aparece resaltado el botón de confirmación" title="Confirmación (COMMIT) de la operación" width="871" height="387">
<figcaption class="figcaption"><span class="author">Elaboración propia</span> <span class="license"><span class="sep">(</span><span class="custom-license">Uso educativo</span><span class="sep">)</span></span></figcaption>
</figure>
<p></p>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-35">
<header class="nodeDecoration">
<h1 id="exenode_35_AnexoIIIEjerciciosSQLpropuestosconposiblesolucin" class="nodeTitle">Anexo III. Ejercicios SQL propuestos con posible solución</h1>
</header>
<article class="iDevice_wrapper textIdevice" id="id97-35">
<div class="iDevice emphasis0">
<div id="ta97_110_2" class="block iDevice_content">
<div class="exe-text"><p><span style="background-color: #ffffff;"><b style="font-size: 1em; background-color: #ffffff;"><cite>A programar se aprende programando&nbsp;</cite></b></span>por ello te proponemos 3 bloques de ejercicios para que practiques.&nbsp;</p>
<p><span style="background-color: #99ccff;"><b style="font-size: 1em; background-color: #99ccff;">BLOQUE I. EJERCICIOS SQL</b></span></p>
<p><b style="font-size: 1em;">A continuación y sobre la base de datos que Juegos Online que has creado resuelve y prueba en&nbsp; tu ordenador las siguientes sentencias SQL.</b></p>
<div class="no-overflow">
<p><b><br></b>1 . Nombre y apellidos de los usuarios con crédito entre 200 y 400 ordenado por crédito descendente.</p>
<p>2. ¿Cuántos usuarios son mujeres?</p>
<p>3. Nombre y apellidos de los usuarios que tiene correo en Hotmail ordenado por apellido y nombre.</p>
<p>4. Suma del crédito de los usuarios de la provincia de Barcelona.</p>
<p>5. Nombre, apellidos y fecha de nacimiento del usuario de mas edad.</p>
<p>6. Listado con la suma del crédito de los usuarios de cada una de las provincias ordenado por provincia.</p>
<p>7. Provincias en las que la suma del crédito de los usuarios es menos de 200.</p>
<p>8. ¿Cuál es la provincia en la que la suma de crédito de los usuarios es la mayor de todas?</p>
<p>9. Nombre y apellidos del usuario que ha creado cada una de las partidas indicando de qué juego son.</p>
<p>10. Juegos de los que no hay partida comenzada.</p>
<p>11. Listado de juegos de los que hay partida en funcionamiento.</p>
<p>12. Listado de nombre y apellidos de usuario y número de partidas en las que está jugando ordenador de mayor a menor.</p>
<p></p>
<p>En el siguiente enlace tienes una posible solución</p>
<p style="text-align: center;"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/BD04_Solu_AnexoIII.pdf" target="_blank" title="Acceder a PDF con posible solución (se abre en ventan nueva) [pdf - 47,85 KB]" rel="noopener">Solucion Ejercicios SQL Anexo III</a><span class="exe-link-data file-size"> (pdf - 47,85 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></p>
<p style="text-align: center;"></p>
<p style="text-align: left;"><span style="background-color: #99ccff;"><b style="font-size: 1em; background-color: #99ccff;">BLOQUE II. EJERCICIOS SQL</b></span></p>
<p>En el siguiente enlace tienes la descripción de una base de datos llamada empresa para la gestión de los empleados de una empresa, departamentos, centros, etc.. También tienes las sentencias de creación y carga de las tablas. Tendrás que copiar y pegarlo al editor de SQL o en un fichero para ejecutarlo como un script. Tras las sentencias de creación y carga tienes una relación de ejercicios para que los realices en SQL en tu ordenador.</p>
<p style="text-align: center;"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/BASE_DE_DATOS_EMPLEADOS.pdf" target="_blank" title="Accede al PDF con las sentencias de Creación y carga de la BD (se abre en una ventana nueva) [pdf - 194,40 KB]" rel="noopener">Creación y carga Base de datos empresa gestión empleados</a><span class="exe-link-data file-size"> (pdf - 194,40 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></p>
<p>En este enlace tienes una posible solución a los requerimientos SQL anteriormente planteados.</p>
<p style="text-align: center;"><span class="exe-link-data file-size"></span><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/SolucionconsultasBDEmpresa.pdf" target="_blank" title="Posible Solución Consultas [pdf - 75,92 KB]" rel="noopener">Posible Solución Consultas</a><span class="exe-link-data file-size"> (pdf - 75,92 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></p>
<p></p>
<p style="text-align: left;"><span style="background-color: #99ccff;"><b style="font-size: 1em; background-color: #99ccff;">BLOQUE III. EJERCICIOS SQL</b></span></p>
<p style="text-align: left;"><span style="background-color: #ffffff;">En el siguiente enlace tienes un PDF con ejercicios SQL resueltos. Recuerda, no te limites a leer la solución, pués así solo cogerás destreza en leerlos, no en hacerlos.</span></p>
<p style="text-align: center;"><span style="background-color: #ffffff;"></span><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156745/mod_resource/content/6/BD04_Contenidos_Imprimible/EjerciciosResueltosdeSQLBorjaS.pdf" title="Accede a PDF con ejercicios resueltos de SQL  [pdf - 420,51 KB]">Ejercicios SQL Resueltos</a><span class="exe-link-data file-size"> (pdf - 420,51 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></p>
</div></div>
</div>
</div>
</article>
</article>
</section>


</div>
<script type="text/javascript" src="./BD04 - Realización de consultas_files/_fpd_js.js.descarga"></script>
</body></html>