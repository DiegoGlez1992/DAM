<!DOCTYPE html>
<!-- saved from url=(0124)https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>DAM_BD07_Contenido_CIDEADActualizado</title>
<link rel="shortcut icon" href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/favicon.ico" type="image/x-icon">
<meta name="author" content="Ministerio de Educación y FP">
<meta name="generator" content="eXeLearning 2.5 - exelearning.net">
<meta name="description" content="DAM_BD07_Contenido_CIDEADActualizado">
<link rel="stylesheet" type="text/css" href="./BD07 - Uso de bases de datos objeto-relacionales_files/base.css">
<link rel="stylesheet" type="text/css" href="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_lightbox.css">
<link rel="stylesheet" type="text/css" href="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_highlighter.css">
<link rel="stylesheet" type="text/css" href="./BD07 - Uso de bases de datos objeto-relacionales_files/content.css">
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_jquery.js.descarga"></script>
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_lightbox.js.descarga"></script>
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_highlighter.js.descarga"></script>
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/common_i18n.js.descarga"></script>
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/common.js.descarga"></script>
<meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/exe_tooltips.js.descarga"></script><link type="text/css" rel="stylesheet" href="./BD07 - Uso de bases de datos objeto-relacionales_files/jquery.qtip.min.css"><script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/jquery.qtip.min.js.descarga"></script><script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/imagesloaded.pkg.min.js.descarga"></script></head>
<body class="exe-single-page js travelclub-common-loaded"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<header id="header" role="banner">
<div id="headerContent">
<h1>DAM_BD07_Contenido_CIDEADActualizado</h1>
</div>
</header>
<section id="main" role="main">
<article class="node level-1-node" id="exe-node-0">
<header class="nodeDecoration">
<h1 id="exenode_0_Usodebasesdedatosobjetorelacionales" class="nodeTitle">Uso de bases de datos objeto-relacionales.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id0-0">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta0_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 180px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_04.jpg" alt="Fotografía de Juan." title="Juan." class="elemento_derecha" width="180" height="160" style="width: 180px; height: 160px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Juan</strong> ha realizado un curso de perfeccionamiento sobre programación con bases de datos, y ha conocido las ventajas que pueden ofrecer el uso de las bases de datos objeto-relacionales. Hasta ahora siempre había usado las bases de datos relacionales, pero el conocimiento de las bases de datos orientadas a objetos le ha ofrecido nuevas perspectivas para aprovechar de manera más óptima la reutilización de código, el trabajo colaborativo, y la interconexión de las bases de datos con otros lenguajes de programación orientados a objetos.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper DestacadofpdIdevice" id="id55-0">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta55_70" class="block iDevice_content">
<figure class="exe-figure exe-image position-center license-pd" style="width: 282px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/ministerio-de-educacion-y-formacion-profesional-web.jpg" alt="Ilustración del logotipo del Ministerio de Educación y Formación Profesional." title="Logotipo del Ministerio de Educación y Formación Profesional." width="282" height="69" hspace="auto" style="display: block; margin-left: auto; margin-right: auto;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación y Formación Profesional.</a> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></figcaption>
</figure>
<p style="text-align: center;"><span style="font-size: 13.5pt; color: #000000;"><strong>Materiales formativos de FP Online propiedad del Ministerio de Educación y Formación Profesional.</strong></span><br><a href="http://www.educacionyfp.gob.es/fpadistancia/comunes/aviso-legal-materiales.html" target="_blank" title="Acceder a la web sobre aviso legal (se abre en una ventana nueva)" rel="noopener">Aviso Legal</a></p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-1">
<header class="nodeDecoration">
<h1 id="exenode_1_1Caractersticasdelasbasesdedatosobjetorelacionales" class="nodeTitle">1.- Características de las bases de datos objeto-relacionales.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id1-1">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta1_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 172px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_03.jpg" alt="Fotografía de Ana." title="Ana." class="elemento_derecha" width="172" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Ana</strong> ha sabido que <strong>Juan</strong> ha realizado el curso de formación de bases de datos objeto-relacionales, y éste se ha ofrecido a compartir los conocimientos que ha adquirido. Lo primero va a ser es que conozca las características que tienen estos tipos de bases de datos, para que compruebe las diferencias que tienen respecto a las bases de datos relaciones que ha usado hasta ahora. Usarán la base de datos de Oracle que han utilizado anteriormente, pero ahora van a darle el enfoque de este nuevo tipo de bases de datos.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id2-1">
<div class="iDevice emphasis0">
<div id="ta2_73" class="block iDevice_content">
<p>Las <strong>bases de datos objeto-relacionales</strong> que vas a conocer en esta unidad son las referidas a aquellas que han evolucionado desde el modelo relacional tradicional a un modelo híbrido que utiliza además la tecnología orientada a objetos. Las <strong>clases, objetos, </strong>y<strong> herencia</strong> son directamente soportados en los esquemas de la base de datos y en el lenguaje de consulta y manipulación de datos. Además da soporte a una extensión del modelo de datos con la creación personalizada de <strong>tipos de datos y métodos</strong>.</p>
<p>La base de datos de Oracle implementa el modelo orientado a objetos como una <strong>extensión del modelo relacional&nbsp;</strong>soportando la funcionalidad estándar de las bases de datos relacionales.</p>
<p>El modelo objeto-relacional ofrece las <strong>ventajas</strong> de las técnicas orientadas a objetos en cuanto a mejorar la reutilización y el uso intuitivo de los objetos, a la vez que se mantiene la alta capacidad de <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#ta811f1a1-1437-d39d-8a64-4044c6ab4806" id="linka811f1a1-1437-d39d-8a64-4044c6ab4806" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="0" oldtitle="Concurrencia  | " title="">concurrencia </a>y el rendimiento de las bases de datos relacionales.</p>
<p>Los tipos de objetos que vas a conocer, así como las características orientadas a objeto, te van a proporcionar una mecanismo para <strong>organizar los datos y acceder a ellos a alto nivel</strong>. Por debajo de la capa de objetos, los datos seguirán estando almacenados en columnas y tablas, pero vas a poder trabajar con ellos de manera más parecida a las entidades que puedes encontrar en la vida real, dando así más significado a los datos. En vez de pensar en términos de columnas y tablas cuando realices consultas a la base de datos, simplemente deberás seleccionar entidades que habrás creado, por ejemplo clientes o pedidos.</p>
<p>Podrás utilizar las características orientadas a objetos que vas a aprender en esta unidad a la vez que puedes seguir trabajando con los datos relacionalmente, o bien puedes usar de manera más exclusiva las técnicas orientadas a objetos.</p>
<p>En general, el modelo orientado a objetos es <strong>similar al que puedes encontrar en lenguajes</strong> como <abbr title="C orientado a objetos.">C++</abbr> y Java. La <strong>reutilización</strong> de objetos permite desarrollar aplicaciones de bases de datos más rápidamente y de manera más eficiente. Al ofrecer la base de datos de Oracle soporte nativo para los tipos de objetos, permite a los desarrolladores de aplicaciones con lenguajes orientados a objetos, acceder directamente a las <strong>mismas estructuras de datos</strong> creadas en la base de datos.</p>
<p>La programación orientada a objetos está especialmente enfocada a la construcción de componentes reutilizables y aplicaciones complejas. En <strong><acronym lang="en" title="Procedural Language/Structured Query Language.">PL/SQL</acronym></strong>, la programación orientada a objetos está basada en <strong>tipos de objetos</strong>. Estos tipos te permiten modelar objetos de la vida real, separar los detalles de los interfaces de usuarios de la implementación, y almacenar los datos orientados a objetos de forma permanente en una base de datos. Encontraras especialmente útil los tipos de objetos cuando realizas programas interconectados con Java u otros lenguajes de programación orientados a objetos.</p>
<p>Las tablas de bases de datos relacionales sólo contienen datos. En cambio, los objetos pueden incluir la posibilidad de realizar determinadas <strong>acciones sobre los datos</strong>. Por ejemplo, un objeto "Compra" puede incluir un método para calcular el importe de todos los elementos comprados. O un objeto "Cliente" puede tener métodos que permitan obtener su historial de compras. De esta manera, una aplicación tan sólo debe realizar una llamada a dichos métodos para obtener esa información.</p>
<div id="ta811f1a1-1437-d39d-8a64-4044c6ab4806" class="exe-tooltip-text">
<p>Propiedad de dos eventos que ocurren a la vez, coincidentes en el tiempo.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id3-1">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta3_47" class="block iDevice_content">
<p>Si deseas conocer más en detalle la definición de las bases de datos objeto-relacionales puedes visitar la web de wikipedia:</p>
<p class="enlace_centrado"><a href="http://es.wikipedia.org/wiki/Base_de_datos_objeto-relacional" title="Acceder a wikipedia donde podrás ver la definición de base de datos objeto-relacional." target="_self">Definición de base de datos objeto-relacional.</a></p>
<p>Conoce el estado del mercado actual de las Bases de Datos consultando esta web</p>
<p style="text-align: center;"><a href="https://db-engines.com/en/ranking" target="_blank" title="Accede a una web que muestra un ranking con el estado actual del mercado de las Bases de Datos (se abre en una ventana nueva)" rel="noopener">Estado del mercado actual de las Bases de Datos</a></p>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-2">
<header class="nodeDecoration">
<h1 id="exenode_2_2Tiposdedatosobjeto" class="nodeTitle">2.- Tipos de datos objeto.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id4-2">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta4_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 180px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_04.jpg" alt="Fotografía de Juan." title="Juan." class="elemento_derecha" width="180" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p></p>
<p><strong>Juan</strong> comienza a explicarle a <strong>Ana</strong> uno de los conceptos básicos en las bases de datos orientadas a objetos. Se trata de los tipos de datos objeto. Le hace ver que cualquier objeto que manejamos a diario se puede considerar un posible tipo de objeto para una base de datos.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id5-2">
<div class="iDevice emphasis0">
<div id="ta5_73" class="block iDevice_content">
<p>Un <strong>tipo de dato objeto</strong> es un tipo de dato compuesto definido por el usuario. Representa una <strong>estructura de datos</strong> así como <strong>funciones y procedimientos</strong> para manipular datos. Como ya sabemos, las variables de un determinado tipo de dato escalar (<code>NUMBER</code>, <code>VARCHAR</code>, <code>BOOLEAN</code>, <code>DATE</code>, etc.) pueden almacenar un único valor. Las colecciones permiten, como ya veremos, almacenar varios datos en una misma variable siendo todos del mismo tipo. Los tipos de datos objetos nos permitirán almacenar datos de distintos tipos, posibilitando además asociar código a dichos datos.</p>
<p>En el mundo real solemos pensar en un objeto, entidad, persona, animal, etc. como un conjunto de propiedades y acciones. Por ejemplo, el alumnado tiene una serie de propiedades como el nombre, fecha de nacimiento, <acronym title="Documento Nacional de Identidad.">DNI</acronym>, curso, grupo, calificaciones, nombre del padre y de la madre, sexo, etc., y tiene asociadas una serie de acciones como matricular, evaluar, asistir a clase, presentar tareas, etc. Los tipos de datos objeto nos permiten representar esos valores y estos comportamientos de la vida real en una aplicación informática.</p>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id7-2">
<div class="iDevice emphasis0">
<div id="ta7_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R01_INSTANCIAS.png" title="Ampliar imagen." rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R01_INSTANCIAS.png" alt="Esquema en forma de árbol con un rectángulo raíz con la declaración de parte de los atributos de objetos de tipo usuario. Cuelgan dos círculos simulando ser objetos instanciados con valores concretos para los atributos." title="Esquema instancias. Pulsar para ampliar." class="imagen_ampliable" width="200" height="252"></a>
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación. </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>Las variables que formen la estructura de datos de un tipo de dato objeto reciben el nombre de <strong>atributos</strong> (que se corresponde con sus propiedades). Las funciones y procedimientos del tipo de dato objeto se denominan <strong>métodos</strong> (que se corresponde con sus acciones).</p>
<p>Cuando se define un tipo de objeto, se crea una <strong>plantilla abstracta</strong> de un objeto de la vida real. La plantilla especifica los atributos y comportamientos que el objeto necesita en el entorno de la aplicación. Dependiendo de la aplicación a desarrollar se utilizarán sólo determinados atributos y comportamiento del objeto. Por ejemplo, en la gestión de la evaluación del alumnado es muy probable que no se necesite conocer su altura, peso, etc. o utilizar comportamientos como desplazarse, comer, etc., aunque formen todos ellos parte de las características del alumnado.</p>
<p>Aunque los atributos son públicos, es decir, visibles desde otros programas cliente, los programas deberían <strong>manipular los datos únicamente a través de los métodos</strong> (funciones y procedimientos) que se hayan declarado en el tipo objeto, en vez de asignar u obtener sus valores directamente. Esto es debido a que los métodos pueden hacer un chequeo de los datos de manera que se mantenga un estado apropiado en los mismos. Por ejemplo, si se desea asignar un curso a un miembro del alumnado, sólo debe permitirse que se asigne un curso existente. Si se permitiera modificar directamente el curso, se podría asignar un valor incorrecto (curso inexistente).</p>
<p>Durante la ejecución, la aplicación creará <strong>instancias</strong> de un tipo objeto, es decir, referencias a objetos reales con valores asignados en sus atributos. Por ejemplo, una instancia será un determinado miembro del alumnado con sus datos personales correspondientes.</p>
</div>
</div>
</article>
<article class="iDevice_wrapper ReflectionfpdmodifIdevice em_iDevice" id="id6-2">
<div class="iDevice emphasis_reflexionfpd">
<header class="iDevice_header" style="background-image:url(icon_reflexionfpd.png)"><h2 class="iDeviceTitle">Reflexiona</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta6_40" class="block iDevice_content">
<p>Piensa en un objeto y enumera algunas de sus propiedades y acciones que se pueden realizar sobre él.</p>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-3">
<header class="nodeDecoration">
<h1 id="exenode_3_3Definicindetiposdeobjeto" class="nodeTitle">3.- Definición de tipos de objeto.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id8-3">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta8_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-left license-custom" style="width: 172px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_03.jpg" alt="Fotografía de Ana." title="Ana." class="elemento_izquierda" width="172" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license"> Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Ya conoce <strong>Ana</strong> el concepto de las bases de datos orientadas a objetos y que los tipos de datos objeto son la base para ellas. Así que para asentar esos conocimientos se plantea modificar, con la ayuda de <strong>Juan</strong>, la base de datos de la plataforma de juegos <span lang="en">on-line</span> que hasta ahora era relacional para convertirla en una base de datos orientada a objetos.</p>
<p>Para ello, se plantea crear el tipo de objeto Usuario, pero necesita conocer cómo se declaran los tipos de datos objeto en Oracle.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id9-3">
<div class="iDevice emphasis0">
<div id="ta9_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<figure class="exe-figure exe-image float-left license-custom" style="width: 200px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R02_ESTRUCTURA.png" title="Ampliar imagen." rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R02_ESTRUCTURA.png" alt="Esquema con dos secciones: Interfaz público (especificación) e implementación privada (cuerpo). El primero incluye dos secciones con los textos: declaraciones de atributos y especificación de métodos. El segundo incluye: Cuerpo de los métodos." title="Esquema estructura de objetos. Pulsar para ampliar." class="imagen_ampliable" width="200" height="89"></a>
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación.</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>La estructura de la definición o declaración de un tipo de objeto está dividida en una especificación y un cuerpo. La <strong>especificación</strong> define el interfaz de programación, donde se declaran los atributos así como las operaciones (métodos) para manipular los datos. En el <strong>cuerpo</strong> se implementa el código fuente de los métodos.</p>
<p>Toda la información que un programa necesita para usar los métodos lo encuentra en la especificación. Se puede modificar el cuerpo sin cambiar la especificación, sin que ello afecte a los programas cliente.</p>
<p>En la especificación de un tipo de objeto, todos los <strong>atributos debes declararlos antes que los métodos</strong>. Si la especificación de un tipo de objeto sólo declara atributos, no es necesario que declares el cuerpo. Debes tener en cuenta también que no puedes declarar atributos en el cuerpo. Además, todas las declaraciones realizadas en la especificación del tipo de objeto son públicas, es decir, visibles fuera del tipo de objeto.</p>
<p>Por tanto, un tipo de objeto contiene (encapsula) datos y operaciones. Puedes declarar atributos y métodos en la especificación, pero no constantes (<code>CONSTANTS</code>), excepciones (<code>EXCEPTIONS</code>), cursores (<code>CURSORS</code>) o tipos (<code>TYPES</code>). Al menos debe tener un atributo declarado, y un máximo de 1000. En cambio los métodos son opcionales, por lo que se puede crear un tipo de objeto sin métodos.</p>
<p>Para definir un objeto en Oracle debes utilizar la sentencia <code>CREATE TYPE</code> que tiene el siguiente formato:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TYPE</span> nombre_tipo <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
Declaración_atributos
Declaración_métodos
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Siendo nombre_tipo el nombre deseado para el nuevo tipo de objeto. La forma de declarar los atributos y los métodos se verá en los siguientes apartados de esta unidad didáctica.</span></p>
</div>
<p>En caso de que el <strong>nombre del tipo de objeto ya estuviera siendo usado</strong> para otro tipo de objeto se obtendría un error. Si se desea reemplazar el tipo anteriormente creado, por el nuevo que se va a declarar, se puede añadir la <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#t0ce91346-9aff-39e0-1fa3-0f15fea7542a" id="link0ce91346-9aff-39e0-1fa3-0f15fea7542a" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="1" oldtitle="Cláusula  | " title="">cláusula </a><code>OR REPLACE</code> en la declaración del tipo de objeto:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> nombre_tipo <span class="token keyword">AS</span> OBJECT</code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Por ejemplo, para crear el tipo de objeto Usuario, </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">reemplazando la declaración</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> que tuviera anteriormente se podría hacer algo similar a los siguiente:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> Usuario <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
Declaración_atributos
Declaración_métodos
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si en algún momento deseas </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">eliminar el tipo de objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> que has creado puedes utilizar la sentencia </span><code>DROP TYPE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TYPE</span> nombre_tipo<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Donde nombre_tipo debe ser el nombre del tipo de dato objeto que deseas eliminar. Por ejemplo, para el tipo de objetos anterior, deberías indicar:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TYPE</span> Usuario<span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
<div id="t0ce91346-9aff-39e0-1fa3-0f15fea7542a" class="exe-tooltip-text">
<p>Instrucción o sección de una instrucción en un lenguaje informático.</p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-4">
<header class="nodeDecoration">
<h1 id="exenode_4_31Declaracindeatributos" class="nodeTitle">3.1.- Declaración de atributos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id10-4">
<div class="iDevice emphasis0">
<div id="ta10_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<figure class="exe-figure exe-image float-left license-custom" style="width: 200px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R03_ATRIBUTOS.png" title="Ampliar imagen." rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R03_ATRIBUTOS.png" alt="Esquema de estructura de objetos con cuadro de declaración de atributos remarcado." title="Esquema declaración de atributos. Pulsar para ampliar." class="imagen_ampliable" width="200" height="89"></a>
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>La declaración de los atributos la puedes realizar de forma muy similar a declaración de las variables, es decir, utilizando un nombre y un tipo de dato. Dicho nombre debe ser único dentro del tipo de objeto, aunque puede ser reutilizado en otros tipos de objeto. El tipo de dato que puede almacenar un determinado atributo puede ser <strong>cualquiera de los tipos de Oracle excepto</strong> los siguientes:</p>
<ul class="lista_verificacion">
<li><code>LONG</code> y <code>LONG RAW</code>.</li>
<li><code>ROWID</code> y <code>UROWID</code>.</li>
<li>Los tipos específicos <code>PL/SQL BINARY_INTEGER</code> (y sus subtipos), <code>BOOLEAN</code>, <code>PLS_INTEGER</code>, <code>RECORD</code>, <code>REF CURSOR</code>, <code>%TYPE</code>, y <code>%ROWTYPE</code>.</li>
<li>Los tipos definidos dentro de un paquete <code>PL/SQL</code>.</li>
</ul>
<p>Debes tener en cuenta que no puedes inicializar los atributos usando el operador de asignación, ni la cláusula <code>DEFAULT</code>, ni asignar la restricción <code>NOT NULL</code>.</p>
<p>El <strong>tipo de dato de un atributo puede ser otro tipo de objeto</strong>, por lo que la estructura de datos puede ser tan complicada como sea necesario.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> Usuario <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	login VARCHAR2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	f_ingreso DATE<span class="token punctuation">,</span>
	credito NUMBER
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Después de haber sido creado el tipo de objeto, se pueden </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">modificar sus atributos</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> utilizando la sentencia </span><code>ALTER TYPE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Si se desean añadir nuevos atributos se añadirá la cláusula </span><code>ADD ATTRIBUTE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> seguida de la lista de nuevos atributos con sus correspondientes tipos de dato. Utilizando </span><code>MODIFY ATTRIBUTE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> se podrán modificar los atributos existentes, y para eliminar atributos se dispone de manera similar de </span><code>DROP ATTRIBUTE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Aquí tienes varios ejemplos de modificación del tipo de objeto Usuario creado anteriormente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TYPE</span> Usuario <span class="token keyword">DROP</span> ATTRIBUTE f_ingreso<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TYPE</span> Usuario <span class="token keyword">ADD</span> ATTRIBUTE <span class="token punctuation">(</span>apellidos VARCHAR2<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localidad VARCHAR2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TYPE</span> Usuario
	<span class="token keyword">ADD</span> ATTRIBUTE cp VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token keyword">MODIFY</span> ATTRIBUTE nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id11-4">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta11_47" class="block iDevice_content">
<p>
En la web de Oracle puedes encontrar la sintaxis completa de la instrucción <code>CREATE TYPE</code>. Ahí podrás conocer que hay más posibilidades de uso:
</p>
<p class="enlace_centrado">
<a href="http://download.oracle.com/docs/cd/B13789_01/server.101/b10759/statements_8001.htm" title="Acceder a la web de Oracle donde podrás encontrar la sintaxis completa de la instrucción CREATE TYPE." target="_self">Sintaxis completa de la instrucción <code>CREATE TYPE</code>.</a> (En inglés)
</p>
<p>
En la web de Oracle puedes encontrar la sintaxis completa de la instrucción <code>ALTER TYPE</code>. Ahí podrás conocer que hay más posibilidades de uso:
</p>
<p class="enlace_centrado">
<a href="http://docs.oracle.com/cd/B14117_01/server.101/b10759/statements_4002.htm" title="Acceder a la web de Oracle donde podrás encontrar la sintaxis completa de la instrucción ALTER TYPE." target="_self">Sintaxis completa de la instrucción <code>ALTER TYPE</code>.</a> (En inglés)
</p>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-5">
<header class="nodeDecoration">
<h1 id="exenode_5_32Definicindemtodos" class="nodeTitle">3.2.- Definición de métodos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id12-5">
<div class="iDevice emphasis0">
<div id="ta12_73" class="block iDevice_content">
<p>Un <strong>método es un subprograma</strong> que declaras en la especificación de un tipo de objeto usando las palabras clave <code>MEMBER</code> o <code>STATIC</code>. Debes tener en cuenta que el nombre de un determinado método no puede puede ser el mismo nombre que el tipo de objeto ni el de ninguno de sus atributos. Como se verá más adelante, se pueden crear métodos con el mismo nombre que el tipo de objeto, pero dichos métodos tendrán una función especial.</p>
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R04_METODOS_ESPECIF.png" title="Ampliar imagen." style="font-size: 1em; text-align: center;" rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R04_METODOS_ESPECIF.png" alt="Esquema de estructura de objetos con cuadro de especificación de métodos remarcado." title="Esquema especificación de métodos. Pulsar para ampliar" class="imagen_ampliable" width="200" height="89" style="background-image: url(&#39;./lupa.png&#39;);"></a>
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Al igual que los subprogramas empaquetados, los métodos tienen <strong>dos partes: una especificación y un cuerpo</strong>.</p>
<p>En la <strong>especificación</strong> o declaración se debe encontrar el nombre del método, una lista opcional de parámetros, y, en el caso de las funciones, un tipo de dato de retorno. Por ejemplo, observa la especificación del método incrementoCredito que se encuentra detrás de las declaraciones de los atributos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> Usuario <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	login VARCHAR2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	f_ingreso DATE<span class="token punctuation">,</span>
	credito NUMBER<span class="token punctuation">,</span>
	MEMBER <span class="token keyword">PROCEDURE</span> incrementoCredito<span class="token punctuation">(</span>inc NUMBER<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En el </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">cuerpo</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> debes indicar el código que se debe ejecutar para realizar una determinada tarea</span><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> cuando el método es invocado. En el siguiente ejemplo se desarrolla el cuerpo del método que s<span style="font-size: 1em;">e ha d</span><span style="font-size: 1em;">eclarado antes:</span></span></p>
<figure class="exe-figure exe-image position-center license-custom" style="width: 200px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R05_METODOS_CUERPO.png" title="Ampliar imagen." style="font-size: 1em; text-align: center;" rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R05_METODOS_CUERPO.png" alt="Esquema de estructura de objetos con cuadro de cuerpo de los métodos remarcado." title="Esquema cuerpo de métodos. Pulsar para ampliar" class="imagen_ampliable" width="200" height="89" style="background-image: url(&#39;./lupa.png&#39;); vertical-align: middle;"></a>
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Acceder a la Web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> BODY Usuario <span class="token keyword">AS</span>
	MEMBER <span class="token keyword">PROCEDURE</span> incrementoCredito<span class="token punctuation">(</span>inc NUMBER<span class="token punctuation">)</span> <span class="token operator">IS</span>
		<span class="token keyword">BEGIN</span>
			credito :<span class="token operator">=</span> credito <span class="token operator">+</span> inc<span class="token punctuation">;</span>
		<span class="token keyword">END</span> incrementoCredito<span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Por cada especificación de método que se indique en el bloque de especificación del tipo de objeto, debe existir su correspondiente cuerpo del método, o bien, el método debe declararse como </span><code>NOT INSTANTIABLE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, para indicar que el cuerpo del método se encontrará en un subtipo de ese tipo de objeto. Además, debes tener en cuenta que las cabeceras de los métodos deben coincidir exactamente en la especificación y en el cuerpo.</span></p>
</div>
<p>Al igual que los atributos, los parámetros formales se declaran con un nombre y un tipo de dato. Sin embargo, el tipo de dato de un parámetro no puede tener restricciones de tamaño. El tipo de datos puede ser cualquiera de los empleados por Oracle salvo los indicados anteriormente para los atributos. Las mismas restricciones se aplican para los tipos de retorno de las funciones.</p>
<p>El código fuente de los métodos no sólo puede escribirse en el lenguaje PL/SQL. También con otros lenguajes de programación como Java o C.</p>
<p>Puedes usar la sentencia <code>ALTER TYPE</code> para <strong>añadir, modificar o eliminar métodos</strong> de un tipo de objeto existente, de manera similar a la utilizada para modificar los atributos de un tipo de objeto.</p>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-6">
<header class="nodeDecoration">
<h1 id="exenode_6_33ParmetroSELF" class="nodeTitle">3.3.- Parámetro SELF.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id13-6">
<div class="iDevice emphasis0">
<div id="ta13_73" class="block iDevice_content">
<p>Un parámetro especial que puedes utilizar con los métodos <code>MEMBER</code> es el que recibe el nombre <code>SELF</code>. Este parámetro <strong>hace referencia a una instancia (objeto) del mismo tipo de objeto</strong>. Aunque no lo declares explícitamente, este parámetro siempre se declara automáticamente.</p>
<p>El <strong>tipo de dato</strong> correspondiente al parámetro <code>SELF</code> será el mismo que el del objeto original. En las funciones <code>MEMBER</code>, si no declaras el parámetro <code>SELF</code>, su modo por defecto se toma como <code>IN</code>. En cambio, en los procedimientos <code>MEMBER</code>, si no se declara, se toma como <code>IN OUT</code>. Ten en cuenta que no puedes especificar el modo <code>OUT</code> para este parámetro <code>SELF</code>, y que los métodos <code>STATIC</code> no pueden utilizar este parámetro especial.</p>
<p>Si se hace referencia al parámetro <code>SELF</code> <strong>dentro del cuerpo de un método</strong>, realmente se está haciendo referencia al objeto que ha invocado a dicho método. Por tanto, si utilizas <code>SELF.nombre_atributo</code> o <code>SELF.nombre_método</code>, estarás utilizando un atributo o un método del mismo objeto que ha llamado al método donde se encuentra utilizado el parámetro <code>SELF</code>.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">MEMBER <span class="token keyword">PROCEDURE</span> setNombre<span class="token punctuation">(</span>Nombre VARCHAR2<span class="token punctuation">)</span> <span class="token operator">IS</span>
	<span class="token keyword">BEGIN</span>
		<span class="token comment" spellcheck="true">/* El primer elemento (SELF.Nombre) hace referencia al atributo del tipo de objeto mientras que el 
		segundo (Nombre) hace referencia al parámetro del método */</span>
		SELF<span class="token punctuation">.</span>Nombre :<span class="token operator">=</span> Nombre<span class="token punctuation">;</span>
	<span class="token keyword">END</span> setNombre<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id14-6">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-14_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion14_60" class="block question iDevice_content">
<strong>¿Cómo se denonima a los elementos que realizan determinadas acciones sobre los objetos?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i14_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_63">Opción 1</a></label><input type="radio" name="option14_60" id="i14_63" class="exe-radio-option exe-radio-option-0-4-14_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-14_63"><div id="taans14_63" class="block iDevice_content">
Atributos.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i14_197" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_197">Opción 2</a></label><input type="radio" name="option14_60" id="i14_197" class="exe-radio-option exe-radio-option-1-4-14_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-14_197"><div id="taans14_197" class="block iDevice_content">
Métodos.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i14_200" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_200">Opción 3</a></label><input type="radio" name="option14_60" id="i14_200" class="exe-radio-option exe-radio-option-2-4-14_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-14_200"><div id="taans14_200" class="block iDevice_content">
Tipos de datos objeto.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i14_203" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_203">Opción 4</a></label><input type="radio" name="option14_60" id="i14_203" class="exe-radio-option exe-radio-option-3-4-14_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-14_203"><div id="taans14_203" class="block iDevice_content">
Parámetros.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b14_60" class="feedback js-hidden">
<div id="taf14_63" class=" iDevice_content">
No es correcto, los atributos son las propiedades de los objetos. Sólo permiten almacenar información, sin que realicen ninguna acción.

</div>
</section>
<section id="sa1b14_60" class="feedback js-hidden">
<div id="taf14_197" class=" iDevice_content">
¡Muy bien!

</div>
</section>
<section id="sa2b14_60" class="feedback js-hidden">
<div id="taf14_200" class=" iDevice_content">
Incorrecto, los tipos de datos objeto es la descripción completa, incluyendo atributos y métodos.

</div>
</section>
<section id="sa3b14_60" class="feedback js-hidden">
<div id="taf14_203" class=" iDevice_content">
No es cierto, los parámetros son los datos que le puedes suministrar a los métodos.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b14_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_197">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b14_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_200">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b14_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-14_203">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa3b14_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-7">
<header class="nodeDecoration">
<h1 id="exenode_7_34Sobrecarga" class="nodeTitle">3.4.- Sobrecarga.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id15-7">
<div class="iDevice emphasis0">
<div id="ta15_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 192px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R07_SOBRECARGA.png" alt="Texto 2x1 sobre imagen en forma de estrella." title="Icono sobrecarga." class="elemento_derecha" width="192" height="128">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación.</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Al igual que ocurre con los subprogramas empaquetados, los métodos pueden ser sobrecargados, es decir, puedes <strong>utilizar el mismo nombre para métodos diferentes</strong> siempre que sus parámetros formales sean diferentes (en cantidad o tipo de dato).</p>
<p>Cuando se hace una llamada a un método, se comparan los parámetros actuales con los parámetros formales de los métodos que se han declarado, y se ejecutará aquél en el que haya una coincidencia entre ambos tipos de parámetros.</p>
<p>Ten en cuenta que no es válida la sobrecarga de dos métodos cuyos parámetros formales se diferencian únicamente en su modo, así como tampoco en funciones que se diferencien únicamente en el valor de retorno.</p>
<p>Estos dos ejemplos son correctos, ya que se diferencian en el número de parámetros:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">MEMBER <span class="token keyword">PROCEDURE</span> setNombre<span class="token punctuation">(</span>Nombre VARCHAR2<span class="token punctuation">)</span>
MEMBER <span class="token keyword">PROCEDURE</span> setNombre<span class="token punctuation">(</span>Nombre VARCHAR2<span class="token punctuation">,</span> Apellidos VARCHAR2<span class="token punctuation">)</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">No es válido crear un nuevo método en el que se utilicen los mismos tipos de parámetros formales aunque se diferencien los nombres de los parámetros:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">MEMBER <span class="token keyword">PROCEDURE</span> setNombre<span class="token punctuation">(</span>Name VARCHAR2<span class="token punctuation">,</span> Surname VARCHAR2<span class="token punctuation">)</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id16-7">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-16_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion16_60" class="block question iDevice_content">
<p><strong>¿Son correctas las siguientes declaraciones de métodos? </strong></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">MEMBER <span class="token keyword">FUNCTION</span> getResultado<span class="token punctuation">(</span>Valor VARCHAR2<span class="token punctuation">)</span>
MEMBER <span class="token keyword">FUNCTION</span> getResultado<span class="token punctuation">(</span>Valor <span class="token keyword">INTEGER</span><span class="token punctuation">)</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i16_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-16_63">Opción 1</a></label><input type="radio" name="option16_60" id="i16_63" class="exe-radio-option exe-radio-option-0-2-16_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-16_63"><div id="taans16_63" class="block iDevice_content">
Verdadero.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i16_207" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-16_207">Opción 2</a></label><input type="radio" name="option16_60" id="i16_207" class="exe-radio-option exe-radio-option-1-2-16_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-16_207"><div id="taans16_207" class="block iDevice_content">
Falso.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b16_60" class="feedback js-hidden">
<div id="taf16_63" class=" iDevice_content">
<p>Efectivamente, aunque ambos métodos tengan el mismo nombre, incluso aunque el nombre de los parámetros sean iguales, los tipos de los parámetros son diferentes, por lo que el método getResultado está sobrecargado correctamente.</p>
</div>
</section>
<section id="sa1b16_60" class="feedback js-hidden">
<div id="taf16_207" class=" iDevice_content">
Vuelve a intentarlo, porque la respuesta que has dado no es correcta.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-16_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b16_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-16_207">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b16_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-8">
<header class="nodeDecoration">
<h1 id="exenode_8_35MtodosConstructores" class="nodeTitle">3.5.- Métodos Constructores.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id17-8">
<div class="iDevice emphasis0">
<div id="ta17_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 172px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R08_CONSTRUCTOR.png" alt="Imágenes de herramientas frente a la figura de un cubo con esquina iluminada. " title="Icono método constructor." class="elemento_derecha" width="172" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación. </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>Cada tipo de objeto tiene un método constructor, que se trata de una <strong>función con el mismo nombre que el tipo de objeto</strong> y que se encarga de <strong>inicializar los atributos y retornar una nueva instancia</strong> de ese tipo de objeto.</p>
<p>Oracle crea un <strong>método constructor por defecto</strong> para cada tipo de objeto declarado, cuyos parámetros formales coinciden en orden, nombres y tipos de datos con los atributos del tipo de objeto.</p>
<p>También puedes declarar <strong>tus propios métodos constructores</strong>, reescribiendo ese método declarado por el sistema, o bien, definiendo un nuevo método con otros parámetros. Una de las ventajas de crear un nuevo método constructor personalizado es que se puede hacer una verificación de que los datos que se van a asignar a los atributos son correctos (por ejemplo, que cumplen una determinada restricción).</p>
<p>Si deseas reemplazar el método constructor por defecto, debes utilizar la sentencia <code>CONSTRUCTOR FUNCTION</code> seguida del nombre del tipo de objeto en el que se encuentra (recuerda que los métodos constructores tienen el mismo nombre que el tipo de objeto). A continuación debes indicar los parámetros que sean necesarios de la manera habitual. Por último, debes indicar que el valor de retorno de la función es el propio objeto utilizando la cláusula <code>RETURN SELF AS RESULT</code>.</p>
<p>Puedes crear <strong>varios métodos constructores</strong> siguiendo las restricciones indicadas para la sobrecarga de métodos.</p>
<p>En el siguiente ejemplo puedes ver la declaración y el cuerpo de un método constructor para el tipo de objeto Usuario. Como puedes comprobar, utiliza dos parámetros: <span lang="en">login</span> y crédito inicial. El cuerpo del método realiza un pequeño control para que en caso de que el crédito indicado sea negativo, se deje en cero:</p>
<p></p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">CONSTRUCTOR <span class="token keyword">FUNCTION</span> Usuario<span class="token punctuation">(</span>login VARCHAR2<span class="token punctuation">,</span> credito NUMBER<span class="token punctuation">)</span>
	<span class="token keyword">RETURN</span> SELF <span class="token keyword">AS</span> RESULT
 
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> BODY Usuario <span class="token keyword">AS</span>
	CONSTRUCTOR <span class="token keyword">FUNCTION</span> Usuario<span class="token punctuation">(</span>login VARCHAR2<span class="token punctuation">,</span> credito NUMBER<span class="token punctuation">)</span>
		<span class="token keyword">RETURN</span> SELF <span class="token keyword">AS</span> RESULT
	<span class="token operator">IS</span>
		<span class="token keyword">BEGIN</span>
			<span class="token keyword">IF</span> <span class="token punctuation">(</span>credito <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">THEN</span>
				SELF<span class="token punctuation">.</span>credito :<span class="token operator">=</span> credito<span class="token punctuation">;</span>
			<span class="token keyword">ELSE</span>
				SELF<span class="token punctuation">.</span>credito :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
			<span class="token keyword">RETURN</span><span class="token punctuation">;</span>
		<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En la siguiente presentación puedes ver un ejemplo de declaración de un tipo de dato objeto, con un método constructor y sobrecarga de métodos.</span></p>
</div>
<div class="elemento_centrado">
<div class="elemento_centrado"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_CONT_R09_EjemploTYPE.odp" target="_blank" title="Descargar una presentación con un ejemplo de un objeto con un método constructor y sobrecarga de métodos (se abre en una ventana nueva) [odp - 26,92 KB]" rel="noopener">Descargar presentación objeto con método constructor y sobrecarga</a><span class="exe-link-data file-size"> (odp - 26,92 <abbr title="KiloBytes" lang="en">KB</abbr>)</span></div>
<div class="elemento_centrado"><span class="exe-link-data file-size"></span></div>
<div class="credenciales elemento_centrado"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_Descripcion_Presentacion_Ejemplo_declaracion.html" title="Resumen textual alternativo para &quot;Ejemplo de declaración y uso del tipo de objeto Usuario.&quot;">Resumen textual alternativo</a></div>
<div class="credenciales elemento_centrado" style="text-align: left;"><span style="font-size: 12pt;"></span></div>
<div class="credenciales elemento_centrado" style="text-align: left;"><span style="font-size: 12pt;"></span></div>
<div class="credenciales elemento_centrado" style="text-align: left;"><span style="font-size: 12pt;"></span></div>
<div class="credenciales elemento_centrado" style="text-align: left;"><span style="font-size: 12pt;">En este <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_CONT_R09_EjemploTYPE.pdf" title="Descarga el PDF con el código de la presentación (programa ejemplo objeto, método constructor y sobrecarga)  [pdf - 8,65 KB]">enlace</a><span class="exe-link-data file-size"> (pdf - 8,65 <abbr title="KiloBytes" lang="en">KB</abbr>)</span> &nbsp;puedes descargar el código de la presentación en formato pdf.</span></div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-9">
<header class="nodeDecoration">
<h1 id="exenode_9_4Utilizacindeobjetos" class="nodeTitle">4.- Utilización de objetos.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id18-9">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta18_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 128px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_24.png" alt="Fotografía de Ada." title="Ada." class="elemento_derecha" width="128" height="192">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Ada</strong> ha observado que <strong>Juan</strong> y <strong>Ana</strong> están muy volcados en el desarrollo de algo. Ellos le cuentan que están realizando pruebas para modificar sus bases de datos relacionales para darles funcionalidades orientadas a objetos.</p>
<p>De momento han realizado la declaración de los tipos de datos objeto, pero no pueden enseñarle a <strong>Ada</strong> su funcionamiento práctico, puesto que todavía no han creado objetos de esos tipos que ya tienen creados.</p>
<p>Le piden un poco de paciencia, porque pronto podrán enseñarle los beneficios que puede reportar esta técnica de trabajo con bases de datos y para el desarrollo de aplicaciones.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id19-9">
<div class="iDevice emphasis0">
<div id="ta19_73" class="block iDevice_content">
<p>
Una vez que dispones de los conocimientos necesarios para tener
declarado un tipo de dato objeto, vamos a conocer la forma de
utilizar los objetos que vayas a crear de ese tipo.
</p>
<p>
En los siguientes apartados vas a ver cómo puedes <strong>declarar
variables</strong> que permitan almacenar objetos, darles un <strong>valores
iniciales a sus atributos</strong>, acceder al <strong>contenido</strong> de dichos
atributos en cualquier momento, y <strong>llamar a los métodos</strong> que
ofrece el tipo de objeto utilizado.
</p>

</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-10">
<header class="nodeDecoration">
<h1 id="exenode_10_41Declaracindeobjetos" class="nodeTitle">4.1.- Declaración de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id20-10">
<div class="iDevice emphasis0">
<div id="ta20_73" class="block iDevice_content">
<p>Una vez que el tipo de objeto ha sido definido, éste puede ser utilizado para <strong>declarar variables de objetos</strong> de ese tipo en cualquier bloque PL/SQL, subprograma o paquete. Ese tipo de objeto lo puedes utilizar como tipo de dato para una variable, atributo, elemento de una tabla, parámetro formal, o resultado de una función, de igual manera que se utilizan los tipos de datos habituales como <code>VARCHAR</code> o <code>NUMBER</code>.</p>
<p>Por ejemplo, para declarar una variable denominada u1, que va a permitir almacenar un objeto del tipo Usuario, debes hacer la siguiente declaración:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">u1 Usuario<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En la declaración de cualquier </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">procedimiento o función</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, incluidos los métodos del mismo tipo de objeto o de otro, se puede utilizar el tipo de dato objeto definido para indicar que debe </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">pasarse como parámetro un objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> de dicho tipo en la llamada. Por ejemplo pensemos en un procedimiento al que se le debe pasar como parámetro un objeto del tipo Usuario:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">PROCEDURE</span> setUsuario<span class="token punctuation">(</span>u <span class="token operator">IN</span> Usuario<span class="token punctuation">)</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">La llamada a este método se realizaría utilizando como parámetro un objeto, como el que podemos tener en la variable declarada anteriormente:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">setUsuario<span class="token punctuation">(</span>u1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">De manera semejante una función puede </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">retornar objetos</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">FUNCTION</span> getUsuario<span class="token punctuation">(</span>codigo <span class="token keyword">INTEGER</span><span class="token punctuation">)</span> <span class="token keyword">RETURN</span> Usuario</code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Los objetos se crean durante la ejecución del código como instancias del tipo de objeto, y cada uno de ellos pueden contener valores diferentes en sus atributos.</span></p>
</div>
<p>El <strong><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#t428b461c-5408-68bb-e591-f4dc82ca8658" id="link428b461c-5408-68bb-e591-f4dc82ca8658" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="2" oldtitle="Ámbito | " title="">ámbito</a> de los objetos</strong> sigue las mismas reglas habituales en PL/SQL, es decir, en un bloque o subprograma los objetos son creados (instanciados) cuando se entra en dicho bloque o subprograma y se destruyen automáticamente cuando se sale de ellos. En un paquete, los objetos son instanciados en el momento de hacer referencia al paquete y dejan de existir cuando se finaliza la sesión en la base de datos.</p>
<div id="t428b461c-5408-68bb-e591-f4dc82ca8658" class="exe-tooltip-text">
<p>Área del programa donde un determinado elemento existe y puede ser utilizado. Fuera de ese ámbito , o bien no existe o no puede ser usado.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id21-10">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-21_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion21_60" class="block question iDevice_content">
<strong>Suponiendo que tienes declarado el tipo de objeto Factura. ¿Cuál de las siguientes declaraciones de variable para guardar un objeto de ese tipo es correcta?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_63">Opción 1</a></label><input type="radio" name="option21_60" id="i21_63" class="exe-radio-option exe-radio-option-0-3-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_63"><div id="taans21_63" class="block iDevice_content">
Factura factura1;

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_215" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_215">Opción 2</a></label><input type="radio" name="option21_60" id="i21_215" class="exe-radio-option exe-radio-option-1-3-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_215"><div id="taans21_215" class="block iDevice_content">
factura1 := Factura;

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_218" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_218">Opción 3</a></label><input type="radio" name="option21_60" id="i21_218" class="exe-radio-option exe-radio-option-2-3-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_218"><div id="taans21_218" class="block iDevice_content">
factura1 Factura;

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b21_60" class="feedback js-hidden">
<div id="taf21_63" class=" iDevice_content">
No es correcto, el orden de los elementos no es correcto.

</div>
</section>
<section id="sa1b21_60" class="feedback js-hidden">
<div id="taf21_215" class=" iDevice_content">
Incorrecto, esa instrucción es parte de una asignación, no una declaración de variable.

</div>
</section>
<section id="sa2b21_60" class="feedback js-hidden">
<div id="taf21_218" class=" iDevice_content">
¡Muy bien!

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b21_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_215">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b21_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-21_218">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b21_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-11">
<header class="nodeDecoration">
<h1 id="exenode_11_42Inicializacindeobjetos" class="nodeTitle">4.2.- Inicialización de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id22-11">
<div class="iDevice emphasis0">
<div id="ta22_73" class="block iDevice_content">
<p>Para <strong>crear o instanciar un objeto</strong> de un determinado tipo de objeto, debes hacer una <strong>llamada a su método constructor</strong>. Esto lo puedes realizar empleando la <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#t13f49910-b224-f56a-7a02-c50af0d79f77" id="link13f49910-b224-f56a-7a02-c50af0d79f77" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="3" oldtitle="Instrucción | " title=""><strong>instrucción </strong></a><code>NEW</code> seguido del nombre del tipo de objeto como una llamada a una función en la que se indican como parámetros los valores que se desean asignar a los atributos inicialmente. En una asignación también puedes optar por hacer eso mismo omitiendo la palabra <code>NEW</code>.</p>
<p>El <strong>orden de los parámetros</strong> debe coincidir con el orden en el que están declarados los atributos, así como los tipos de datos. El formato sería como el siguiente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">variable_objeto :<span class="token operator">=</span> NEW Nombre_Tipo_Objeto <span class="token punctuation">(</span>valor_atributo1<span class="token punctuation">,</span> valor_atributo2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Por ejemplo, en el caso del tipo de objeto Usuario:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">u1 :<span class="token operator">=</span> NEW Usuario<span class="token punctuation">(</span><span class="token string">'luitom64'</span><span class="token punctuation">,</span> <span class="token string">'LUIS '</span><span class="token punctuation">,</span> <span class="token string">'TOMAS BRUÑA'</span><span class="token punctuation">,</span> <span class="token string">'24/10/07'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En ese momento se </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">inicializa el objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Hasta que no se inicializa el objeto llamando a su constructor, el objeto tiene el valor </span><code>NULL</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Es habitual inicializar los objetos en su declaración.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">u1 Usuario :<span class="token operator">=</span> NEW Usuario<span class="token punctuation">(</span><span class="token string">'luitom64'</span><span class="token punctuation">,</span> <span class="token string">'LUIS '</span><span class="token punctuation">,</span> <span class="token string">'TOMAS BRUÑA'</span><span class="token punctuation">,</span> <span class="token string">'24/10/07'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">La llamada al método constructor se puede realizar en cualquier lugar en el que se puede hacer una llamada a una función de la forma habitual. Por ejemplo, la llamada al método constructor puede ser utilizada </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">como parte de una expresión</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Los <strong>valores de los parámetros</strong> que se pasan al constructor cuando se hace la llamada, son asignados a los atributos del objeto que está siendo creado. Si la llamada es al método constructor que incorpora Oracle por defecto, debes indicar un parámetro para cada atributo, en el mismo orden en que están declarados los atributos. Ten en cuenta que los atributos, en contra de lo que ocurre con variables y constantes, no pueden tener valores por defecto asignados en su declaración. Por tanto, los valores que se desee que tengan inicialmente los atributos de un objeto instanciado deben indicarse como parámetros en la llamada al método constructor.</p>
<p>Existe la posibilidad de <strong>utilizar los nombres de los parámetros formales</strong> en la llamada al método constructor, en lugar de utilizar el modelo posicional de los parámetros. De esta manera no es obligatorio respetar el orden en el que se encuentran los parámetros reales respecto a los parámetros formales, que como se ha comentado antes coincide con el orden de los atributos.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
u1 Usuario<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
u1 :<span class="token operator">=</span> NEW Usuario<span class="token punctuation">(</span><span class="token string">'user1'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/* Se mostrará el crédito como cero, al intentar asignar un crédito negativo */</span>
dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>u1<span class="token punctuation">.</span>credito<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
</div>
<div id="t13f49910-b224-f56a-7a02-c50af0d79f77" class="exe-tooltip-text">
<p>Conjunto de datos y órdenes insertados en una secuencia estructurada o específica que el procesador interpreta y ejecuta</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id23-11">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-23_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion23_60" class="block question iDevice_content">
<p>
<strong>¿Cuál de las siguientes inicializaciones de objetos es correcta para el tipo de objeto Factura, suponiendo que dispone de los atributos número (</strong><code>INTEGER</code><strong>), nombre (</strong><code>VARCHAR2</code><strong>) e importe (</strong><code>NUMBER</code><strong>)?</strong>
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i23_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_63">Opción 1</a></label><input type="radio" name="option23_60" id="i23_63" class="exe-radio-option exe-radio-option-0-4-23_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-23_63"><div id="taans23_63" class="block iDevice_content">
factura1 := NEW Factura(3, 'Juan Álvarez', 30.50);

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i23_222" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_222">Opción 2</a></label><input type="radio" name="option23_60" id="i23_222" class="exe-radio-option exe-radio-option-1-4-23_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-23_222"><div id="taans23_222" class="block iDevice_content">
factura1 = Factura(3, 'Juan Álvarez', 30.50);

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i23_225" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_225">Opción 3</a></label><input type="radio" name="option23_60" id="i23_225" class="exe-radio-option exe-radio-option-2-4-23_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-23_225"><div id="taans23_225" class="block iDevice_content">
factura1 := NEW Factura('Juan Álvarez', 3, 30.50);

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i23_228" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_228">Opción 4</a></label><input type="radio" name="option23_60" id="i23_228" class="exe-radio-option exe-radio-option-3-4-23_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-23_228"><div id="taans23_228" class="block iDevice_content">
factura1 := NEW (3, 'Juan Álvarez', 30.50);

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b23_60" class="feedback js-hidden">
<div id="taf23_63" class=" iDevice_content">
<p>Correcto. Recuerda que también puedes inicializar el objeto en la asignación.</p>
</div>
</section>
<section id="sa1b23_60" class="feedback js-hidden">
<div id="taf23_222" class=" iDevice_content">
No es cierto, porque falta el carácter ':' antes del igual.

</div>
</section>
<section id="sa2b23_60" class="feedback js-hidden">
<div id="taf23_225" class=" iDevice_content">
Incorrecto, porque el orden de los atributos no es el indicado.

</div>
</section>
<section id="sa3b23_60" class="feedback js-hidden">
<div id="taf23_228" class=" iDevice_content">
No es correcto, porque falta el nombre del tipo de objeto, que realmente es la función que inicializa el objeto.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b23_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_222">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b23_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_225">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b23_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-23_228">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa3b23_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-12">
<header class="nodeDecoration">
<h1 id="exenode_12_43Accesoalosatributosdeobjetos" class="nodeTitle">4.3.- Acceso a los atributos de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id24-12">
<div class="iDevice emphasis0">
<div id="ta24_73" class="block iDevice_content">
<p>Para hacer referencia a un atributo de un objeto debes utilizar el <strong>nombre de dicho atributo</strong>, <strong>utilizando el punto</strong> para acceder al valor que contiene o bien para modificarlo. Antes debe ir <strong>precedido del objeto</strong> cuyo atributo deseas conocer o modificar.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">nombre_objeto<span class="token punctuation">.</span>nombre_atributo</code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Por ejemplo, la consulta del valor de un atributo puede utilizarse como parte de una asignación o como parámetro en la llamada a una función:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">unNombre :<span class="token operator">=</span> usuario1<span class="token punctuation">.</span>nombre<span class="token punctuation">;</span>
dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>usuario1<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">La </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">modificación del valor</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> contenido en el atributo puede ser similar a la siguiente:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">usuario1<span class="token punctuation">.</span>nombre:<span class="token operator">=</span> <span class="token string">'Nuevo Nombre'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Los nombres de los atributos pueden ser encadenados, lo que permite el acceso a atributos de tipos de objetos anidados. Por ejemplo, si el objeto sitio1 tiene un atributo del tipo de objeto Usuario, se accedería al atributo del nombre del usuario con:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">sitio1<span class="token punctuation">.</span>usuario1<span class="token punctuation">.</span>nombre</code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si se utiliza en una expresión el acceso a un atributo de un objeto que </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">no ha sido inicializado</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, se evalúa como </span><code>NULL</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Por otro lado, si se intenta asignar valores a un objeto no inicializado, éste lanza una </span><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#te7b6bf2f-3174-5b36-e6a5-eb7fd89ff453" id="linke7b6bf2f-3174-5b36-e6a5-eb7fd89ff453" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="4" oldtitle="Excepción | " title="">excepción</a><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> </span><code>ACCESS_INTO_NULL</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Para comprobar si un objeto es <code>NULL</code> se puede utilizar el operador de comparación <code>IS NULL</code> con el que se obtiene el valor <code>TRUE</code> si es así.</p>
<p>De manera similar, al intentar hacer una llamada a un método de un objeto que no ha sido inicializado, se lanza una excepción <code>NULL_SELF_DISPATCH</code>. Si se pasa como parámetro de tipo <code>IN</code>, los atributos del objeto <code>NULL</code> se evalúan como <code>NULL</code>, y si el parámetro es de tipo <code>OUT</code> o <code>IN OUT</code> lanza una excepción al intentar modificar el valor de sus atributos.</p>
<div id="te7b6bf2f-3174-5b36-e6a5-eb7fd89ff453" class="exe-tooltip-text">
<p>Indicación de un problema que ocurre durante la ejecución de un programa.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id25-12">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-25_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion25_60" class="block question iDevice_content">
<strong>¿Cuál de las siguientes expresiones es correcta para asignar el valor 50 al atributo importe del objeto factura1?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i25_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_63">Opción 1</a></label><input type="radio" name="option25_60" id="i25_63" class="exe-radio-option exe-radio-option-0-3-25_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-25_63"><div id="taans25_63" class="block iDevice_content">
factura1.importe := 50;

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i25_232" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_232">Opción 2</a></label><input type="radio" name="option25_60" id="i25_232" class="exe-radio-option exe-radio-option-1-3-25_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-25_232"><div id="taans25_232" class="block iDevice_content">
importe.factura1 := 50;

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i25_235" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_235">Opción 3</a></label><input type="radio" name="option25_60" id="i25_235" class="exe-radio-option exe-radio-option-2-3-25_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-25_235"><div id="taans25_235" class="block iDevice_content">
50 := factura1.importe;

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b25_60" class="feedback js-hidden">
<div id="taf25_63" class=" iDevice_content">
Correcto. ¡Muy bien!

</div>
</section>
<section id="sa1b25_60" class="feedback js-hidden">
<div id="taf25_232" class=" iDevice_content">
No es correcto, observa el orden que debe utilizarse.

</div>
</section>
<section id="sa2b25_60" class="feedback js-hidden">
<div id="taf25_235" class=" iDevice_content">
Incorrecto, el orden de las asignaciones debe mantenerse.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b25_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_232">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b25_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-25_235">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b25_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-13">
<header class="nodeDecoration">
<h1 id="exenode_13_44Llamadaalosmtodosdelosobjetos" class="nodeTitle">4.4.- Llamada a los métodos de los objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id26-13">
<div class="iDevice emphasis0">
<div id="ta26_73" class="block iDevice_content">
<p>Al igual que las llamadas a subprogramas, puedes invocar a los métodos de un tipo de objetos <strong>utilizando un punto entre el nombre del objeto y el del método</strong>. Los parámetros reales que se pasen al método se indicarán separados por comas, entre paréntesis, después del nombre del método.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">usuario1<span class="token punctuation">.</span>setNombreCompleto<span class="token punctuation">(</span><span class="token string">'Juan'</span><span class="token punctuation">,</span> <span class="token string">'García Fernández'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si el método </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">no tiene parámetros</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, se indicará la lista de parámetros reales vacía (sólo con los paréntesis), aunque se pueden omitir los paréntesis.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">credito :<span class="token operator">=</span> usuario1<span class="token punctuation">.</span>getCredito<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Las llamadas a métodos pueden </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">encadenarse</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, en cuyo caso, el orden de ejecución de los métodos es de derecha a izquierda. Se debe tener en cuenta que el método de la izquierda </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">debe retornar un objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> del tipo correspondiente al método de la derecha.</span></p>
</div>
<p>Por ejemplo, si dispones de un objeto sitio1 que tiene declarado un método <code>getUsuario</code> el cual retorna un objeto del tipo Usuario, puedes realizar con ese valor retornado una llamada a un método del tipo de objeto Usuario:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">sitio1<span class="token punctuation">.</span>getUsuario<span class="token punctuation">.</span>setNombreCompleto<span class="token punctuation">(</span><span class="token string">'Juan'</span><span class="token punctuation">,</span> <span class="token string">'García Fernández'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Los </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">métodos </strong><code>MEMBER</code><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"></strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> son invocados utilizando una instancia del tipo de objeto:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">nombre_objeto<span class="token punctuation">.</span>metodo<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En cambio, los </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">métodos </strong><code>STATIC</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> se invocan usando el tipo de objeto, en lugar de una de sus instancias:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">nombre_tipo_objeto<span class="token punctuation">.</span>metodo<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id27-13">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-27_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion27_60" class="block question iDevice_content">
<p>
<strong>¿Cuál de las siguientes llamadas al método </strong><code>getImporte</code><strong> es correcto para el objeto factura1?</strong>
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i27_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_63">Opción 1</a></label><input type="radio" name="option27_60" id="i27_63" class="exe-radio-option exe-radio-option-0-3-27_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-27_63"><div id="taans27_63" class="block iDevice_content">
valor := getImporte.factura1();

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i27_239" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_239">Opción 2</a></label><input type="radio" name="option27_60" id="i27_239" class="exe-radio-option exe-radio-option-1-3-27_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-27_239"><div id="taans27_239" class="block iDevice_content">
valor := factura1.getImporte();

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i27_242" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_242">Opción 3</a></label><input type="radio" name="option27_60" id="i27_242" class="exe-radio-option exe-radio-option-2-3-27_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-27_242"><div id="taans27_242" class="block iDevice_content">
valor := getImporte().factura1;

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b27_60" class="feedback js-hidden">
<div id="taf27_63" class=" iDevice_content">
Incorrecto, observa el orden que debe utilizarse.

</div>
</section>
<section id="sa1b27_60" class="feedback js-hidden">
<div id="taf27_239" class=" iDevice_content">
Correcto. ¡Muy bien!

</div>
</section>
<section id="sa2b27_60" class="feedback js-hidden">
<div id="taf27_242" class=" iDevice_content">
No es correcto, observa el orden que debe utilizarse.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b27_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_239">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b27_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-27_242">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b27_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-14">
<header class="nodeDecoration">
<h1 id="exenode_14_45Herencia" class="nodeTitle">4.5.- Herencia.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id28-14">
<div class="iDevice emphasis0">
<div id="ta28_73" class="block iDevice_content">
<p>El lenguaje PL/SQL admite la herencia simple de tipos de objetos, mediante la cual, puedes <strong>definir subtipos</strong> de los tipos de objeto. Estos subtipos, o tipos heredados, <strong>contienen todos los atributos y métodos del tipo padre</strong>, pero además pueden contener <strong>atributos y métodos adicionales</strong>, o incluso sobreescribir métodos del tipo padre.</p>
<p>Para indicar que un tipo de objeto es <strong>heredado</strong> de otro hay que usar la <strong>palabra reservada </strong><code>UNDER</code>, y además hay que tener en cuenta que el tipo de objeto del que <strong>hereda</strong> debe tener la <strong>propiedad </strong><code>NOT FINAL</code>. Por defecto, los tipos de objeto se declaran como <code>FINAL</code>, es decir, que no se puede crear un tipo de objeto que herede de él.</p>
<p>Si no se indica lo contrario, siempre se pueden crear objetos (instancias) de los tipos de objeto declarados. Indicando la opción <code>NOT INSTANTIABLE</code> puedes declarar tipos de objeto de los que <strong>no se pueden crear objetos</strong>. Estos tipos tendrán la función de ser padres de otros tipos de objeto.</p>
<p>En el siguiente ejemplo puedes ver cómo se crea el tipo de objeto <code>Persona</code>, que se utilizará heredado en el tipo de objeto <code>UsuarioPersona</code>. De esta manera, este último tendrá los atributos de <code>Persona</code> más los atributos declarados en <code>UsuarioPersona</code>. En la creación del objeto puedes observar que se deben asignar los valores para todos los atributos, incluyendo los heredados.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TYPE</span> Persona <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	apellidos VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">NOT</span> FINAL<span class="token punctuation">;</span>
<span class="token operator">/</span>
 
<span class="token keyword">CREATE</span> <span class="token keyword">TYPE</span> UsuarioPersona UNDER Persona <span class="token punctuation">(</span>
	login <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	f_ingreso DATE<span class="token punctuation">,</span>
	credito NUMBER
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
 
<span class="token keyword">DECLARE</span>
	u1 UsuarioPersona<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	u1 :<span class="token operator">=</span> NEW UsuarioPersona<span class="token punctuation">(</span><span class="token string">'nombre1'</span><span class="token punctuation">,</span> <span class="token string">'apellidos1'</span><span class="token punctuation">,</span> <span class="token string">'user1'</span><span class="token punctuation">,</span> <span class="token string">'01/01/2001'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>u1<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id29-14">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-29_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion29_60" class="block question iDevice_content">
<strong>Un tipo de objeto que se ha declarado como hijo de otro, ¿hereda los atributos y métodos del tipo de objeto padre? <br>
</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i29_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-29_63">Opción 1</a></label><input type="radio" name="option29_60" id="i29_63" class="exe-radio-option exe-radio-option-0-2-29_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-29_63"><div id="taans29_63" class="block iDevice_content">
Verdadero.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i29_246" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-29_246">Opción 2</a></label><input type="radio" name="option29_60" id="i29_246" class="exe-radio-option exe-radio-option-1-2-29_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-29_246"><div id="taans29_246" class="block iDevice_content">
Falso.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b29_60" class="feedback js-hidden">
<div id="taf29_63" class=" iDevice_content">
Correcto. Muy bien.

</div>
</section>
<section id="sa1b29_60" class="feedback js-hidden">
<div id="taf29_246" class=" iDevice_content">
Vuelve a intentarlo, porque la respuesta que has dado no es correcta.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-29_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b29_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-29_246">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b29_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-15">
<header class="nodeDecoration">
<h1 id="exenode_15_5MtodosMAPyORDER" class="nodeTitle">5.- Métodos MAP y ORDER.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id30-15">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta30_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-left license-custom" style="width: 180px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_04.jpg" alt="Fotografía de Juan." title="Juan." class="elemento_izquierda" width="180" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación. </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Juan</strong> se ha dado cuenta de que va a tener un problema cuando necesite realizar comparaciones y órdenes entre objetos del mismo tipo.</p>
<p>Cuando tenga una serie de objetos de tipo Usuario, y necesite realizar una operación de ordenación entre ellos, ¿cómo debe hacerlo? Podría indicar que se realizaran las consultas de forma ordenada en función de alguno de los atributos del tipo de objeto. Ha estudiado el funcionamiento de los métodos <code>MAP</code> y <code>ORDER</code>, y ha comprobado que son los que le van a ofrecer un mecanismo sencillo para ello.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id31-15">
<div class="iDevice emphasis0">
<div id="ta31_73" class="block iDevice_content">
<p>Las instancias de un tipo de objeto no tienen un orden predefinido. Si deseas establecer un orden en ellos, con el fin de <strong>hacer una ordenación o una comparación, debes crear un método </strong><code>MAP</code>.</p>
<p>Por ejemplo, si haces una comparación entre dos objetos Usuario, y deseas saber si uno es mayor que otro, ¿en base a qué criterio se hace esa comparación? ¿Por el orden alfabético de apellidos y nombre? ¿Por la fecha de alta? ¿Por el crédito? Hay que establecer con un método <code>MAP</code> cuál va a ser el valor que se va a utilizar en las comparaciones.</p>
<p>Para crear un método <code>MAP</code> debes declarar un método que <strong>retorne el valor que se va a utilizar para hacer las comparaciones</strong>. El método que declares para ello debe empezar su declaración con la palabra <code>MAP</code>:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> Usuario <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	login VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	apellidos VARCHAR2<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	f_ingreso DATE<span class="token punctuation">,</span>
	credito NUMBER<span class="token punctuation">,</span>
	MAP MEMBER <span class="token keyword">FUNCTION</span> ordenarUsuario <span class="token keyword">RETURN</span> VARCHAR2
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En el cuerpo del método se debe retornar el valor que se utilizará para realizar las comparaciones entre las instancias del tipo de objeto. Por ejemplo, si se quiere establecer que las comparaciones entre objetos del tipo Usuario se realice considerando el orden alfabético habitual de apellidos y nombre:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> BODY Usuario <span class="token keyword">AS</span>
	MAP MEMBER <span class="token keyword">FUNCTION</span> ordenarUsuario <span class="token keyword">RETURN</span> VARCHAR2 <span class="token operator">IS</span>
	<span class="token keyword">BEGIN</span>
		<span class="token keyword">RETURN</span> <span class="token punctuation">(</span>apellidos <span class="token operator">||</span> <span class="token string">' '</span> <span class="token operator">||</span> nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> ordenarUsuario<span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">El lenguaje PL/SQL utiliza los métodos </span><code>MAP</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> para evaluar expresiones lógicas que resultan valores booleanos como </span><code>objeto1 &gt; objeto2</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, y para realizar las comparaciones implícitas en las cláusulas </span><code>DISTINCT</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, </span><code>GROUP BY</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> y </span><code>ORDER BY</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Cada tipo de objeto <strong>sólo puede tener un método </strong><code>MAP</code><strong> declarado</strong>, y sólo puede retornar alguno de los siguientes tipos: <code>DATE</code>, <code>NUMBER</code>, <code>VARCHAR2</code>, <code>CHARACTER</code> o <code>REAL</code>.</span></p>
</div>
<p><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_CONT_R16_EjemploMAP.pdf" target="_blank" title="Accede a un PDF con  el código fuente completo de un ejemplo de declaración y uso de método MAP para realizar comparaciones sobre tipos de objeto Usuario (se abre en una ventana nueva). [pdf - 7,74 KB]" rel="noopener">Aquí </a><span class="exe-link-data file-size"> (pdf - 7,74 <abbr title="KiloBytes" lang="en">KB</abbr>)</span>puedes descargarte un PDF con el código completo de un ejemplo de declaración y uso de un método MAP para establecer el orden en las comparaciones entre dos instancias de objetos del tipo Usuario. Como puedes comprobar, las comparaciones se realizan un función del orden alfabético de los apellidos seguidos del nombre.</p>
<p></p>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id56-15">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta56_148" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b56" class="block iDevice_content">
<p>Partimos de un tipo<span>&nbsp;</span><code><span>direccion_t</span><span>&nbsp;</span></code>definido para guardar datos de una dirección:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"> <span class="token keyword">CREATE</span> <span class="token operator">or</span> replace <span class="token keyword">TYPE</span> direccion_t  <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	 calle VARCHAR2<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
	 ciudad VARCHAR2<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
	 prov CHAR<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
	 codpos VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p>Sea<code><span>&nbsp;</span><span>cliente_t</span><span>&nbsp;</span></code>&nbsp;un tipo definido para guardar información de un cliente, que contiene dos métodos, uno para calcular la edad de un cliente y otro sería el que contiene el MAP:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">create</span> <span class="token operator">or</span> replace <span class="token keyword">TYPE</span> cliente_t <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span> 
     clinum NUMBER<span class="token punctuation">,</span> 
     clinomb VARCHAR2<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
     direccion direccion_t<span class="token punctuation">,</span> 
     telefono VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
     fecha_nac DATE<span class="token punctuation">,</span> 
     MEMBER <span class="token keyword">FUNCTION</span> <span class="token number">edad</span> <span class="token keyword">RETURN</span> NUMBER<span class="token punctuation">,</span>
     MAP MEMBER <span class="token keyword">FUNCTION</span> ret_value <span class="token keyword">RETURN</span> NUMBER
  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p id="yui_3_17_2_1_1598090201395_137">Escribe el código correspondiente a los métodos edad y ret_value que ordenará por el campo clinum. Es decir cuando se comparen dos objetos del tipo<code>&nbsp;</code><span><code>cliente_t</code> se compararán por su atributo clinum.</span></p>
</section>
<form name="feedback-form-quesFeedback0b56" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b56text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b56" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b56" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">create</span> <span class="token operator">or</span> replace <span class="token keyword">TYPE</span> BODY cliente_t <span class="token keyword">AS</span> 
 MEMBER <span class="token keyword">FUNCTION</span> <span class="token number">edad</span> <span class="token keyword">RETURN</span> NUMBER <span class="token operator">IS</span> 
     <span class="token number">a</span> <span class="token keyword">integer</span><span class="token punctuation">;</span> 
     <span class="token number">d</span> DATE<span class="token punctuation">;</span> 
 <span class="token keyword">BEGIN</span> 
     <span class="token keyword">select</span> sysdate <span class="token keyword">into</span> <span class="token number">d</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
     <span class="token number">a</span>:<span class="token operator">=</span>months_between<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span>fecha_nac<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Obtiene el número de meses que hay entre las dos fechas</span>
     DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token number">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token number">a</span>:<span class="token operator">=</span>trunc<span class="token punctuation">(</span><span class="token number">a</span><span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">-- Trunca el resultado de la división quitando la parte decimal</span>
     <span class="token keyword">RETURN</span> <span class="token number">a</span><span class="token punctuation">;</span> 
 <span class="token keyword">END</span><span class="token punctuation">;</span>
MAP MEMBER <span class="token keyword">FUNCTION</span> ret_value <span class="token keyword">RETURN</span> NUMBER 
 <span class="token operator">IS</span> 
 <span class="token keyword">BEGIN</span> 
     <span class="token keyword">RETURN</span> clinum<span class="token punctuation">;</span> 
 <span class="token keyword">END</span><span class="token punctuation">;</span>
 <span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre dir="ltr" id="yui_3_17_2_1_1598090201395_135"><br><br></pre></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-16">
<header class="nodeDecoration">
<h1 id="exenode_16_51MtodosORDER" class="nodeTitle">5.1.- Métodos ORDER.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id32-16">
<div class="iDevice emphasis0">
<div id="ta32_73" class="block iDevice_content">
<p>De forma <strong>similar al método </strong><code>MAP</code>, puedes declarar en cualquier tipo de objeto un método <code>ORDER</code> que te permitirá <strong>establecer un orden</strong> entre los objetos instanciados de dicho tipo.</p>
<p>Cada tipo de objeto <strong>sólo puede contener un método </strong><code>ORDER</code>, el cual debe <strong>retornar un valor numérico que permita establecer el orden entre los objetos</strong>. Si deseas que un objeto sea menor que otro puedes retornar, por ejemplo, el valor -1. Si vas a determinar que sean iguales, devuelve 0, y si va a ser mayor, retorna 1. De esta manera, considerando el valor retornado por el método <code>ORDER</code>, se puede establecer si un objeto es menor, igual o mayor que otro en el momento de hacer una ordenación entre una serie de objetos del mismo tipo.</p>
<p>Para declarar qué método va a realizar esta operación, debes indicar la palabra <code>ORDER</code> delante de su declaración. Debes tener en cuenta que va a <strong>retornar un valor numérico (</strong><code>INTEGER</code><strong></strong><strong>)</strong>, y que necesita que se indique un <strong>parámetro que será del mismo tipo de objeto</strong>. El objeto que se indique en ese parámetro será el que se compare con el objeto que utilice este método.</p>
<p>En el siguiente ejemplo, el sistema que se va a establecer para ordenar a los usuarios se realiza en función de los dígitos que se encuentran a partir de la posición 7 del atributo <span lang="en">login</span>.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> BODY Usuario <span class="token keyword">AS</span>
	<span class="token keyword">ORDER</span> MEMBER <span class="token keyword">FUNCTION</span> ordenUsuario<span class="token punctuation">(</span>u Usuario<span class="token punctuation">)</span> <span class="token keyword">RETURN</span> <span class="token keyword">INTEGER</span> <span class="token operator">IS</span>
	<span class="token keyword">BEGIN</span>
		<span class="token comment" spellcheck="true">/* La función substr obtiene una subcadena desde la posición indicada hasta el final*/</span>
		<span class="token keyword">IF</span> substr<span class="token punctuation">(</span>SELF<span class="token punctuation">.</span>login<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> substr<span class="token punctuation">(</span>u<span class="token punctuation">.</span>login<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">THEN</span>
			<span class="token keyword">RETURN</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
		ELSIF substr<span class="token punctuation">(</span>SELF<span class="token punctuation">.</span>login<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> substr<span class="token punctuation">(</span>u<span class="token punctuation">.</span>login<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">THEN</span>
			<span class="token keyword">RETURN</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">ELSE</span>
			<span class="token keyword">RETURN</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Con ese ejemplo, el usuario con </span><span lang="en" style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">login</span><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> 'luitom64' se considera mayor que el usuario 'caragu62', ya que '64' es mayor que '62'.</span></p>
</div>
<p>El método debe retornar un número negativo, cero, o un número positivo que significará que el objeto que utiliza el método (<code>SELF</code>) es menor, igual, o mayor que el objeto pasado por parámetro.</p>
<p>Debes tener en cuenta que puedes declarar <strong>un método </strong><code>MAP</code><strong> o un método </strong><code>ORDER</code><strong>, pero no los dos</strong>.</p>
<p>Cuando se vaya a ordenar o mezclar un alto número de objetos, es preferible usar un método <code>MAP</code>, ya que en esos casos un método <code>ORDER</code> es menos eficiente.</p>
<p><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_CONT_R18_EjemploORDER.pdf" title="Accede a un PDF con el código fuente completo de un ejemplo de declaración y uso de método ORDER para realizar comparaciones sobre tipos de objeto Usuario.  [pdf - 7,55 KB]">Aquí</a><span class="exe-link-data file-size"> (pdf - 7,55 <abbr title="KiloBytes" lang="en">KB</abbr>)</span> puedes descargar&nbsp; el&nbsp; código completo de un ejemplo de declaración y uso de un método <code>ORDER</code> para establecer el orden entre objetos del tipo Usuario. Como puedes comprobar, las comparaciones se realizan un función de los dos últimos dígitos del atributo <span lang="en">login</span>.</p>
<div class="elemento_centrado">
<div class="credenciales elemento_centrado"></div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id33-16">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-33_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion33_60" class="block question iDevice_content">
<strong>¿Los métodos MAP sólo sirven para evaluar expresiones lógicas que resultan valores booleanos? <br>
</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i33_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-33_63">Opción 1</a></label><input type="radio" name="option33_60" id="i33_63" class="exe-radio-option exe-radio-option-0-2-33_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-33_63"><div id="taans33_63" class="block iDevice_content">
Verdadero.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i33_255" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-33_255">Opción 2</a></label><input type="radio" name="option33_60" id="i33_255" class="exe-radio-option exe-radio-option-1-2-33_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-33_255"><div id="taans33_255" class="block iDevice_content">
Falso.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b33_60" class="feedback js-hidden">
<div id="taf33_63" class=" iDevice_content">
No, no sólo para eso.

</div>
</section>
<section id="sa1b33_60" class="feedback js-hidden">
<div id="taf33_255" class=" iDevice_content">
<p>
Correcto, porque también se pueden utilizar en consultas con las opciones <code>DISTINCT</code>, <code>GROUP BY</code> y <code>ORDER BY</code>.
</p>

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-33_63">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b33_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-33_255">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b33_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id57-16">
<div class="iDevice emphasis_ejercicioresueltofpd">
<header class="iDevice_header" style="background-image:url(icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section id="ta57_148" class="block story iDevice_content">

</section>
<section id="taquesQuestion0b57" class="block iDevice_content">
<p>Siguiendo el ejemplo del apartado anterior,&nbsp; <code>tipo<span>&nbsp;</span><span>cliente_t</span></code><span>&nbsp;</span>quedaría:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">or</span> replace <span class="token keyword">TYPE</span> cliente_t <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span> 
    clinum NUMBER<span class="token punctuation">,</span> 
    clinomb VARCHAR2<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    direccion direccion_t<span class="token punctuation">,</span> 
    telefono VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    fecha_nac DATE<span class="token punctuation">,</span> 
    <span class="token keyword">ORDER</span> MEMBER <span class="token keyword">FUNCTION</span> cli_ordenados <span class="token punctuation">(</span>x cliente_t<span class="token punctuation">)</span> <span class="token keyword">RETURN</span> <span class="token keyword">INTEGER</span><span class="token punctuation">,</span>
    MEMBER <span class="token keyword">FUNCTION</span> <span class="token number">edad</span> <span class="token keyword">RETURN</span> NUMBER<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span>Implementa el método cli_ordenados.</span></p>
</section>
<form name="feedback-form-quesFeedback0b57" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b57text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b57" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<section id="feedback-quesFeedback0b57" class="feedback js-feedback js-hidden" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<p>Una posible forma sería:</p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">ORDER</span> MEMBER <span class="token keyword">FUNCTION</span> cli_ordenados <span class="token punctuation">(</span>x <span class="token operator">IN</span> cliente_t<span class="token punctuation">)</span> 
<span class="token keyword">RETURN</span> <span class="token keyword">INTEGER</span> <span class="token operator">IS</span> 
<span class="token keyword">BEGIN</span> 
      <span class="token keyword">RETURN</span> clinum <span class="token operator">-</span> x<span class="token punctuation">.</span>clinum<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/*la resta de los dos números clinum*/</span> 
<span class="token keyword">END</span><span class="token punctuation">;</span> 
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre id="yui_3_17_2_1_1598091871314_135"></pre></section>
</form>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-17">
<header class="nodeDecoration">
<h1 id="exenode_17_6Tiposdedatoscoleccin" class="nodeTitle">6.- Tipos de datos colección.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id34-17">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta34_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 172px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_03.jpg" alt="Fotografía de Ana." title="Ana." class="elemento_derecha" width="172" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación.</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p><strong>Ana</strong> ha estudiado los vectores y matrices que se usan en varios lenguajes de programación. Le pregunta a <strong>Juan</strong> si con las bases de datos objeto-relacionales se puede utilizar algo parecido para almacenar los objetos instanciados. Él le dice que para eso existen las colecciones.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id35-17">
<div class="iDevice emphasis0">
<div id="ta35_73" class="block iDevice_content">
<p>
Para que puedas almacenar en memoria un conjunto de datos de un
determinado tipo, la base de datos de Oracle te ofrece los tipos de
datos <strong>colección</strong>.
</p>
<p>
Una <strong>colección</strong> es un conjunto de elementos del mismo tipo.
Puede comparase con los <strong>vectores y matrices</strong> que se utilizan en
muchos lenguajes de programación. En este caso, las colecciones sólo
pueden tener <strong>una dimensión</strong> y los elementos se indexan
mediante un valor de tipo numérico o cadena de caracteres.
</p>
<p>
La base de datos de Oracle proporciona los tipos <code>VARRAY</code>
y <code>NESTED TABLE</code> (tabla anidada) como
tipos de datos colección.
</p>
<ul class="lista_verificacion">
	<li>Un <code>VARRAY</code> es una
	colección de elementos a la
	que se le establece una dimensión máxima que debe indicarse al
	declararla. Al tener una longitud fija, la eliminación de elementos
	no ahorra espacio en la memoria del ordenador. 
	</li>
	<li>Una <code>NESTED TABLE</code> (<strong>tabla
	anidada</strong>) puede almacenar cualquier número de elementos. Tienen,
	por tanto, un tamaño dinámico, y no tienen que existir
	forzosamente valores para todas las posiciones de la colección.</li>
	<li>Una variación de las tablas anidadas son los <strong>arrays
	asociativos</strong>, que utilizan valores arbitrarios para sus índices.
	En este caso, los índices no tienen que ser necesariamente
	consecutivos.</li>
</ul>
<p>
Cuando necesites almacenar un número fijo de elementos, o hacer
un recorrido entre los elementos de forma ordenada, o si necesitas
obtener y manipular toda la colección como un valor, deberías
utilizar el tipo <code>VARRAY</code>.
</p>
<p>
En cambio, si necesitas ejecutar consultas sobre una colección de
manera eficiente, o manipular un número arbitrario de elementos, o
bien realizar operaciones de inserción, actualización o borrado de
forma masiva, deberías usar una <code>NESTED TABLE</code>.
</p>
<p>
Las colecciones pueden ser
declaradas como una instrucción <acronym lang="en" title="Structured Query Language.">SQL</acronym>
o en el bloque de declaraciones de un programa PL/SQL. El tipo de
dato de los elementos que puede contener una colección declarada en
PL/SQL es cualquier tipo de dato PL/SQL, excepto <code>REF CURSOR</code>. Los
elementos de las colecciones declaradas en SQL, además <strong>no
pueden ser de los tipos</strong>: <code>BINARY_INTEGER</code>, <code>PLS_INTEGER</code>, <code>BOOLEAN</code>, <code>LONG</code>, <code>LONG RAW</code>, <code>NATURAL</code>, <code>NATURALN</code>, <code>POSITIVE</code>, <code>POSITIVEN</code>, <code>REF CURSOR</code>, <code>SIGNTYPE</code>, <code>STRING</code>.
</p>
<p>
Cualquier tipo de objetos declarado previamente puede ser
utilizado como tipo de elemento para una colección.
</p>
<p>
Una tabla de la base de datos puede contener <strong>columnas que sean
colecciones</strong>. Sobre una tabla que contiene colecciones se podrán
realizar operaciones de consulta y manipulación de datos de la misma
manera que se realiza con tablas con los tipos de datos habituales.
</p>

</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id36-17">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta36_47" class="block iDevice_content">
<p></p>
<p>En esta web puedes acceder a un documento con más información sobre los tipos de datos colección entre otros tipos de objeto en PLSQL</p>
<p style="text-align: center;"><a href="http://www.kybele.etsii.urjc.es/docencia/BD/2011-2012/Material/%5BBD-2010-2011%5DPLSQL.ObjectTypes.pdf" target="_blank" title="Accede a una web con Información sobre los TIpos de Objeto en PLSQL,  con ejemplos, de la Universidad Rey Juan Carlos(se abre en una ventana nueva)" rel="noopener">Tipos de Objetos en PLSQL (Universidad Rey Juan Carlos)</a></p>
<div class="enlace_centrado"></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id37-17">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-37_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion37_60" class="block question iDevice_content">
<strong>¿Qué tipo de colección tiene un tamaño fijo?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i37_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_63">Opción 1</a></label><input type="radio" name="option37_60" id="i37_63" class="exe-radio-option exe-radio-option-0-3-37_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-37_63"><div id="taans37_63" class="block iDevice_content">
<p>
<code>VARRAY</code>.
</p>

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i37_259" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_259">Opción 2</a></label><input type="radio" name="option37_60" id="i37_259" class="exe-radio-option exe-radio-option-1-3-37_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-37_259"><div id="taans37_259" class="block iDevice_content">
<p>
<code>NESTED TABLE</code>.
</p>

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i37_262" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_262">Opción 3</a></label><input type="radio" name="option37_60" id="i37_262" class="exe-radio-option exe-radio-option-2-3-37_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-37_262"><div id="taans37_262" class="block iDevice_content">
Array Asociativo.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b37_60" class="feedback js-hidden">
<div id="taf37_63" class=" iDevice_content">
Correcto. Muy bien.

</div>
</section>
<section id="sa1b37_60" class="feedback js-hidden">
<div id="taf37_259" class=" iDevice_content">
No, este tipo de colección puede almacenar cualquier número de elementos.

</div>
</section>
<section id="sa2b37_60" class="feedback js-hidden">
<div id="taf37_262" class=" iDevice_content">
Incorrecto, este tipo de colección puede almacenar cualquier número de elementos.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b37_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_259">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b37_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-37_262">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa2b37_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-18">
<header class="nodeDecoration">
<h1 id="exenode_18_61Declaracinyusodecolecciones" class="nodeTitle">6.1.- Declaración y uso de colecciones.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id38-18">
<div class="iDevice emphasis0">
<div id="ta38_73" class="block iDevice_content">
<p>La <strong>declaración</strong> de estos tipos de colecciones sigue el formato siguiente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">TYPE</span> nombre_tipo <span class="token operator">IS</span> VARRAY <span class="token punctuation">(</span>tamaño_max<span class="token punctuation">)</span> <span class="token keyword">OF</span> tipo_elemento<span class="token punctuation">;</span>
<span class="token keyword">TYPE</span> nombre_tipo <span class="token operator">IS</span> <span class="token keyword">TABLE</span> <span class="token keyword">OF</span> tipo_elemento<span class="token punctuation">;</span>
<span class="token keyword">TYPE</span> nombre_tipo <span class="token operator">IS</span> <span class="token keyword">TABLE</span> <span class="token keyword">OF</span> tipo_elemento <span class="token keyword">INDEX</span> <span class="token keyword">BY</span> tipo_índice<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Donde <code>nombre_tipo</code> representa el nombre de la colección, <code>tamaño_max</code> es el número máximo de elementos que podrá contener la colección, y <code>tipo_elemento</code> es el tipo de dato de los elementos que forman la colección. El tipo de elemento utilizado puede ser también cualquier tipo de objetos declarado previamente.</span></p>
</div>
<p align="left">En caso de que la declaración se haga en SQL, fuera de un subprograma PL/SQL, se debe declarar con el formato</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token operator">OR</span> REPLACE<span class="token punctuation">]</span> <span class="token keyword">TYPE</span><span class="token punctuation">.</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TYPE</span> nombre_tipo <span class="token operator">IS</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"><code>tipo_índice</code> representa el tipo de dato que se va a utilizar para el índice. Puede ser </span><code>PLS_INTEGER</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, </span><code>BINARY_INTEGER</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> o </span><code>VARCHAR2</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. En este último tipo se debe indicar entre paréntesis el tamaño que se va a utilizar para el índice, por ejemplo, </span><code>VARCHAR2(5)</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Hasta que no sea inicializada una colección, ésta es <code>NULL</code>. Para <strong>inicializar</strong> una colección debes utilizar el constructor, que es una función con el mismo nombre que la colección. A esta función se le pasa como parámetros los valores iniciales de la colección. Por ejemplo:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
	<span class="token keyword">TYPE</span> Colores <span class="token operator">IS</span> <span class="token keyword">TABLE</span> <span class="token keyword">OF</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	misColores Colores<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	misColores :<span class="token operator">=</span> Colores<span class="token punctuation">(</span><span class="token string">'Rojo'</span><span class="token punctuation">,</span> <span class="token string">'Naranja'</span><span class="token punctuation">,</span> <span class="token string">'Amarillo'</span><span class="token punctuation">,</span> <span class="token string">'Verde'</span><span class="token punctuation">,</span> <span class="token string">'Azul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">La inicialización se puede realizar en el bloque de código del programa, o bien, directamente en el bloque de declaraciones como puedes ver en este ejemplo:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
	<span class="token keyword">TYPE</span> Colores <span class="token operator">IS</span> <span class="token keyword">TABLE</span> <span class="token keyword">OF</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	misColores Colores :<span class="token operator">=</span> Colores<span class="token punctuation">(</span><span class="token string">'Rojo'</span><span class="token punctuation">,</span> <span class="token string">'Naranja'</span><span class="token punctuation">,</span> <span class="token string">'Amarillo'</span><span class="token punctuation">,</span> <span class="token string">'Verde'</span><span class="token punctuation">,</span> <span class="token string">'Azul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Para <strong>obtener uno de los elementos</strong> de la colección o modificar su contenido debes indicar el nombre de la colección seguido, entre paréntesis, del índice que ocupa el elemento deseado. Tanto en los <code>VARRAY</code> como en <code>NESTED TABLE</code>, el primer elemento tiene el índice 1.</p>
<p>Por ejemplo, para mostrar en pantalla el segundo elemento ('Naranja') de la colección Colores:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>misColores<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>En el siguiente ejemplo se modifica el contenido de la posición 3:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">misColores<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> :<span class="token operator">=</span> <span class="token string">'Gris'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">En el siguiente ejemplo puedes comprobar cómo pueden utilizarse las colecciones para almacenar sus datos en una tabla de la base de datos, así como la utilización con sentencias de consulta y manipulación de los datos de la colección que se encuentra en la tabla.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TYPE</span> ListaColores <span class="token keyword">AS</span> <span class="token keyword">TABLE</span> <span class="token keyword">OF</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> flores <span class="token punctuation">(</span>nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> coloresFlor ListaColores<span class="token punctuation">)</span>
	NESTED <span class="token keyword">TABLE</span> coloresFlor STORE <span class="token keyword">AS</span> colores_tab<span class="token punctuation">;</span>
 
<span class="token keyword">DECLARE</span>
	colores ListaColores<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> flores <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'Rosa'</span><span class="token punctuation">,</span> ListaColores<span class="token punctuation">(</span><span class="token string">'Rojo'</span><span class="token punctuation">,</span><span class="token string">'Amarillo'</span><span class="token punctuation">,</span><span class="token string">'Blanco'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	colores :<span class="token operator">=</span> ListaColores<span class="token punctuation">(</span><span class="token string">'Rojo'</span><span class="token punctuation">,</span><span class="token string">'Amarillo'</span><span class="token punctuation">,</span><span class="token string">'Blanco'</span><span class="token punctuation">,</span><span class="token string">'Rosa Claro'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">UPDATE</span> flores <span class="token keyword">SET</span> coloresFlor <span class="token operator">=</span> colores <span class="token keyword">WHERE</span> nombre <span class="token operator">=</span> <span class="token string">'Rosa'</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> coloresFlor <span class="token keyword">INTO</span> colores <span class="token keyword">FROM</span> flores <span class="token keyword">WHERE</span> nombre <span class="token operator">=</span> <span class="token string">'Rosa'</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span></code></pre>
</div>
</div>
<div class="box generalbox book_content">
<div class="no-overflow">
<p>Al definir una tabla que contiene un atributo que es de tipo tabla, es necesario darle un nombre de almacenamiento a&nbsp; <code>NESTED TABLE</code> mediante la clausula <code>STORE AS</code> que es un nombre interno y no se puede utilizar para acceder directamente a la tabla anidada.</p>
<div class="editor-indent"></div>
<div class="editor-indent"></div>
<div class="editor-indent"></div>
<p></p>
<div class="editor-indent">
<div></div>
</div>
<p></p>
<p></p>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
</article>
<article class="node level-2-node" id="exe-node-19">
<header class="nodeDecoration">
<h1 id="exenode_19_7Tablasdeobjetos" class="nodeTitle">7.- Tablas de objetos.</h1>
</header>
<article class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id39-19">
<div class="iDevice emphasis_casopracticofpd">
<header class="iDevice_header" style="background-image:url(icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta39_66" class="block iDevice_content">
<figure class="exe-figure exe-image float-left license-custom" style="width: 172px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/CASO_PERSONAJES_03.jpg" alt="Fotografía de Ana." title="Ana." class="elemento_izquierda" width="172" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Aunque <strong>Ana</strong> ya ha aprendido a almacenar objetos en memoria gracias a las colecciones de objetos, necesita almacenarlos de manera persistente en una base de datos. <strong>Juan</strong> va a enseñarle que puede realizarlo de manera muy parecida a la gestión de tablas que ya conoce, en la que se usan los tipos de datos habituales de las bases de datos.</p>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id40-19">
<div class="iDevice emphasis0">
<div id="ta40_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 176px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R20_TABLA_OBJETOS.png" alt="Tabla con iconos de personas en cada fila e icono de disco duro con flecha dirigido a él." title="Icono tabla de objetos." class="elemento_derecha" width="176" height="160" style="width: 176px; height: 160px;">
<figcaption class="figcaption"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/Ministerio%20de%20Educaci%C3%B3n" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br><br></p>
<p>Después de haber visto que un grupo de objetos se puede almacenar en memoria mediante colecciones, vas a ver en este apartado que también se pueden <strong>almacenar los objetos en tablas</strong> de igual manera que los tipos de datos habituales de las bases de datos.</p>
<p>Los tipos de datos objetos se pueden usar para formar una tabla exclusivamente formado por elementos de ese tipo, o bien, para usarse como un tipo de columna más entre otras columnas de otros tipos de datos.</p>
<p>En caso de que desees crear una <strong>tabla formada exclusivamente por un determinado tipo de dato objeto</strong>, (tabla de objetos) debes utilizar la sentencia <code>CREATE TABLE</code> junto con el tipo de objeto de la siguiente manera:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> NombreTabla <span class="token keyword">OF</span> TipoObjeto<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Siendo<code> NombreTabla</code> el nombre que deseas dar a la tabla que va a almacenar los objetos del tipo <code>TipoObjeto</code>. Por ejemplo, para crear la tabla <code>UsuariosObj</code>, que almacene objetos del tipo <code>Usuario</code>:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> UsuariosObj <span class="token keyword">OF</span> Usuario<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Debes tener en cuenta que si una tabla hace uso de un tipo de objeto, </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">no podrás eliminar ni modificar la estructura de dicho tipo de objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Por tanto, desde el momento en que el tipo de objeto sea utilizado en una tabla, no podrás volver a definirlo.</span></p>
</div>
<p>Para poder crear este ejemplo previamente debes tener declarado el tipo de objeto <code>Usuario</code>, que se ha utilizado en apartados anteriores.</p>
<p>Al crear una tabla de esta manera, estamos consiguiendo que podamos almacenar objetos del tipo Usuario en una tabla de la base de datos, quedando así sus datos <strong>persistentes</strong> mientras no sean eliminados de la tabla. Anteriormente hemos instanciado objetos que se han guardado en variables, por lo que al terminar la ejecución, los objetos, y la información que contienen, desaparecen. Si esos objetos se almacenan en tablas no desaparecen hasta que se eliminen de la tabla en la que se encuentren.</p>
<p>Cuando se instancia un objeto con el fin de almacenarlo en una tabla, dicho objeto no tiene identidad fuera de la tabla de la base de datos. Sin embargo, el tipo de objeto existe independientemente de cualquier tabla, y puede ser usado para crear objetos en cualquier modo.</p>
<p>Las tablas que sólo contienen filas con objetos, reciben el nombre de <strong>tablas de objetos</strong>.</p>
<p>En la siguiente imagen se muestra el contenido de la tabla que incluye dos filas de objetos de tipo Usuario. Observa que los atributos del tipo de objeto se muestran como si fueran las columnas de la tabla:</p>
<div class="elemento_centrado">
<div class="elemento_centrado">
<figure class="exe-figure exe-image position-center license-copyright" style="width: 202px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R21_TablasObjetos.png" title="Ampliar imagen." rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R21_TablasObjetos.png" alt="Captura de pantalla de la línea de comandos con el resultado de una sentencia select sobre una tabla de objetos." title="Pantalla de tabla de objetos. Pulsar para ampliar." class="imagen_ampliable" width="202" height="34" style="vertical-align: middle;"></a>
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Acceder a la web de Oracle (se abre en una ventana nueva)" rel="noopener">Oracle</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id41-19">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta41_47" class="block iDevice_content">
<p>
En este documento puedes encontrar información general sobre las bases de datos objeto-relacionales, con algunos ejemplos de creación de tablas de objetos:
</p>
<div class="enlace_centrado">
 <a class="pdf" href="http://www3.uji.es/~mmarques/e16/teoria/cap2.pdf" title="Descargar un documento PDF con información general sobre bases de datos objeto-relacionales, incluyendo varios ejemplos de creación de tablas de objetos. [pdf - 0.19 MB]" target="_self">Bases de datos orientadas a objetos.</a> <span class="tamano"> (0.19 MB) </span> 
</div>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-20">
<header class="nodeDecoration">
<h1 id="exenode_20_71Tablasconcolumnastipoobjeto" class="nodeTitle">7.1.- Tablas con columnas tipo objeto.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id42-20">
<div class="iDevice emphasis0">
<div id="ta42_73" class="block iDevice_content">
<p>Puedes usar cualquier tipo de objeto, que hayas declarado previamente, para utilizarlo como un <strong>tipo de dato de una columna más en una tabla</strong> de la base de datos. Así, una vez creada la tabla, puedes utilizar cualquiera de las sentencias SQL para insertar un objeto, seleccionar sus atributos y actualizar sus datos.</p>
<p>Para crear una tabla en el que alguno de sus columnas sea un tipo de objeto, simplemente debes hacerlo como si fuera una columna como las que has utilizado hasta ahora, pero en el tipo de dato debes especificar el tipo de objeto.</p>
<p>Por ejemplo, podemos crear una tabla que contenga, entre otras columnas, una columna de objetos del tipo <code>Usuario</code> que hemos utilizado anteriormente.</p>
<div>
<div>
<pre></pre>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Gente <span class="token punctuation">(</span>
	dni VARCHAR2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	unUsuario Usuario<span class="token punctuation">,</span>
	partidasJugadas <span class="token keyword">SMALLINT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
</div>
<p>Como puedes comprobar en la siguiente imagen, los datos del campo <code>unUsuario</code> se muestran como integrantes de cada objeto <code>Usuario</code>, a diferencia de la tabla de objetos que has visto en el apartado anterior. Ahora todos los atributos del tipo de objeto<code> Usuario</code> no se muestran como si fueran varias columnas de la tabla, sino que forman parte de una única columna.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/BD07_CONT_R23_TablasColObj.png" title="Ampliar imagen."><img alt="Captura de pantalla de la línea de comandos con el resultado de una sentencia select sobre una tabla con columnas de objetos." class="imagen_ampliable" height="76" src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R23_TablasColObj_miniatura.png" title="Pantalla de tabla con columna de objetos." width="196"></a></div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id43-20">
<div class="iDevice emphasis_autoevaluacionfpd">
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-43_60" action="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion43_60" class="block question iDevice_content">
<strong>En las tablas con columnas de tipo objeto, ¿los atributos se muestran como columnas de la tabla?</strong>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i43_63" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-43_63">Opción 1</a></label><input type="radio" name="option43_60" id="i43_63" class="exe-radio-option exe-radio-option-0-2-43_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-43_63"><div id="taans43_63" class="block iDevice_content">
Falso.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i43_84" class="sr-av"><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-43_84">Opción 2</a></label><input type="radio" name="option43_60" id="i43_84" class="exe-radio-option exe-radio-option-1-2-43_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-43_84"><div id="taans43_84" class="block iDevice_content">
Verdadero.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback" role="status">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b43_60" class="feedback js-hidden">
<div id="taf43_63" class=" iDevice_content">
Correcto. En las tablas con columnas de tipo objeto, se muestran los atributos como parte del objeto.&nbsp; 

</div>
</section>
<section id="sa1b43_60" class="feedback js-hidden">
<div id="taf43_84" class=" iDevice_content">
Vuelve a intentarlo, porque eso sería correcto para las tablas de objetos, no para las tablas con columnas de tipo objeto.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-43_63">Opción correcta</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa0b43_60">Retroalimentación</a>)</span></li>
<li><a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#answer-43_84">Incorrecto</a><span> (<a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#sa1b43_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-21">
<header class="nodeDecoration">
<h1 id="exenode_21_72UsodelasentenciaSelect" class="nodeTitle">7.2.- Uso de la sentencia Select.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id44-21">
<div class="iDevice emphasis0">
<div id="ta44_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<figure class="exe-figure exe-image float-right license-copyright" style="width: 201px;"><a href="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R24_Select.png" title="Ampliar imagen." rel="lightbox"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R24_Select.png" alt="Captura de pantalla de la línea de comandos con el resultado de dos sentencias select sobre una tabla de objetos y otra tabla con columnas de objetos." title="Pantalla de consuta de tablas. Pulsar para ampliar" class="imagen_ampliable" width="201" height="113"></a>
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Accede a la web oficial de Oracle (se abre en una ventana nueva)" rel="noopener">Oracle</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span></span></figcaption>
</figure>
</div>
</div>
<p>De manera similar a las consultas que has realizado sobre tablas sin tipos de objetos, <strong>puedes utilizar la sentencia </strong><code>SELECT</code> para obtener datos de las filas almacenadas en tablas de objetos o tablas con columnas de tipos de objetos.</p>
<p>El uso más sencillo sería para mostrar todas las filas contenidas en la tabla:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> NombreTabla<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Como puedes apreciar en la imagen, la tabla que forme parte de la consulta puede ser una tabla de objetos (como la tabla <code>UsuariosObj</code>), o una tabla que contiene columnas de tipos de objetos (como la tabla<code> Gente</code>).</span></p>
</div>
<p>En las sentencias <code>SELECT</code> que utilices con objetos, puedes incluir cualquiera de las <strong>cláusula</strong><strong>s y funciones de agrupamiento</strong> que has aprendido para la sentencia <code>SELECT</code> que has usado anteriormente con las tablas que contienen columnas de tipos básicos. Por ejemplo, puedes utilizar: <code>SUM</code>, <code>MAX</code>, <code>WHERE</code>, <code>ORDER</code>, <code>JOIN</code>, etc.</p>
<p>Es habitual utilizar <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#t0256b4c8-4a52-95ac-8944-854c2b037213" id="link0256b4c8-4a52-95ac-8944-854c2b037213" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="5" oldtitle="alias  | " title=""><strong>alias</strong> </a>para hacer referencia al nombre de la tabla. Observa, por ejemplo, la siguiente consulta, en la que se desea obtener el nombre y los apellidos de los usuarios que tienen algo de crédito:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> u<span class="token punctuation">.</span>nombre<span class="token punctuation">,</span> u<span class="token punctuation">.</span>apellidos <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>credito <span class="token operator">&gt;</span> <span class="token number">0</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si se trata de una </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">tabla con columnas de tipo objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, el acceso a los atributos del objeto se debe realizar indicando previamente el nombre asignado a la columna que contiene los objetos:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>nombre<span class="token punctuation">,</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>apellidos <span class="token keyword">FROM</span> Gente g<span class="token punctuation">;</span>
 </code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
<div id="t0256b4c8-4a52-95ac-8944-854c2b037213" class="exe-tooltip-text">
<p>Nombre alternativo por el que se conoce a una tabla o resultado de una consulta.</p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id45-21">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta45_47" class="block iDevice_content">
<p>
En este documento puedes encontrar información general sobre las bases de datos objeto-relacionales, con algunos ejemplos de uso de la sentencia <code>SELECT</code> con tablas de objetos:
</p>
<div class="enlace_centrado">
 <a class="pdf" href="http://www.kybele.etsii.urjc.es/docencia/BD/2011-2012/Material/%5BBD-2010-2011%5DPLSQL.ObjectTypes.pdf" title="Descargar un documento PDF en forma de diapositivas, con información general sobre bases de datos objeto-relacionales, incluyendo ejemplos de uso de la sentencia SELECT con tablas de objetos. [pdf - 1.28 MB]" target="_self">Tipos de Objeto en PL/SQL.</a> <span class="tamano"> (1.28 MB) </span> 
</div>

</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-22">
<header class="nodeDecoration">
<h1 id="exenode_22_73Insercindeobjetos" class="nodeTitle">7.3.- Inserción de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id46-22">
<div class="iDevice emphasis0">
<div id="ta46_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 196px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R25_IconoINSERT.png" alt="Tabla con iconos de personas en cada fila y con columnas vacías. Otro icono de persona aparece fuera de la tabla junto con el operador más. También incluye icono de disco duro con flecha dirigido a él." title="Icono insert." class="elemento_derecha" width="196" height="132">
<figcaption class="figcaption"><a href="https://www.oracle.com/es/index.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación. </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Evidentemente, no te servirá de nada una tabla que pueda contener objetos si no conocemos la manera de insertar objetos en la tabla.</p>
<p>La manera que tienes para ello <strong>es la misma</strong> que has utilizado para introducir datos de cualquier tipo habitual en las tablas de la base de datos: usando la sentencia <code>INSERT</code> de SQL.</p>
<p>En las tablas habituales, cuando querías añadir una fila a una tabla que tenía un campo <code>VARCHAR</code> le suministrabas a la sentencia <code>INSERT</code> un dato de ese tipo. Pues si la tabla es de un determinado tipo de objetos, o si posee un campo de un determinado tipo de objeto, tendrás que suministrar a la sentencia <code>INSERT</code> un objeto instanciado de su tipo de objeto correspondiente.</p>
<p>Por tanto, si queremos insertar un <code>Usuario</code> en la tabla <code>Gente</code> que hemos creado en el apartado anterior, previamente debemos crear el objeto o los objetos que se deseen insertar. A continuación podremos utilizarlos dentro de la sentencia <code>INSERT</code> como si fueran valores simplemente.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
	u1 Usuario<span class="token punctuation">;</span>
	u2 Usuario<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	u1 :<span class="token operator">=</span> NEW Usuario<span class="token punctuation">(</span><span class="token string">'luitom64'</span><span class="token punctuation">,</span> <span class="token string">'LUIS'</span><span class="token punctuation">,</span> <span class="token string">'TOMAS BRUNA'</span><span class="token punctuation">,</span> <span class="token string">'24/10/2007'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	u2 :<span class="token operator">=</span> NEW Usuario<span class="token punctuation">(</span><span class="token string">'caragu72'</span><span class="token punctuation">,</span> <span class="token string">'CARLOS'</span><span class="token punctuation">,</span> <span class="token string">'AGUDO SEGURA'</span><span class="token punctuation">,</span> <span class="token string">'06/07/2007'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> UsuariosObj <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>u1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> UsuariosObj <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>u2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">De una manera más directa, puedes crear el objeto dentro de la sentencia </span><code>INSERT</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> directamente, sin necesidad de guardar el objeto previamente en una variable:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> UsuariosObj <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>Usuario<span class="token punctuation">(</span><span class="token string">'luitom64'</span><span class="token punctuation">,</span> <span class="token string">'LUIS'</span><span class="token punctuation">,</span> <span class="token string">'TOMAS BRUNA'</span><span class="token punctuation">,</span> <span class="token string">'24/10/2007'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Podrás comprobar los resultados haciendo una consulta </span><code>SELECT</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> sobre la tabla de la manera habitual:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> UsuariosObj<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">De manera similar puedes realizar la </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">inserción de filas en tablas con columnas de tipo objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Por ejemplo, para la tabla <code>Gente</code> que posee entre sus columnas, una de tipo objeto <code>Usuario</code>, podríamos usar el formato de instanciar el objeto directamente en la sentencia </span><code>INSERT</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, o bien, indicar una variable que almacena un objeto que se ha instanciado anteriormente:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Gente <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'22900970P'</span><span class="token punctuation">,</span> Usuario<span class="token punctuation">(</span><span class="token string">'luitom64'</span><span class="token punctuation">,</span> <span class="token string">'LUIS'</span><span class="token punctuation">,</span> <span class="token string">'TOMAS BRUNA'</span><span class="token punctuation">,</span> <span class="token string">'24/10/2007'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Gente <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'62603088D'</span><span class="token punctuation">,</span> u2<span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-23">
<header class="nodeDecoration">
<h1 id="exenode_23_74Modificacindeobjetos" class="nodeTitle">7.4.- Modificación de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id47-23">
<div class="iDevice emphasis0">
<div id="ta47_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-copyright" style="width: 196px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R26_IconoUPDATE.png" alt="Tabla con iconos de personas en cada fila y con columnas vacías. El icono de un lápiz está situado sobre uno de ellos. También incluye icono de disco duro con flecha dirigido a él." title="Icono update." class="elemento_derecha" width="196" height="152" style="width: 196px; height: 152px;">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Si deseas modificar un objeto almacenado en una tabla tan sólo tienes que utilizar las <strong>mismas sentencias SQL</strong> que disponías para modificar registros de una tabla. ¿Recuerdas la sentencia <code>UPDATE</code>? Ahora puedes volver a utilizarla para modificar también los objetos de la tabla, de igual manera que cualquier otro tipo de dato.</p>
<p>Hay una pequeña diferencia en la forma de especificar los nombre de los campos afectados, en función del tipo de tabla: según sea una tabla de objetos, o bien una tabla con alguna columna de tipo objeto.</p>
<p>Si se trata de una tabla de objetos, se hará referencia a los atributos de los objetos justo detrás del nombre asignado a la tabla. Sería algo similar al formato siguiente:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> NombreTabla
	<span class="token keyword">SET</span> NombreTabla<span class="token punctuation">.</span>atributoModificado <span class="token operator">=</span> nuevoValor
	<span class="token keyword">WHERE</span> NombreTabla<span class="token punctuation">.</span>atributoBusqueda <span class="token operator">=</span> valorBusqueda<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Continuando con el ejemplo empleado anteriormente, vamos a suponer que deseas modificar los datos de un determinado usuario. Por ejemplo, modifiquemos el crédito del usuario identificado por el </span><span lang="en" style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">login</span><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> 'luitom64', asignándole el valor 0.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> UsuariosObj
	<span class="token keyword">SET</span> UsuariosObj<span class="token punctuation">.</span>credito <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">WHERE</span> UsuariosObj<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Es muy habitual abreviar el nombre de la tabla con un </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">alias</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> UsuariosObj u
	<span class="token keyword">SET</span> u<span class="token punctuation">.</span>credito <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Pero no sólo puedes cambiar el valor de un determinado atributo del objeto. Puedes </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">cambiar un objeto por otro</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> como puedes ver en el siguiente ejemplo, en el que se sustituye el usuario con </span><span lang="en" style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">login</span><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> 'caragu72' por otro usuario nuevo.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> UsuariosObj u <span class="token keyword">SET</span> u <span class="token operator">=</span> Usuario<span class="token punctuation">(</span><span class="token string">'juaesc82'</span><span class="token punctuation">,</span> <span class="token string">'JUAN'</span><span class="token punctuation">,</span> <span class="token string">'ESCUDERO LARRASA'</span><span class="token punctuation">,</span> <span class="token string">'10/04/2011'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'caragu72'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si se trata de una tabla con columnas de tipo objeto, se debe hacer referencia al nombre de la columna que contiene los objetos:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> NombreTabla
	<span class="token keyword">SET</span> NombreTabla<span class="token punctuation">.</span>colObjeto<span class="token punctuation">.</span>atributoModificado <span class="token operator">=</span> nuevoValor
	<span class="token keyword">WHERE</span> NombreTabla<span class="token punctuation">.</span>colObjeto<span class="token punctuation">.</span>atributoBusqueda <span class="token operator">=</span> valorBusqueda<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">A continuación puedes ver un ejemplo de actualización de datos de la tabla que se había creado con una columna del tipo de objeto<code> Usuario.</code> Recuerda que a la columna en la que se almacenaban los objetos de tipo <code>Usuario</code> se le había asignado el nombre <code>unUsuario</code>:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> Gente g
	<span class="token keyword">SET</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>credito <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">WHERE</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">O bien, puedes cambiar todo un objeto por otro, manteniendo el resto de los datos de la fila sin modificar, como en el siguiente ejemplo, donde los datos de </span><acronym title="Documento Nacional de Identidad." style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">DNI</acronym><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> y partidasJugadas no se cambia, sólo se cambia un usuario por otro.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">UPDATE</span> Gente g
	ET g<span class="token punctuation">.</span>unUsuario <span class="token operator">=</span> Usuario<span class="token punctuation">(</span><span class="token string">'juaesc82'</span><span class="token punctuation">,</span> <span class="token string">'JUAN'</span><span class="token punctuation">,</span> <span class="token string">'ESCUDERO LARRASA'</span><span class="token punctuation">,</span> <span class="token string">'10/04/2011'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token keyword">WHERE</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'caragu72'</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre><br><br></pre>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-24">
<header class="nodeDecoration">
<h1 id="exenode_24_75Borradodeobjetos" class="nodeTitle">7.5.- Borrado de objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id48-24">
<div class="iDevice emphasis0">
<div id="ta48_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-copyright" style="width: 200px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R27_IconoDELETE.png" alt="Tabla con iconos de personas en cada fila y con columnas vacías. El icono de una escoba está situada sobre uno de ellos. También incluye icono de disco duro con flecha dirigido a él." title="Icono delete." class="elemento_derecha" width="200" height="160">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span>Todos los derechos reservados</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Por supuesto, no nos puede faltar una sentencia que nos permita eliminar determinados objetos almacenados en tablas. Al igual que has podido comprobar en las operaciones anteriores, tienes a tu disposición la misma sentencia que has podido utilizar en las operaciones habituales sobre tablas. En este caso de borrado de objetos deberás utilizar la sentencia <code>DELETE</code>.</p>
<p>El modo de uso de <code>DELETE</code> sobre objetos almacenados en tablas es muy similar al utilizado hasta ahora:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> NombreTablaObjetos<span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<p>Recuerda que si no se indica ninguna condición, se <strong>eliminarán todos</strong> los objetos de la tabla, por lo que suele ser habitual utilizar la sentencia <code>DELETE</code> con una condición detrás de la cláusula <code>WHERE</code>. Los objetos o filas de la tabla que <strong>cumplan con la condición</strong> indicada serán los que se eliminen.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> NombreTablaObjetos <span class="token keyword">WHERE</span> condición<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Observa el siguiente ejemplo en el que se borrarán de la tabla <code>UsuariosObj</code>, que es una tabla de objetos, los usuarios cuyo crédito sea 0. Observa que se utiliza un alias para el nombre de la tabla:</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>credito <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">De manera similar se puede realizar el borrado de filas en tablas en las que alguna de sus columnas son objetos. Puedes comprobarlo con el siguiente ejemplo, donde se utiliza la tabla <code>Gente</code>, en la que una de sus columnas (unUsuario) es del tipo de objeto <code>Usuario</code> que hemos utilizado en otros apartados anteriores.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Gente g <span class="token keyword">WHERE</span> g<span class="token punctuation">.</span>unUsuario<span class="token punctuation">.</span>credito <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Esta sentencia, al igual que las anteriores, se puede </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">combinar con otras consultas </strong><code>SELECT</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, de manera que en vez de realizar el borrado sobre una determinada tabla, se haga sobre el resultado de una consulta, o bien que la condición que determina las filas que deben ser eliminadas sea también el resultado de una consulta. Es decir, todo lo aprendido sobre las operaciones de manipulación de datos sobre las tablas habituales, se puede aplicar sobre tablas de tipos de objetos, o tablas con columnas de tipos de objetos.</span></p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-25">
<header class="nodeDecoration">
<h1 id="exenode_25_76ConsultasconlafuncinVALUE" class="nodeTitle">7.6.- Consultas con la función VALUE.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id49-25">
<div class="iDevice emphasis0">
<div id="ta49_73" class="block iDevice_content">
<p>Cuando tengas la necesidad de <strong>hacer referencia a un objeto en lugar de alguno de sus atributos</strong>, puedes utilizar la función <code>VALUE</code> junto con el nombre de la tabla de objetos o su alias, <strong>dentro de una sentencia </strong><code>SELECT</code>. Puedes ver a continuación un ejemplo de uso de dicha función para hacer inserciones en otra tabla (<code>Favoritos</code>) del mismo tipo de objetos:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Favoritos <span class="token keyword">SELECT</span> <span class="token keyword">VALUE</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>credito <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Esa misma función </span><code>VALUE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> puedes utilizarla para hacer comparaciones de igualdad entre objetos, por ejemplo, si deseamos obtener datos de los usuarios que se encuentren en las tablas <code>Favoritos</code> y <code>UsuariosObj</code>.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> u<span class="token punctuation">.</span>login <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">JOIN</span> Favoritos <span class="token number">f</span> <span class="token keyword">ON</span> <span class="token keyword">VALUE</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token number">f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Observa la diferencia en el uso cuando se hace la comparación con una columna de tipo de objetos. En ese caso la referencia que se hace a la columna (<code>g.unUsuario</code>) permite obtener directamente un objeto, sin necesidad de utilizar la función </span><code>VALUE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> g<span class="token punctuation">.</span>dni <span class="token keyword">FROM</span> Gente g <span class="token keyword">JOIN</span> Favoritos <span class="token number">f</span> <span class="token keyword">ON</span> g<span class="token punctuation">.</span>unUsuario<span class="token operator">=</span><span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token number">f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Usando la </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">cláusula</strong><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> </strong><code>INTO</code><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"></strong><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> podrás guardar en variables el objeto obtenido</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> en las consultas usando la función </span><code>VALUE</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Una vez que tengas asignado el objeto a la variable podrás hacer uso de ella de cualquiera de las formas que has visto anteriormente en la manipulación de objetos. Por ejemplo, puedes acceder a sus atributos, formar parte de asignaciones, etc.</span></p>
</div>
<p>En el siguiente ejemplo se realiza una consulta de la tabla <code>UsuariosObj</code> para obtener un determinado objeto de tipo <code>Usuario</code>. El objeto resultante de la consulta se guarda en la variable <code>u1</code>. Esa variable se utiliza para mostrar en pantalla el nombre del usuario, y para ser asignada a una segunda variable, que contendrá los mismos datos que la primera.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
	u1 Usuario<span class="token punctuation">;</span>
	u2 Usuario<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> <span class="token keyword">VALUE</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token keyword">INTO</span> u1 <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span>
	dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>u1<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
	u2 :<span class="token operator">=</span> u1<span class="token punctuation">;</span>
	dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>u2<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<pre></pre>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id50-25">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta50_47" class="block iDevice_content">
<p>En este documento del Departamento de Informática de la Universidad de Valencia puedes encontrar información general sobre las bases de datos objeto-relacionales, incluyendo información y ejemplos de la función <code>VALUE</code>:&nbsp;&nbsp;</p>
<div class="enlace_centrado"><a class="pdf" href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/Bases_de_datos_Objeto-Relacionales__Departamento_de_Informatica_Universidad_de_Valencia.pdf" title="Descargar un documento PDF con información general sobre bases de datos objeto-relacionales, incluyendo información y ejemplos de la función VALUE. [pdf - 0.20 MB] [pdf - 198,44 KB]">Bases de datos objeto-relacionales.</a><span class="exe-link-data file-size"> (pdf - 198,44 <abbr title="KiloBytes" lang="en">KB</abbr>)</span> <span class="tamano"> (0.20 MB) </span></div>
</div>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-26">
<header class="nodeDecoration">
<h1 id="exenode_26_77Referenciasaobjetos" class="nodeTitle">7.7.- Referencias a objetos.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id51-26">
<div class="iDevice emphasis0">
<div id="ta51_73" class="block iDevice_content">
<figure class="exe-figure exe-image float-right license-custom" style="width: 192px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R29_REF.png" alt="Figura de cubo con flecha apuntando a él con el texto ref." title="Icono ref." class="elemento_derecha" width="192" height="80">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" title="Accede a la web del Ministerio de Educación y FP (se abre en una ventana nueva)" rel="noopener">Ministerio de Educación</a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p><br>El paso de objetos a un método resulta ineficiente cuando se trata de objeto de gran tamaño, por lo que es más conveniente <strong>pasar un <a href="https://fpadistancia.educantabria.es/aula/pluginfile.php/156799/mod_resource/content/5/BD07_Contenidos_Imprimible/index.html#td1d7fd95-15a0-59cf-aeda-2bba7f16c2a1" id="linkd1d7fd95-15a0-59cf-aeda-2bba7f16c2a1" class="exe-tooltip definition-tt titled-tt blue-tt" data-hasqtip="6" oldtitle="puntero  | " title="">puntero</a></strong><strong> a dicho objeto</strong>, lo que permite que el método que lo recibe pueda hacer referencia a dicho objeto sin que sea necesario que se pase por completo. Ese puntero es lo que se conoce en Oracle como una <strong>referencia (</strong><code>REF</code><strong>)</strong>.</p>
<p>Al compartir un objeto mediante su referencia, <strong>los datos no son duplicados</strong>, por lo que cuando se hace cualquier cambio en los atributos del objeto, se producen en un único lugar.</p>
<p>Cada objeto almacenado en una tabla tiene un <strong>identificador de objeto</strong> que identifica de forma única al objeto guardado en una determinada fila y sirve como una referencia a dicho objeto.</p>
<p>Las referencias se crean utilizando el modificador <code>REF</code> delante del tipo de objeto, y se puede usar con variables, parámetros, campos, atributos, e incluso como variables de entrada o salida para sentencias de manipulación de datos en SQL.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> Partida <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	codigo <span class="token keyword">INTEGER</span><span class="token punctuation">,</span>
	nombre VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	usuarioCreador REF Usuario
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
 
<span class="token keyword">DECLARE</span>
	u_ref REF Usuario<span class="token punctuation">;</span>
	p1 Partida<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> REF<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token keyword">INTO</span> u_ref <span class="token keyword">FROM</span> UsuariosObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span>
	p1 :<span class="token operator">=</span> NEW Partida<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'partida1'</span><span class="token punctuation">,</span> u_ref<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Hay que tener en cuenta que sólo se pueden usar </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">referencias a tipos de objetos que han sido declarados previamente</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Siguiendo el ejemplo anterior, no se podría declarar el tipo Partida antes que el tipo Usuario, ya que dentro del tipo Partida se utiliza una referencia al tipo Usuario. Por tanto, primero debe estar declarado el tipo Usuario y luego el tipo Partida.</span></p>
</div>
<p>El problema surge cuando tengamos dos tipos que utilizan referencias mutuas. Es decir, un atributo del primer tipo hace referencia a un objeto del segundo tipo, y viceversa. Esto se puede solucionar haciendo una <strong>declaración de tipo anticipada</strong>. Se realiza indicando únicamente el nombre del tipo de objeto que se detallará más adelante:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> tipo2<span class="token punctuation">;</span>
<span class="token operator">/</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> tipo1 <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	tipo2_ref REF tipo2
	<span class="token comment" spellcheck="true">/*Declaración del resto de atributos del tipo1*/</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">TYPE</span> tipo2 <span class="token keyword">AS</span> OBJECT <span class="token punctuation">(</span>
	tipo1_ref REF tipo1
	<span class="token comment" spellcheck="true">/*Declaración del resto de atributos del tipo2*/</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span></code></pre>
</div>
</div>
<pre></pre>
</div>
<div id="td1d7fd95-15a0-59cf-aeda-2bba7f16c2a1" class="exe-tooltip-text">
<p>Variable que hace referencia (apunta) a un objeto de la base de datos.</p>
</div>
</div>
</div>
</article>
</article>
<article class="node level-3-node" id="exe-node-27">
<header class="nodeDecoration">
<h1 id="exenode_27_78Navegacinatravsdereferencias" class="nodeTitle">7.8.- Navegación a través de referencias.</h1>
</header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id52-27">
<div class="iDevice emphasis0">
<div id="ta52_73" class="block iDevice_content">
<p>Debes tener en cuenta que <strong>no se puede acceder directamente a los atributos de un objeto referenciado que se encuentre almacenado en una tabla</strong>. Para ello, puedes utilizar la función&nbsp;<code>DEREF</code>.</p>
<figure class="exe-figure exe-image float-right license-custom" style="width: 200px;"><img src="./BD07 - Uso de bases de datos objeto-relacionales_files/BD07_CONT_R30_DEREF.png" alt="Figura de cubo con flecha apuntando hacia el texto deref en el exterior del cubo." title="Icono deref" width="200" height="72">
<figcaption class="figcaption"><a href="https://www.educacionyfp.gob.es/portada.html" target="_blank" class="author" rel="noopener">Ministerio de Educación. </a> <span class="license"><span class="sep">(</span><span class="custom-license">Uso Educativo nc</span><span class="sep">)</span></span></figcaption>
</figure>
<p>Esta función <strong>toma una referencia a un objeto y retorna el valor</strong> de ese objeto.</p>
<p>Vamos a verlo en un ejemplo suponiendo que disponemos de las siguientes variable declaradas:</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql">u_ref REF Usuario<span class="token punctuation">;</span>
u1 Usuario<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Si <code>u_ref</code> hace referencia a un objeto de tipo <code>Usuario</code> que se encuentra en la tabla <code>UsuariosObj</code>, para obtener información sobre alguno de los atributos de dicho objeto referenciado, hay que utilizar la función </span><code>DEREF</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">.</span></p>
</div>
<p>Esta función se utiliza <strong>como parte de una consulta </strong><code>SELECT</code>, por lo que hay que utilizar una tabla tras la cláusula <code>FROM</code>. Esto puede resultar algo confuso, ya que las referencias a objetos apuntan directamente a un objeto concreto que se encuentra almacenado en una determinada tabla. Por tanto, no debería ser necesario indicar de nuevo en qué tabla se encuentra. Realmente es así. Podemos hacer referencia a cualquier tabla en la consulta, y la función <code>DEREF</code> nos devolverá el objeto referenciado que se encuentra en su tabla correspondiente.</p>
<p>La base de datos de Oracle ofrece la <strong>tabla </strong><code>DUAL</code> para este tipo de operaciones. Esta tabla es creada de forma automática por la base de datos, es accesible por todos los usuarios, y <strong>tiene un solo campo y un solo registro</strong>. Por tanto, es como una tabla comodín.</p>
<div>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">SELECT</span> DEREF<span class="token punctuation">(</span>u_ref<span class="token punctuation">)</span> <span class="token keyword">INTO</span> u1 <span class="token keyword">FROM</span> Dual<span class="token punctuation">;</span>
dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>u1<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</div>
</div>
<p><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">Por tanto, para obtener el objeto referenciado por una variable </span><code>REF</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, debes </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">utilizar una consulta sobre cualquier tabla</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">, independientemente de la tabla en la que se encuentre el objeto referenciado. Sólo existe la condición de que siempre se obtenga una solo fila como resultado. Lo más </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">cómodo es utilizar esa tabla </strong><code>DUAL</code><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">. Aunque se use esa tabla comodín, </span><strong style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;">el resultado será un objeto</strong><span style="font-family: HelveticaNeue-Light, &#39;Helvetica Neue Light&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, &#39;Lucida Grande&#39;, sans-serif; font-size: 1em;"> almacenado en la tabla UsuariosObj.</span></p>
<div class="highlighted-code code-style-2 language-sql">
<div>
<pre class="  language-sql"><code class="  language-sql"><span class="token keyword">DECLARE</span>
US USUARIO<span class="token punctuation">;</span>
U_REF REF USUARIO<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
<span class="token keyword">SELECT</span> REF<span class="token punctuation">(</span>U<span class="token punctuation">)</span> <span class="token keyword">INTO</span> U_REF <span class="token keyword">FROM</span> UsuObj u <span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>login <span class="token operator">=</span> <span class="token string">'luitom64'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DEREF<span class="token punctuation">(</span>u_ref<span class="token punctuation">)</span> <span class="token keyword">INTO</span> us <span class="token keyword">FROM</span> dual<span class="token punctuation">;</span>
dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>us<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p></p>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id53-27">
<div class="iDevice emphasis_parasabermasfpd">
<header class="iDevice_header" style="background-image:url(icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta53_47" class="block iDevice_content">
<p>En este documento puedes encontrar información general sobre todo lo tratado en esta unidad, incluyendo ejemplos de tablas de objetos con uso de referencias:</p>
<div class="enlace_centrado"><a class="pdf" href="http://www3.uji.es/~mmarques/e16/teoria/lib_cap9.pdf" title="Descargar un documento PDF con información general sobre bases de datos objeto-relacionales, y ejemplos de uso de tablas de objetos con referencias. [pdf - 0.06 MB]" target="_self">Bases de Datos Objeto-Relacionales en Oracle .</a> <span class="tamano"> (0.06 MB) </span></div>
</div>
</div>
</div>
</div>
</article>
</article>
</section>


</div>
<script type="text/javascript" src="./BD07 - Uso de bases de datos objeto-relacionales_files/_fpd_js.js.descarga"></script>
</body></html>